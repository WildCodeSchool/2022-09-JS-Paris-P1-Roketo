(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9460],{60937:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment2",function(){return t(56590)}])},11291:function(e,n,t){"use strict";t.d(n,{q:function(){return A},J:function(){return _}});var r=t(26042),i=t(99534),a=t(10253),o=t(35944),l=t(51438),s=t(28668),c=t(25171),u=t(78120),d=t(47421),p=t(52027),f=t.n(p),m=f().DIFF_DELETE,h=f().DIFF_INSERT,v=f().DIFF_EQUAL;function g(e){return e.split("\n").length-1}function b(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===n)return 0;var r=e.indexOf("\n",t);return-1===r?null:1===n?r+1:b(e,n-1,r+1)}function y(e,n,t){if(e>0){var r=b(t,n);if(null!==r)return{lineNumber:n,character:r,padding:e}}return null}function Z(e,n){for(var t,r,i=function(e,n){var t=new(f()),r=t.diff_linesToChars_(e,n),i=r.chars1,a=r.chars2,o=r.lineArray,l=t.diff_main(i,a,!1);return t.diff_charsToLines_(l,o),l}(e+((t="\n"===e[e.length-1])?"":"\n"),n+((r="\n"===n[n.length-1])?"":"\n")),o=0,l=0,s=[],c=[],u=[],d=[],p=0,b=0,Z=0;Z<i.length;Z++){var x=(0,a.Z)(i[Z],2),w=x[0],k=g(x[1]);switch(w){case m:var P,I=(0,a.Z)(null!==(P=i[Z+1])&&void 0!==P?P:[],2),S=I[0],T=I[1];o+=k;for(var C=0;C<k;C++)s.push(o-C);var E=k;S===h&&(E-=g(T));var R=y(E,l,n);R&&d.push(R);break;case h:var D,U=(0,a.Z)(null!==(D=i[Z-1])&&void 0!==D?D:[],2),M=U[0],j=U[1];l+=k;for(var _=0;_<k;_++)c.push(l-_);var A=k;M===m&&(A-=g(j));var B=y(A,o,e);B&&u.push(B);break;case v:l>b&&(b=l),o>p&&(p=o),o+=k,l+=k}}var G=u.filter((function(e){return e.lineNumber<b})),L=d.filter((function(e){return e.lineNumber<p}));return{leftPadded:G,rightPadded:L,leftColored:s,rightColored:c,changedTrailingNewline:t!==r,leftTrailingNewline:t,rightTrailingNewline:r}}var x=d.tk.baseTheme({".cm-diff-inserted":{backgroundColor:"#0053A644",borderLeft:"#0053A6 solid 3px"},".cm-diff-deleted":{backgroundColor:"#c93c3733",borderLeft:"#c93c37 solid 3px"}}),w=d.p.line({attributes:{class:"cm-diff-inserted"}}),k=d.p.line({attributes:{class:"cm-diff-deleted"}}),P=u.Py.define({map:function(e,n){return e.map(n)}}),I=function(e){(0,s.Z)(t,e);var n=(0,c.Z)(t);function t(){return(0,l.Z)(this,t),n.apply(this,arguments)}var r=t.prototype;return r.toDOM=function(){var e=document.createElement("div");return e.className="cm-diff-alignment cm-line",e.innerHTML="&nbsp;",e},r.ignoreEvent=function(){return!1},t}(d.l9);function S(e){var n=new u.f_,t=new I;e.sort((function(e,n){return e.character-n.character}));var r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)for(var s=o.value,c=s.character,p=s.padding,f=0;f<p;f++)n.add(c,c,d.p.widget({widget:t,side:-1,block:!0}))}catch(m){i=!0,a=m}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n.finish()}function T(e){var n=e.coloredLines,t=e.colorDecoration,r=d.lg.fromClass((function e(r){(0,l.Z)(this,e);var i=new u.f_,a=!0,o=!1,s=void 0;try{for(var c,d=n[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var p=c.value,f=r.state.doc.line(p);i.add(f.from,f.from,t)}}catch(m){o=!0,s=m}finally{try{a||null==d.return||d.return()}finally{if(o)throw s}}this.decorations=i.finish()}),{decorations:function(e){return e.decorations}}),i=u.QQ.define({create:function(){return d.p.none},update:function(e,n){var t=!0,r=!1,i=void 0;try{for(var a,o=n.effects[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var l=a.value;if(l.is(P))return l.value}}catch(s){r=!0,i=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n.docChanged?e.map(n.changes):e},provide:function(e){return d.tk.decorations.from(e)}});return[x,r,i]}var C=function(){var e=function(e,n){return d.tk.domEventHandlers({scroll:function(t,r){if(r===e&&t.target){var i=t.target;if(i.scrollTop){var a=i.scrollTop;n.scrollDOM.scrollTo({top:a})}}}})},n=new u.F6,t=new u.F6;return{extensions:function(){return{right:n.of([]),left:t.of([])}},setup:function(r,i){r.dispatch({effects:t.reconfigure(e(r,i))}),i.dispatch({effects:n.reconfigure(e(i,r))})}}},E=t(67294),R=t(61134),D=t(78244),U=C(),M=U.extensions,j=U.setup;function _(e){var n=e.left,t=e.right,o=n.code,l=(0,i.Z)(n,["code"]),s=t.code,c=(0,i.Z)(t,["code"]),d=(0,R.Z)((0,r.Z)({readOnly:!0,lineWrapping:!1,initialDoc:o,extensions:[M().left]},l)),p=d.view,f=d.ref,m=(0,R.Z)((0,r.Z)({readOnly:!0,lineWrapping:!1,initialDoc:s,extensions:[M().right]},c)),h=m.view,v=m.ref,g=(0,a.Z)(E.useState(!1),2),b=g[0],y=g[1],x=(0,a.Z)(E.useState(!1),2),I=x[0],C=x[1];return E.useEffect((function(){if(p&&h&&b&&I){var e=setTimeout((function(){j(p,h),function(e,n){var t=Z(e.state.doc.sliceString(0),n.state.doc.sliceString(0));e.dispatch({effects:[u.Py.appendConfig.of(T({coloredLines:t.leftColored.sort((function(e,n){return e-n})),colorDecoration:k})),P.of(S(t.leftPadded))]}),n.dispatch({effects:[u.Py.appendConfig.of(T({coloredLines:t.rightColored.sort((function(e,n){return e-n})),colorDecoration:w})),P.of(S(t.rightPadded))]})}(p,h)}));return function(){return clearTimeout(e)}}}),[p,h,b,I]),E.useEffect((function(){p&&(p.dispatch({changes:{from:0,to:p.state.doc.length,insert:o}}),y(!0))}),[o,p]),E.useEffect((function(){h&&(h.dispatch({changes:{from:0,to:h.state.doc.length,insert:s}}),C(!0))}),[s,h]),{left:{view:p,ref:f,code:o,options:l,ready:b},right:{view:h,ref:v,code:s,options:c,ready:I}}}function A(e){var n,t=e.diffViewer,a=(0,i.Z)(e,["diffViewer"]);return(0,o.BX)(o.HY,{children:[(0,o.tZ)("div",{css:{height:t.ready?0:"auto"},ref:t.ref}),!t.ready&&(0,o.tZ)(D.P,(0,r.Z)({code:null!==(n=t.code)&&void 0!==n?n:""},t.options,a))]})}},42699:function(e,n,t){"use strict";t.d(n,{l:function(){return a},x:function(){return i}});var r=t(86292),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},a=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},21767:function(e,n,t){"use strict";t.d(n,{Y:function(){return a}});var r=t(7297);function i(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return i=function(){return e},e}var a=(0,t(31230).ZP)(i())},52008:function(e,n,t){"use strict";t.d(n,{JM:function(){return p},SL:function(){return u}});var r=t(26042),i=t(7297),a=t(31230),o=t(46829);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironment2CurrentUserLayoutFlags on CurrentUser {\n    id\n    flagSaveLayoutState: gate(feature: "flag-save-layout-state")\n    flagThreadsPane: gate(feature: "flag-threads-pane")\n    flagThreads2: gate(feature: "flag-threads-2")\n    flagGhostrunner: gate(feature: "flag-ghostrunner")\n  }\n']);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query ReplEnvironment2LayoutFlags {\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUserLayoutFlags\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,a.ZP)(l()),d=(0,a.ZP)(s(),u);function p(e){var n=(0,r.Z)({},c,e);return o.useQuery(d,n)}},79611:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(67294),i=t(11163);function a(e,n){var t=(0,i.useRouter)();(0,r.useEffect)((function(){}),[e,t]),(0,r.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,a=n.split("/")[1].slice(1);t.replace({pathname:"/expiredPrivateRepl",query:{isOwner:i,ownerUsername:a,replId:r}},t.asPath)}}),[e,t,n])}},19923:function(e,n,t){"use strict";t.d(n,{Gp:function(){return D},Oh:function(){return q},V3:function(){return G},Xl:function(){return N},Yd:function(){return X},_b:function(){return $},gX:function(){return ee},h2:function(){return A},on:function(){return M},q7:function(){return Q},vs:function(){return E},w9:function(){return F},zp:function(){return H}});var r=t(26042),i=t(7297),a=t(31230),o=t(7900),l=t(46829);function s(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(['\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n    hideTeamRepls: gate(\n      feature: "flag-filter-team-repls"\n      subscriptionType: EDUCATION\n    )\n  }\n  ',"\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function k(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function P(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function I(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return I=function(){return e},e}var S={},T=(0,a.ZP)(s()),C=(0,a.ZP)(c(),T,o.Pc),E=(0,a.ZP)(u(),C),R=(0,a.ZP)(d(),E),D=(0,a.ZP)(p(),R),U=(0,a.ZP)(f(),R),M=(0,a.ZP)(m(),R),j=(0,a.ZP)(h(),C),_=(0,a.ZP)(v(),U);function A(e){var n=(0,r.Z)({},S,e);return l.useQuery(_,n)}var B=(0,a.ZP)(g(),D);function G(e){var n=(0,r.Z)({},S,e);return l.useQuery(B,n)}var L=(0,a.ZP)(b());function N(e){var n=(0,r.Z)({},S,e);return l.useMutation(L,n)}var O=(0,a.ZP)(y());function X(e){var n=(0,r.Z)({},S,e);return l.useMutation(O,n)}var z=(0,a.ZP)(Z(),M);function F(e){var n=(0,r.Z)({},S,e);return l.useMutation(z,n)}var W=(0,a.ZP)(x(),E);function H(e){var n=(0,r.Z)({},S,e);return l.useMutation(W,n)}var V=(0,a.ZP)(w(),D);function $(e){var n=(0,r.Z)({},S,e);return l.useMutation(V,n)}var K=(0,a.ZP)(k(),E);function q(e){var n=(0,r.Z)({},S,e);return l.useMutation(K,n)}var Y=(0,a.ZP)(P(),E);function Q(e){var n=(0,r.Z)({},S,e);return l.useMutation(Y,n)}var J=(0,a.ZP)(I(),j);function ee(e){var n=(0,r.Z)({},S,e);return l.useMutation(J,n)}},26082:function(e,n,t){"use strict";var r=t(5152),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(4885),t.e(8966),t.e(5499),t.e(6063),t.e(1432)]).then(t.bind(t,87068)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[87068]}}})},54677:function(e,n,t){"use strict";t.d(n,{qC:function(){return u}});var r=t(26042),i=t(7297),a=t(31230),o=t(46829);function l(){var e=(0,i.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return l=function(){return e},e}var s={},c=(0,a.ZP)(l());function u(e){var n=(0,r.Z)({},s,e);return o.useQuery(c,n)}},43832:function(e,n,t){"use strict";t.d(n,{I$:function(){return y},Du:function(){return Z},Cd:function(){return w}});var r=t(26042),i=t(7297),a=t(31230),o=t(9523),l=t(52008),s=t(65711),c=t(6695);function u(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return d=function(){return e},e}var p=(0,a.ZP)(u()),f=(0,a.ZP)(d(),c.s),m=t(46829);function h(){var e=(0,i.Z)(['\n  fragment ReplEnvironment2CurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    ...CrosisContextCurrentUser\n    ...ReplEnvironment2CurrentUserLayoutFlags\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    flagFiletreeSearch: gate(feature: "flag-filetree-search")\n    ...ReplEnvironmentHeaderLeftCurrentUser\n  }\n  ',"\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2Repl on Repl {\n    id\n    title\n    layoutState\n    description\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n    }\n    lesson {\n      id\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query ReplEnvironment2($url: String!) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...CrosisContextRepl\n        ...ReplEnvironment2Repl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return g=function(){return e},e}var b={},y=(0,a.ZP)(h(),o.D,l.SL,s.wO,p),Z=(0,a.ZP)(v(),o.C,f),x=(0,a.ZP)(g(),o.C,Z,y);function w(e){var n=(0,r.Z)({},b,e);return m.useQuery(x,n)}},56590:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ld}});var r=t(47568),i=t(10253),a=t(34051),o=t.n(a),l=t(35944),s=t(67294),c=t(91131),u=t(11163),d=t(22862),p=t(70338),f=t(78738),m=t(15519),h=t(43832),v=t(65975),g=t(61756),b=t(1879),y=t(67629),Z=t(69346),x=t(1144),w=t(81255),k=t(88075);var P=function(e){return(0,l.tZ)(b.Z,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,l.BX)(Z.ZP,{css:[w.l0.colWithGap(24)],children:[(0,l.tZ)(x.h,{variant:"headerDefault",level:2,css:w.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,l.tZ)(x.x,{multiline:!0,children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(12),w.l0.justify.end],children:[(0,l.tZ)(g.ZP,{onClick:e.onCancel,text:"Deny",iconLeft:(0,l.tZ)(y.Z,{})}),(0,l.tZ)(g.ZP,{text:"Allow notifications",colorway:"positive",iconLeft:(0,l.tZ)(k.Z,{}),onClick:e.onConfirm})]})]})})},I=t(92098),S=t(86292),T=t(90317),C=t(26042),E=t(7297),R=t(31230),D=t(46829);function U(){var e=(0,E.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return U=function(){return e},e}function M(){var e=(0,E.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return M=function(){return e},e}var j={},_=(0,R.ZP)(U()),A=(0,R.ZP)(M());var B=t(6695);function G(){var e=(0,E.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n  }\n"]);return G=function(){return e},e}function L(){var e=(0,E.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    isAlwaysOn\n    isOwner\n    isPrivate\n    workspaceCta\n    rootOriginReplUrl\n    lang {\n      id\n      engine\n    }\n    origin {\n      id\n    }\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n      containerWrite\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function N(){var e=(0,E.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var O={},X=(0,R.ZP)(G()),z=(0,R.ZP)(L(),_),F=(0,R.ZP)(N(),z,B.s,X);var W=t(26473),H=t(99408),V=t(58502),$=t(83475),K=t(60536),q=t.n(K),Y=t(54677),Q=t(57263),J=t(69396),ee=t(57731),ne=t(66060);function te(e){var n=function(){e.canClick&&e.onClick&&e.onClick({username:e.username,id:e.id})};return(0,l.tZ)(ne.ZP,{placement:"bottom",tooltip:"Observe ".concat(e.username),children:function(t,r){return(0,l.tZ)(Z.ZP,(0,J.Z)((0,C.Z)({},t),{innerRef:r,onClick:n,children:(0,l.tZ)(ee.Z,{size:e.size||35,src:e.image,alt:e.username,css:[e.canClick&&w.l0.cursor.pointer,{transition:"all 0.2s ease",border:"2px solid "+e.color,"&:hover":{filter:"brightness(95%)",boxShadow:w.TV.shadow1}}]})}))}})}var re=t(94184),ie=t.n(re),ae=t(77365);function oe(){var e=(0,E.Z)(["\n  fragment UserListModalUser on User {\n    id\n    username\n    image\n  }\n"]);return oe=function(){return e},e}function le(){var e=(0,E.Z)(["\n  fragment UserListModalReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...UserListModalUser\n    }\n  }\n  ","\n"]);return le=function(){return e},e}function se(){var e=(0,E.Z)(["\n  query UserListModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UserListModalUser\n        }\n        permissions {\n          id\n          ...UserListModalReplPermission\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n  ","\n"]);return se=function(){return e},e}var ce={},ue=(0,R.ZP)(oe()),de=(0,R.ZP)(le(),ue),pe=(0,R.ZP)(se(),ue,de);var fe=t(63377);function me(){var e=(0,H.Z)(),n=e.session,t=e.presence;return s.useCallback((function(e){var r=e.username,i=e.id,a=t.getFollowedUser();if((null===a||void 0===a?void 0:a.username)!==r){t.followUser(r);var o=t.getActiveFileForUser(i),l=n.getActiveFile();o&&o!==l&&n.openFile(o)}else t.unfollowUser()}),[n,t])}var he=t(34140);function ve(e){var n=e.hideModal,t=e.onUserClick,r=e.isOpen,i=(0,fe.Z)(),a=(0,H.Z)().presence,o=(0,V.Z)({presence:a});return(0,l.tZ)(v.u_,{isOpen:r,onRequestClose:n,children:(0,l.tZ)(be,{replId:i,onUserClick:t,activeUsers:o,hideModal:n})})}function ge(e,n){return n.some((function(n){return n.id===e}))}function be(e){var n=e.replId,t=e.activeUsers,r=e.onUserClick,i=e.hideModal,a=function(e){var n=(0,C.Z)({},ce,e);return D.useQuery(pe,n)}({variables:{replId:n}}),o=a.data,s=a.loading,c=a.error;if(s)return(0,l.tZ)(v.G7,{css:[v.l0.flex.row,v.l0.justify.center,v.l0.p(32)],children:(0,l.tZ)(ae.Z,{})});if(c)return(0,l.tZ)("div",{children:c.message});if("Repl"===(null===o||void 0===o?void 0:o.repl.__typename)){var u=o.repl,d=o.currentUser,p=u.user,f=p&&t.find((function(e){return e.username===p.username})),m=u.permissions.filter((function(e){var n=e.user;return n&&ge(n.id,t)})),h=u.permissions.filter((function(e){var n=e.user;return n&&!ge(n.id,t)}));return(0,l.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,l.tZ)(v.h4,{level:1,variant:"headerDefault",children:"Multiplayers"}),(0,l.tZ)(v.xv,{multiline:!0,children:"Users can interact with this Repl in real time."}),(0,l.tZ)(v.G7,{css:[v.l0.maxHeight(330),{overflowY:"auto"}],children:(0,l.BX)(v.G7,{children:[p?(0,l.tZ)(Ze,(0,J.Z)((0,C.Z)({},p),{onClick:r,isOnline:Boolean(f),color:f?f.color:"transparent",isOwner:!0,hideModal:i,canClickAvatar:Boolean(f)&&p.id!==(null===d||void 0===d?void 0:d.id),type:T.aQ.Rw})):null,m.map((function(e){var n=e.type,a=e.user;if(!a)throw new Error("Expected user");var o=t.find((function(e){return e.username===a.username}));if(!o)throw new Error("Expected user online");var s=a.id!==(null===d||void 0===d?void 0:d.id);return(0,l.tZ)(Ze,(0,J.Z)((0,C.Z)({onClick:r,type:n},a),{isOnline:!0,canClickAvatar:s,color:o.color,hideModal:i,isOwner:!1}),"chat-user-list-".concat(a.username))})),h.map((function(e){var n=e.type,t=e.user;if(!t)throw new Error("Expected user");return(0,l.tZ)(Ze,(0,J.Z)((0,C.Z)({onClick:r,type:n},t),{canClickAvatar:!1,isOnline:!1,color:"transparent",hideModal:i,isOwner:!1}),"chat-user-list-".concat(t.username))}))]})})]})}return"ReplRedirect"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,l.BX)("div",{children:["This Repl has moved to"," ",(0,l.tZ)("a",{href:o.repl.replUrl,children:o.repl.replUrl})]}):"SubscriptionExpiredError"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,l.BX)("div",{children:["Your subscription has expired.",(0,l.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null}var ye={r:"read only",rw:"can edit"};function Ze(e){var n=e.type,t=e.id,r=e.username,i=e.image,a=e.isOnline,o=e.isOwner,s=e.color,c=e.onClick,u=e.hideModal,d=e.canClickAvatar,p=me(),f=function(){d&&(p({username:r,id:t}),u())};return(0,l.BX)("div",{className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]])+" "+(ie()("user-list-item-wrapper",{online:a})||""),children:[(0,l.BX)("div",{role:"button",onClick:f,onKeyDown:f,tabIndex:0,className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]])+" image",children:[(0,l.tZ)("img",{src:i,alt:"",className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]])+" "+((a?"":"offline")||"")}),(0,l.BX)(he.T,{children:["Observe ",r]})]}),(0,l.BX)("div",{className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]])+" info",children:[(0,l.BX)("div",{className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]]),children:[(0,l.BX)("a",{href:"/@".concat(r),target:"_blank",onClick:c,className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]]),children:["@",r]}),!a&&" (offline)"]}),(0,l.tZ)("div",{className:q().dynamic([["8abf4fce485dcead",[d?"pointer":"auto",s]]]),children:o?"owner":ye[n]})]}),(0,l.tZ)(q(),{id:"8abf4fce485dcead",dynamic:[d?"pointer":"auto",s],children:".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:".concat(d?"pointer":"auto","}img.__jsx-style-dynamic-selector{width:40px;height:40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:3px solid ").concat(s,";background:white;-o-object-fit:cover;object-fit:cover}.info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--space-8)}img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-box-ordinal-group:1;-ms-flex-order:0;order:0}")})]})}function xe(e){var n=(0,i.Z)(s.useState(!1),2),t=n[0],r=n[1],a=(0,fe.Z)(),o=(0,Y.qC)({variables:{ids:e.users.map((function(e){return e.id}))},ssr:!1,skip:!e.users.length}),c=o.data,u=o.loading,d=o.error,p=e.users.reduce((function(e,n){return e[n.id]=n.color,e}),{});if(u)return null;if(d)return null;if(!(null===c||void 0===c?void 0:c.currentUser))return null;var f=c.usersByIds,m=c.currentUser,h=f.filter((function(e){return e.id!==m.id})),g=h.length-3;return(0,l.BX)(v.G7,{tag:"ul",className:"multiplayer-users-container",css:[v.l0.px(8),v.l0.rowWithGap(4),v.l0.align.center],"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[g>0?(0,l.tZ)("li",{className:q().dynamic([["9e6f75ce31331994",[Q.j.mobileMax+100]]]),children:(0,l.tZ)(v.zx,{onClick:function(){return r(!0)},text:"+ ".concat(g),css:{background:"none"}})}):null,h.slice(0,3).map((function(n){return(0,l.tZ)("li",{className:q().dynamic([["9e6f75ce31331994",[Q.j.mobileMax+100]]]),children:(0,l.tZ)(te,{id:n.id,username:n.username,image:n.image,color:p[n.id],onClick:e.onAvatarClick,canClick:!0})},n.id)})),(0,l.tZ)(ve,{isOpen:t,hideModal:function(){return r(!1)},onUserClick:function(){(0,S.j)(S.U3.MP2_VISITED_PROFILE,{replId:a,from:"OnlineUsers"})}}),(0,l.tZ)(q(),{id:"9e6f75ce31331994",dynamic:[Q.j.mobileMax+100],children:".multiplayer-users-container.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style-type:none}@media only screen and (max-width:".concat(Q.j.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none}}")})]})}var we=t(34193),ke=t(29815);function Pe(){var e=(0,E.Z)(["\n  fragment MultiplayerUser on User {\n    id\n    image\n    username\n  }\n"]);return Pe=function(){return e},e}function Ie(){var e=(0,E.Z)(["\n  fragment MultiplayerReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...MultiplayerUser\n    }\n  }\n  ","\n"]);return Ie=function(){return e},e}function Se(){var e=(0,E.Z)(["\n  query MultiplayerManageTeamMultiplayers($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n        currentUserPermissions {\n          editMultiplayers\n          inviteGuests\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n        owner {\n          ... on User {\n            id\n          }\n          ... on Team {\n            id\n            members {\n              id\n              permissions\n              user {\n                id\n                ...MultiplayerUser\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Se=function(){return e},e}function Te(){var e=(0,E.Z)(["\n  mutation MultiplayerManageTeamMultiplayersAddMultiplayerUser(\n    $replId: String!\n    $username: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(replId: $replId, username: $username, type: $type) {\n      id\n      type\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Te=function(){return e},e}function Ce(){var e=(0,E.Z)(["\n  mutation MultiplayerManageTeamMultiplayersRemoveMultiplayerUser(\n    $replId: String!\n    $username: String!\n  ) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ce=function(){return e},e}var Ee={},Re=(0,R.ZP)(Pe()),De=(0,R.ZP)(Ie(),Re),Ue=(0,R.ZP)(Se(),De,Re);var Me=(0,R.ZP)(Te(),Re,De);var je=(0,R.ZP)(Ce(),Re,De);function _e(){var e=(0,E.Z)(["\n  fragment MultiplayerControlUser on User {\n    id\n    image\n    username\n    url\n  }\n"]);return _e=function(){return e},e}function Ae(){var e=(0,E.Z)(["\n  fragment MultiplayerControlReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...MultiplayerControlUser\n    }\n  }\n  ","\n"]);return Ae=function(){return e},e}function Be(){var e=(0,E.Z)(["\n  fragment MultiplayerControlEmailInviteReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      image\n      username\n      url\n    }\n  }\n"]);return Be=function(){return e},e}function Ge(){var e=(0,E.Z)(["\n  query MultiplayerControl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        permissions {\n          id\n          ...MultiplayerReplPermission\n        }\n        currentUserPermissions {\n          editMultiplayers\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n    currentUser {\n      id\n      isSubscribed\n    }\n  }\n  ","\n"]);return Ge=function(){return e},e}function Le(){var e=(0,E.Z)(["\n  mutation MultiplayerControlAddMultiplayerUser(\n    $replId: String!\n    $username: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(replId: $replId, username: $username, type: $type) {\n      id\n      type\n      user {\n        id\n        ...MultiplayerControlUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerControlReplPermission\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Le=function(){return e},e}function Ne(){var e=(0,E.Z)(["\n  mutation MultiplayerControlRemoveMultiplayerUser(\n    $replId: String!\n    $username: String!\n  ) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerControlUser\n      }\n      repl {\n        id\n        permissions {\n          id\n          ...MultiplayerControlReplPermission\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ne=function(){return e},e}function Oe(){var e=(0,E.Z)(["\n  mutation MultiplayerControlCreateMultiplayerInvite(\n    $replId: String!\n    $email: String!\n    $type: String!\n  ) {\n    createMultiplayerInvite2(replId: $replId, email: $email, type: $type) {\n      ... on MultiplayerInvite {\n        email\n        repl {\n          id\n          permissions {\n            id\n            ...MultiplayerReplPermission\n          }\n          multiplayerInvites {\n            email\n            type\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on ReplPermission {\n        id\n        ...MultiplayerControlEmailInviteReplPermission\n      }\n    }\n  }\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Xe(){var e=(0,E.Z)(["\n  mutation MultiplayerControlDeleteMultiplayerInvite(\n    $replId: String!\n    $email: String!\n  ) {\n    deleteMultiplayerInvite(replId: $replId, email: $email) {\n      ... on MultiplayerInvite {\n        email\n        type\n        repl {\n          id\n          permissions {\n            id\n            ...MultiplayerReplPermission\n          }\n          multiplayerInvites {\n            email\n            type\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Xe=function(){return e},e}var ze={},Fe=(0,R.ZP)(_e()),We=(0,R.ZP)(Ae(),Fe),He=(0,R.ZP)(Be()),Ve=(0,R.ZP)(Ge(),De);var $e=(0,R.ZP)(Le(),Fe,We);var Ke=(0,R.ZP)(Ne(),Fe,We);var qe=(0,R.ZP)(Oe(),De,He);function Ye(e){var n=(0,C.Z)({},ze,e);return D.useMutation(qe,n)}var Qe=(0,R.ZP)(Xe(),De);function Je(e){var n=(0,C.Z)({},ze,e);return D.useMutation(Qe,n)}var en=t(19526),nn=t(18757),tn=t(64184),rn=t(82893),an=t(28898),on=t(93058),ln=t(92002),sn=t(30019),cn=t(44781),un=t(27206),dn=t(50009),pn=t(3218),fn=t(96594),mn=t(6951),hn=t(24351);function vn(){var e=(0,E.Z)(["\n  fragment MultiplayerUsernameSearchUser on User {\n    id\n    firstName\n    lastName\n    username\n    image\n  }\n"]);return vn=function(){return e},e}function gn(){var e=(0,E.Z)(["\n  query MultiplayerUsernameSearch($query: String!, $limit: Int) {\n    usernameSearch(query: $query, limit: $limit) {\n      id\n      ...MultiplayerUsernameSearchUser\n    }\n  }\n  ","\n"]);return gn=function(){return e},e}var bn={},yn=(0,R.ZP)(vn()),Zn=(0,R.ZP)(gn(),yn);function xn(e){var n=e.onSubmit,t=e.existingUsernames,r=e.isDisabled,a=e.onChange,o=e.placeholder,c=(0,i.Z)(s.useState(""),2),u=c[0],d=c[1],p=!!u.match(/.+@.+/),f=(0,hn.Z)(u.trim().replace(/^@/,""),250),m=function(e){var n=(0,C.Z)({},bn,e);return D.useQuery(Zn,n)}({skip:!f||p,variables:{query:f,limit:6}}),h=m.data,v=m.loading,g=m.error,b=(0,on.Z)().showError;s.useEffect((function(){g&&b(g.message)}),[g,b]);var y=null===h||void 0===h?void 0:h.usernameSearch;return(0,l.BX)("form",{onSubmit:function(e){e.preventDefault(),n(u),d("")},className:"jsx-d408485a86637a91",children:[(0,l.BX)("div",{className:"jsx-d408485a86637a91 form-content",children:[(0,l.tZ)(fn.ZP,{onChange:function(e){e&&d(e.username)},itemToString:function(e){return(null===e||void 0===e?void 0:e.username)||""},initialHighlightedIndex:0,defaultHighlightedIndex:0,children:function(e){var r=e.getInputProps,i=e.getItemProps,s=e.getMenuProps,c=e.isOpen,p=e.highlightedIndex;return(0,l.BX)("div",{className:"jsx-d408485a86637a91 dropdown",children:[(0,l.tZ)(un.ZP,(0,C.Z)({},r({ref:null,value:u,onChange:function(e){d(e.currentTarget.value),null===a||void 0===a||a(e.currentTarget.value)},placeholder:null!==o&&void 0!==o?o:"Search by username or invite by email",autoComplete:"off",onKeyDown:function(e){"Enter"===e.key&&u.match(/.+@.+/)&&(n(u),d(""),e.currentTarget.blur())}}))),(0,l.BX)("div",(0,J.Z)((0,C.Z)({},s()),{className:"jsx-d408485a86637a91",children:[c&&y&&y.length?(0,l.tZ)("div",{className:"jsx-d408485a86637a91 dropdown-menu",children:y.map((function(e,n){return(0,l.tZ)("div",(0,J.Z)((0,C.Z)({},i({item:e,index:n})),{className:"jsx-d408485a86637a91 "+(ie()("result",{"is-active":p===n})||""),children:(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(an.Z,{size:"s",url:e.image}),(0,l.tZ)("div",{className:"jsx-d408485a86637a91",children:e.username}),t.includes(e.username)?(0,l.tZ)("div",{className:"jsx-d408485a86637a91 check-icon",children:(0,l.tZ)(k.Z,{})}):null]})}),e.username)}))}):null,c&&v?(0,l.tZ)("div",{className:"jsx-d408485a86637a91 dropdown-menu is-loading",children:"loading..."}):null,c&&y&&0===y.length?(0,l.BX)("div",{className:"jsx-d408485a86637a91 dropdown-menu is-empty",children:['no results found for "',u,'"']}):null]}))]})}}),(0,l.tZ)("div",{className:"jsx-d408485a86637a91",children:(0,l.tZ)(mn.Z,{color:"primary",type:"submit",filled:!0,disabled:r||!u,children:"Invite"})})]}),(0,l.tZ)(q(),{id:"d408485a86637a91",children:".form-content.jsx-d408485a86637a91{display:grid;position:relative;width:100%;grid-template-columns:1fr auto;grid-column-gap:var(--space-8);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.dropdown.jsx-d408485a86637a91{position:relative;z-index:5}.dropdown-menu.jsx-d408485a86637a91{position:absolute;z-index:1;top:100%;left:0;width:100%;background-color:var(--background-default);border:1px solid var(--foreground-dimmest);border-top:0 none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);max-height:300px;overflow:auto}.dropdown-menu.is-loading.jsx-d408485a86637a91,.dropdown-menu.is-empty.jsx-d408485a86637a91{color:var(--foreground-dimmer);padding:var(--space-8)}.dropdown.jsx-d408485a86637a91:focus-within .dropdown-menu.jsx-d408485a86637a91{border-color:var(--accent-primary-default)}.spacer.jsx-d408485a86637a91{width:var(--space-8);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.result.jsx-d408485a86637a91{cursor:pointer;padding:var(--space-8)var(--space-16)}.result.jsx-d408485a86637a91:hover,.is-active.jsx-d408485a86637a91{background-color:var(--accent-primary-dimmer)}.check-icon.jsx-d408485a86637a91{margin-left:auto;color:var(--accent-positive-default)}"})]})}function wn(e){var n=e.value,t=e.onButtonPress,r=e.statusText,i=void 0===r?"":r,a=e.image,o=e.filterValue,s=e.type,c=e.Icon;return(0,l.BX)("div",{className:"jsx-a16e88ad40d0e05c "+(ie()("multiplayer-item",{"is-editable":!!t})||""),children:[(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(an.Z,{size:"s",url:null!==a&&void 0!==a?a:""}),(0,l.tZ)("div",{className:"jsx-a16e88ad40d0e05c label",children:o?(0,l.tZ)(dn.gr,{source:n,match:o}):"".concat(n," ").concat(i)}),!!t&&(0,l.tZ)(mn.Z,{className:"remove-button",border:!1,filled:!1,"aria-label":"Remove ".concat(s||"email invite"),role:"tooltip","data-microtip-position":"left",onClick:t,children:c&&(0,l.tZ)(c,{size:12,className:"jsx-a16e88ad40d0e05c"})})]}),(0,l.tZ)(q(),{id:"a16e88ad40d0e05c",children:".multiplayer-item.jsx-a16e88ad40d0e05c{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c:hover{background-color:var(--background-root)}.label.jsx-a16e88ad40d0e05c{margin-right:auto}"})]})}var kn=t(15366),Pn=t(4158);function In(e){var n=e.email,t=e.onInvite,r=e.onCancel;return(0,l.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,l.tZ)(sn.Z,{level:3,align:"center",children:"Are you sure?"}),(0,l.BX)(cn.Z,{align:"center",children:[(0,l.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,l.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,l.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,l.tZ)(mn.Z,{onClick:r,children:"Cancel"}),(0,l.tZ)(mn.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,l.tZ)(q(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var Sn=t(75474),Tn=t(34847);function Cn(e){var n,t=e.replId,r=function(e){var n=(0,C.Z)({},Ee,e);return D.useQuery(Ue,n)}({variables:{replId:t}}),a=r.data,o=r.loading,c=(0,kn.v9)((function(e){return e.user.userInfo.isLoggedIn?e.user.userInfo.id:null})),u=(0,on.Z)(),d=u.showConfirm,p=u.showError,f=(0,i.Z)(s.useState(""),2),m=f[0],h=f[1],v=(0,i.Z)(function(e){var n=(0,C.Z)({},Ee,e);return D.useMutation(Me,n)}({onError:function(e){return p(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,S.j)(S.U3.MULTIPLAYER_INVITED,{replId:t,inviteMethod:"username"});var r=n?"@".concat(n.username):"Member";d("".concat(r," added"))}}),2),g=v[0],b=v[1],Z=(0,i.Z)(function(e){var n=(0,C.Z)({},Ee,e);return D.useMutation(je,n)}({onError:function(e){return p(e.message)},onCompleted:function(e){var n=e.removeMultiplayerUser.user,t=n?"@".concat(n.username):"Member";d("".concat(t," removed"))}}),2),x=Z[0],w=Z[1],k="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null,P=(0,i.Z)(Ye({onError:function(e){p(e.message)},update:function(e,n){var r,i=null===(r=n.data)||void 0===r?void 0:r.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var a=i.email;return(0,S.j)(S.U3.MULTIPLAYER_INVITED,{replId:t,inviteMethod:"email"}),void d("Invited ".concat(a," via email"))}if("ReplPermission"===i.__typename){e.modify({id:e.identify({__typename:"Repl",id:t}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:He});return(0,ke.Z)(n).concat([t])}}});var o=i.user;(0,S.j)(S.U3.MULTIPLAYER_INVITED,{replId:t,inviteMethod:"email"});var l=o?"@".concat(o.username):"Member";d("".concat(l," added"))}}else p(i.message)}}),2),I=P[0],E=P[1],R=(0,i.Z)(Je({onError:function(e){return p(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;(0,S.j)(S.U3.MP2_REMOVED_EMAIL_INVITE,{replId:t,email:n}),d("Invite for ".concat(n," deleted"))}}else p(e.deleteMultiplayerInvite.message)}}),2),U=R[0],M=R[1];if(k&&!k.owner)throw new Error("Cannot manage members on anon repls");if((null===k||void 0===k?void 0:k.owner)&&"Team"!==(null===k||void 0===k?void 0:k.owner.__typename))throw new Error("Expect repl owned by a team");var j,_,A,B="Team"===(null===k||void 0===k||null===(n=k.owner)||void 0===n?void 0:n.__typename)?k.owner:null,G=null!==(j=null===k||void 0===k?void 0:k.permissions.reduce((function(e,n){return n.user?(0,ke.Z)(e).concat([n.user.username]):e}),[]))&&void 0!==j?j:[],L=null===k||void 0===k?void 0:k.permissions.reduce((function(e,n){if(!n.user)return e;var t=n.user;return!m||pn.Z.filter(m,[t.username]).length>0?((null===B||void 0===B?void 0:B.members.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t.id})))||e.users.push(t),e):e}),{users:[]}),N=null===k||void 0===k?void 0:k.multiplayerInvites.filter((function(e){return!m||pn.Z.filter(m,[e.email]).length>0})),O=null===B||void 0===B?void 0:B.members.reduce((function(e,n){if(!n.user)return e;var t=n.user;if(!(!m||pn.Z.filter(m,[t.username]).length>0))return e;var r=n.permissions&&n.permissions!==T.SV.Member,i=null===k||void 0===k?void 0:k.permissions.find((function(e){var n;return e.user&&(null===(n=e.user)||void 0===n?void 0:n.id)===t.id}));return r?e.teamAdmins.push(t):(null===i||void 0===i?void 0:i.type)?e.withPermission.push(t):e.withoutPermission.push(t),e}),{teamAdmins:[],withPermission:[],withoutPermission:[]}),X=null===O||void 0===O?void 0:O.teamAdmins.some((function(e){return e.id===c})),z=(null!==(_=null===L||void 0===L?void 0:L.users.length)&&void 0!==_?_:0)+(null!==(A=null===N||void 0===N?void 0:N.length)&&void 0!==A?A:0),F=null===k||void 0===k?void 0:k.currentUserPermissions.editMultiplayers,W=null===k||void 0===k?void 0:k.currentUserPermissions.inviteGuests,H=Boolean(O&&!O.teamAdmins.length&&!O.withPermission.length&&(!(null===L||void 0===L?void 0:L.users.length)&&!(null===N||void 0===N?void 0:N.length)&&W||!W&&!O.withoutPermission.length)),V=(0,i.Z)(s.useState(null),2),$=V[0],K=V[1];return(0,l.BX)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" root",children:[(0,l.BX)(en.gC,{spacing:2,align:"stretch",children:[(0,l.BX)(en.Ug,{children:[(0,l.BX)(sn.Z,{level:5,foreground:o?3:1,children:[F?"Add or remove members from this repl":null,o?"Loading...":null]}),F&&W&&!o&&(0,l.tZ)("div",{"aria-label":" Add team members or invite external guests via email or username","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" information-icon-container",children:(0,l.tZ)(Pn.Z,{})})]}),W?(0,l.tZ)(xn,{existingUsernames:G,onSubmit:function(e){!!e.match(/.+@.+/)&&!E.loading?K(e):b.loading||g({variables:{username:e,replId:t,type:"rw"}}),h("")},placeholder:F?"Search for users or invite guests":"Filter users",isDisabled:o,onChange:function(e){return h(e)}}):(0,l.tZ)(un.ZP,{disabled:o,value:m,onChange:function(e){return h(e.currentTarget.value)},placeholder:F?"Filter team members to add or remove":"Filter team members"}),(0,l.tZ)(we.Z,{isOpen:!!$,onRequestClose:function(){return K(null)},children:$?(0,l.tZ)(In,{email:$,onInvite:function(){I({variables:{email:$,replId:t,type:"rw"}}),K(null)},onCancel:function(){return K(null)}}):null}),(0,l.BX)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" "+(ie()("multiplayers-list",{"is-empty":H})||""),children:[(null===O||void 0===O?void 0:O.withPermission.length)?(0,l.tZ)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" list-heading",children:(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(nn.Z,{size:12}),(0,l.BX)(cn.Z,{foreground:2,size:"small",children:[null===O||void 0===O?void 0:O.withPermission.length," member",1===(null===O||void 0===O?void 0:O.withPermission.length)?"":"s"," with access"]})]})}):null,null===O||void 0===O?void 0:O.withPermission.map((function(e){return(0,l.tZ)(wn,{value:e.username,image:e.image,statusText:"(can edit)",type:"member",onButtonPress:X?function(){w.loading||x({variables:{replId:t,username:e.username}})}:void 0,Icon:y.Z},e.id)})),!!z&&(0,l.tZ)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" list-heading",children:(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(nn.Z,{size:12}),(0,l.BX)(cn.Z,{foreground:2,size:"small",children:[(0,Tn.Z)("guest",z,!0),"with access"]})]})}),null===L||void 0===L?void 0:L.users.map((function(e){return(0,l.tZ)(wn,{value:e.username,image:e.image,statusText:"(can edit)",type:"guest",onButtonPress:X?function(){w.loading||x({variables:{replId:t,username:e.username}})}:void 0,Icon:y.Z},e.id)})),null===N||void 0===N?void 0:N.map((function(e){return(0,l.tZ)(wn,{value:e.email,statusText:"(pending)",onButtonPress:X?function(){M.loading||U({variables:{replId:t,email:e.email}})}:void 0,Icon:y.Z},e.email)})),!W&&(null===O||void 0===O?void 0:O.withoutPermission.length)?(0,l.tZ)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" list-heading",children:(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(tn.Z,{size:12}),(0,l.BX)(cn.Z,{foreground:2,size:"small",children:[(0,Tn.Z)("member",null===O||void 0===O?void 0:O.withoutPermission.length,!0),"without access"]})]})}):null,!W&&(null===O||void 0===O?void 0:O.withoutPermission.map((function(e){return(0,l.tZ)(wn,{value:e.username,image:e.image,type:"member",onButtonPress:F?function(){b.loading||g({variables:{replId:t,username:e.username,type:"rw"}})}:void 0,Icon:ln.Z},e.id)}))),(null===O||void 0===O?void 0:O.teamAdmins.length)?(0,l.tZ)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" list-heading",children:(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(rn.Z,{size:12}),(0,l.tZ)(cn.Z,{foreground:2,size:"small",children:"Team admins cannot be removed from repls"})]})}):null,null===O||void 0===O?void 0:O.teamAdmins.map((function(e){return(0,l.tZ)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" "+(ie()("multiplayer-item",{"is-editable":F})||""),children:(0,l.BX)(en.Ug,{align:"center",spacing:1,children:[(0,l.tZ)(an.Z,{size:"s",url:e.image}),(0,l.tZ)("div",{className:q().dynamic([["dc131772cdbb2add",[Q.j.mobileMax]]])+" label",children:m?(0,l.tZ)(dn.gr,{source:e.username,match:m}):e.username})]})},e.id)})),H?(0,l.BX)(cn.Z,{foreground:2,align:"center",children:['No members matching "',m,'" found']}):null]}),F||o?null:(0,l.tZ)(cn.Z,{foreground:2,size:"small",children:"Only admins can add and remove members to multiplayer"}),F&&W&&(0,l.tZ)(Sn.Z,{replId:t})]}),(0,l.tZ)(q(),{id:"dc131772cdbb2add",dynamic:[Q.j.mobileMax],children:".root.__jsx-style-dynamic-selector{padding:var(--space-16);color:var(--foreground-default)}.multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:300px;overflow-y:auto}.multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-16);word-break:break-word}.multiplayer-item.__jsx-style-dynamic-selector{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--space-8)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--background-root)}.list-heading.__jsx-style-dynamic-selector{padding:var(--space-16)var(--space-16)0}.label.__jsx-style-dynamic-selector{margin-right:auto}.information-icon-container.__jsx-style-dynamic-selector{margin-left:5px}@media screen and (min-width:".concat(Q.j.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--space-48)}}")})]})}var En=t(70804),Rn=t(15153),Dn=t(12215);function Un(e){var n=e.children,t=e.showPopover,r=(0,Dn.Z)("announcement","add-guest-new-user"),a=r.shouldDisplay,o=r.register,c=r.dismiss,u=(0,i.Z)(s.useState(!1),2),d=u[0],p=u[1],f=(0,i.Z)(s.useState(!1),2),m=f[0],h=f[1];s.useEffect((function(){t&&!m&&o()}),[m,o,t]);var v=a&&!m;return(0,l.BX)(En.Z,{onClickOutside:function(){return h(!0)},isOpen:v,showArrow:!0,borderColor:"var(--accent-purple-default)",children:[n,(0,l.BX)(en.gC,{spacing:2,align:"stretch",children:[(0,l.BX)(en.Ug,{spacing:1,children:[(0,l.tZ)(Rn.Z,{}),(0,l.tZ)(sn.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,l.BX)(cn.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,l.tZ)(en.Ug,{spacing:1,justify:"end",children:(0,l.tZ)(mn.Z,{loading:d,onClick:function(){p(!0),(0,S.j)(S.U3.ADD_GUEST_POPOVER_DISMISSED),c()},children:"Got it"})})]})]})}var Mn=t(60219);function jn(e){var n=e.replId,t=function(e){var n=(0,C.Z)({},ze,e);return D.useQuery(Ve,n)}({variables:{replId:n},pollInterval:8e3}),r=t.data,a=t.loading,o=(0,on.Z)(),c=o.showConfirm,u=o.showError,d=(0,i.Z)(s.useState(!1),2),p=d[0],f=d[1],m=(0,i.Z)(function(e){var n=(0,C.Z)({},ze,e);return D.useMutation($e,n)}({onCompleted:function(e){var t,r=null===(t=e.addMultiplayerUser.user)||void 0===t?void 0:t.username;r&&((0,S.j)(S.U3.MULTIPLAYER_INVITED,{replId:n,inviteMethod:"username"}),c("Added @".concat(r)))}}),2),h=m[0],v=m[1],g=(0,i.Z)(function(e){var n=(0,C.Z)({},ze,e);return D.useMutation(Ke,n)}({onError:function(e){return u(e.message)},onCompleted:function(e){var t,r=null===(t=e.removeMultiplayerUser.user)||void 0===t?void 0:t.username;r&&((0,S.j)(S.U3.MP2_REMOVED_USER_PERMISSION,{replId:n,username:r}),c("".concat(r," removed")))}}),2),b=g[0],Z=g[1],x=(0,i.Z)(Ye({update:function(e,t){var r,i=null===(r=t.data)||void 0===r?void 0:r.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var a=i.email;return(0,S.j)(S.U3.MULTIPLAYER_INVITED,{replId:n,inviteMethod:"email"}),void c("Invited ".concat(a," via email"))}if("ReplPermission"===i.__typename){var o;e.modify({id:e.identify({__typename:"Repl",id:n}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:He});return(0,ke.Z)(n).concat([t])}}});var l=null===(o=i.user)||void 0===o?void 0:o.username;if(!l)return;(0,S.j)(S.U3.MULTIPLAYER_INVITED,{replId:n,inviteMethod:"email"}),c("Invited @".concat(l))}}else u(i.message)}}),2),w=x[0],k=x[1],P=(0,i.Z)(Je({onError:function(e){return u(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var t=e.deleteMultiplayerInvite.email;(0,S.j)(S.U3.MP2_REMOVED_EMAIL_INVITE,{replId:n,email:t}),c("invite for ".concat(t," deleted"))}}else u(e.deleteMultiplayerInvite.message)}}),2),I=P[0],E=P[1];s.useEffect((function(){var e=v.error||k.error;e&&(e.message.includes("reached the limit")?f(!0):u(e.message))}),[v.error,k.error,u]);var R="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null,U=null===r||void 0===r?void 0:r.currentUser,M=null===R||void 0===R?void 0:R.permissions.reduce((function(e,n){return n.user?(0,ke.Z)(e).concat([n.user.username]):e}),[]),j=null===R||void 0===R?void 0:R.currentUserPermissions.editMultiplayers,_=Boolean(R&&!R.permissions.length&&!R.multiplayerInvites.length),A=(null===R||void 0===R?void 0:R.permissions)?R.permissions.length:null;return(0,l.BX)("div",{className:"jsx-7043475ed4bd7433 root",children:[(0,l.BX)(en.gC,{spacing:2,align:"stretch",children:[j&&M&&R?(0,l.tZ)("div",{className:"jsx-7043475ed4bd7433",children:(0,l.tZ)(xn,{existingUsernames:M,onSubmit:function(e){!!!e.match(/.+@.+/)||k.loading?v.loading||h({variables:{username:e,replId:R.id,type:"rw"}}):w({variables:{email:e,replId:R.id,type:"rw"}})}})}):null,(0,l.tZ)("div",{className:"jsx-7043475ed4bd7433",children:(0,l.BX)(sn.Z,{level:5,foreground:a?3:1,children:[null!==A&&(null===U||void 0===U?void 0:U.isSubscribed)?"".concat((0,Tn.Z)("multiplayer",A,!0)):null,null===A||(null===U||void 0===U?void 0:U.isSubscribed)?null:"".concat(A,"/").concat(50," ").concat((0,Tn.Z)("multiplayer",A))," ",!a&&!(null===U||void 0===U?void 0:U.isSubscribed)&&(0,l.tZ)("a",{onClick:function(){return f(!0)},"aria-label":"Click to upgrade for unlimited invites","data-microtip-position":"top",role:"tooltip",className:"jsx-7043475ed4bd7433 info-tooltip",children:(0,l.tZ)(Pn.Z,{})}),a?"Loading...":null]})}),_?(0,l.tZ)("div",{className:"jsx-7043475ed4bd7433 empty-list",children:(0,l.BX)(en.Ug,{align:"center",justify:"center",children:[(0,l.tZ)("div",{className:"jsx-7043475ed4bd7433",children:"No one is here"}),(0,l.tZ)("div",{className:"jsx-7043475ed4bd7433",children:(0,l.tZ)("img",{src:"/public/images/rainy-computer.png",alt:"raindrops falling onto an open laptop",className:"jsx-7043475ed4bd7433"})})]})}):(0,l.BX)("div",{className:"jsx-7043475ed4bd7433 multiplayers-list",children:[null===R||void 0===R?void 0:R.permissions.map((function(e){var t=e.user,r=e.type;return t?(0,l.BX)("div",{className:"jsx-7043475ed4bd7433 "+(ie()("multiplayer-item",{"is-editable":R.currentUserPermissions.editMultiplayers})||""),children:[(0,l.tZ)(an.Z,{size:"s",url:t.image}),(0,l.BX)("div",{className:"jsx-7043475ed4bd7433 label",children:[t.username," ",r===T.aQ.Rw?" (can edit)":null]}),R.currentUserPermissions.editMultiplayers?(0,l.tZ)(mn.Z,{border:!1,filled:!1,"aria-label":"Remove member",role:"tooltip","data-microtip-position":"left",onClick:function(){Z.loading||b({variables:{replId:n,username:t.username}})},children:(0,l.tZ)(y.Z,{size:12})}):null]},t.id):null})),null===R||void 0===R?void 0:R.multiplayerInvites.map((function(e){return(0,l.BX)("div",{className:"jsx-7043475ed4bd7433 "+(ie()("multiplayer-item",{"is-editable":j})||""),children:[(0,l.tZ)(an.Z,{size:"s"}),(0,l.BX)("div",{className:"jsx-7043475ed4bd7433 label",children:[e.email," (pending)"]}),j?(0,l.tZ)(mn.Z,{border:!1,filled:!1,"aria-label":"Remove email invite",role:"tooltip","data-microtip-position":"left",onClick:function(){E.loading||I({variables:{replId:n,email:e.email}})},children:(0,l.tZ)(y.Z,{size:12})}):null]},e.email)}))]})]}),(0,l.tZ)(Mn.Z,{isOpen:p,onClose:function(){return f(!1)},trackingInfo:{context:"workspace-multiplayer-header"}}),(0,l.tZ)(q(),{id:"7043475ed4bd7433",children:".root.jsx-7043475ed4bd7433{color:var(--foreground-default)}.multiplayers-list.jsx-7043475ed4bd7433,.empty-list.jsx-7043475ed4bd7433{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:200px}.multiplayers-list.jsx-7043475ed4bd7433{overflow-y:auto;padding:var(--space-8)0}.multiplayer-item.jsx-7043475ed4bd7433{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:var(--space-4)var(--space-16);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.multiplayer-item.is-editable.jsx-7043475ed4bd7433{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-7043475ed4bd7433:hover{background-color:var(--background-root)}.label.jsx-7043475ed4bd7433{margin-right:auto;padding-left:var(--space-8)}.info-tooltip.jsx-7043475ed4bd7433{display:inline-block}.info-tooltip.jsx-7043475ed4bd7433,.info-tooltip.jsx-7043475ed4bd7433:hover,.info-tooltip.jsx-7043475ed4bd7433:focus{color:var(--foreground-default);border:none;outline:none}.empty-list.jsx-7043475ed4bd7433 img.jsx-7043475ed4bd7433{display:block;height:200px;opacity:60%}"})]})}function _n(e){var n=e.replId;return(0,l.BX)("div",{className:q().dynamic([["73cdb9c447ce4102",[Q.j.mobileMax]]]),children:[(0,l.BX)(en.gC,{spacing:2,align:"stretch",children:[(0,l.tZ)(sn.Z,{level:4,children:"Invite"}),(0,l.tZ)(jn,{replId:n}),(0,l.tZ)(Sn.Z,{replId:n})]}),(0,l.tZ)(q(),{id:"73cdb9c447ce4102",dynamic:[Q.j.mobileMax],children:"div.__jsx-style-dynamic-selector{padding:var(--space-16)}@media screen and (min-width:".concat(Q.j.mobileMax,"px){div.__jsx-style-dynamic-selector{padding:var(--space-32)}}")})]})}var An=t(18172),Bn=t(71171),Gn=t.n(Bn),Ln=t(68963),Nn=t(95068),On=t(12727),Xn=t(88055),zn=t(8357),Fn=t(72676),Wn=t(57416),Hn=t(66421),Vn=((0,c.cn)(null,(function(e,n,t){var r=e(On.Eh).find((function(e){return e.isDialog}));r?n(Xn.$,r.paneId):n($n,t)})),(0,c.cn)(null,(function(e,n,t){var r=e(On.Eh).find((function(e){return e.isDialog}));if(r){var i=e(r.data);i.type!==i.type?(n(Xn.$,r.paneId),n($n,t)):n(zn.v,{paneId:r.paneId,data:t.pane})}else n($n,t)}))),$n=(0,c.cn)(null,(function(e,n,t){if(!e(On.Eh).find((function(e){return e.isDialog}))){var r=e(Nn.g4),i=e(On.CK),a=Gn()(),o=i.x+i.width,l=i.y+i.height,s=t.maxWidth||o,c=t.maxHeight||l,u=Math.min(s,.8*o),d=Math.min(c,.8*l),p={width:u,height:d,x:o/2-u/2-i.x,y:l/2-d/2-i.y},f=(0,An.ZP)(r,(function(e){try{(0,Ln.m)(e,{id:Gn()(),isFloating:!0,panes:[a],rect:p})}catch(t){throw n(Hn.xm,{error:t}),t}}));n(Fn.iH,f),n(Wn.W1,a);var m=(0,On.z)(a),h=e(m);n(Wn.W1,a),n(m,(0,J.Z)((0,C.Z)({},h),{isDialog:!0})),n(h.data,t.pane)}})),Kn=(0,c.cn)(null,(function(e,n){var t=e(On.Eh).find((function(e){return e.isDialog}));t&&n(Xn.$,t.paneId)})),qn=t(14924),Yn=t(35642),Qn=t(26082),Jn=t(17495),et=t(42325);function nt(e){var n,t=e.replId,r=e.onDone,a=e.isResubmit,o=e.lastUpdated,s=e.openIOtesterPane,c=(0,H.Z)().iotester,u=(0,et.CH)({variables:{replId:t}}),d=c.lastRunAt.getTime()>o,p=(0,Jn.xh)({variables:{replId:t}}).data,f="Repl"===(null===p||void 0===p?void 0:p.repl.__typename)?p.repl:null,m=(null===f||void 0===f?void 0:f.template)||null,h=(null===m||void 0===m?void 0:m.dueDate)||null,v=(new Date).toISOString(),b=(0,on.Z)(),y=b.showConfirm,P=b.showError,I=(0,i.Z)((0,Jn.xA)({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(y("Repl submitted"),r()):P(n.message)},onError:function(e){P(e.message)}}),2),S=I[0],T=I[1],C=d&&c.lastRunDidPass;return"Repl"===(null===(n=u.data)||void 0===n?void 0:n.repl.__typename)&&u.data.repl.ioTests.length>0&&!C?(0,l.BX)(Z.ZP,{css:[w.l0.colWithGap(24)],children:[(0,l.tZ)(x.h,{variant:"headerDefault",level:2,children:d?"Fix test failures before submitting":"Run tests before submitting"}),(0,l.tZ)(x.x,{multiline:!0,children:d?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(12),w.l0.justify.end],children:[(0,l.tZ)(g.ZP,{disabled:T.loading,colorway:"primary",onClick:function(){s(),r()},text:"View tests"}),(0,l.tZ)(g.ZP,{disabled:T.loading,onClick:function(){return S()},iconLeft:(0,l.tZ)(k.Z,{}),text:"Submit anyway"})]})]}):(0,l.BX)(Z.ZP,{css:[w.l0.colWithGap(24)],children:[(0,l.tZ)(x.h,{variant:"headerDefault",level:2,children:a?" Resubmit Repl":"Submit Repl"}),(0,l.tZ)(x.x,{multiline:!0,children:a?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),h&&h<v&&(0,l.tZ)(x.x,{multiline:!0,css:[w.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}),(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(12),w.l0.justify.end],children:[(0,l.tZ)(g.ZP,{disabled:T.loading,onClick:r,text:"Cancel"}),(0,l.tZ)(g.ZP,{colorway:"primary",disabled:T.loading,onClick:function(){return S()},iconLeft:(0,l.tZ)(k.Z,{}),text:a?"Submit again":"Submit"})]})]})}var tt=t(40381),rt=t(65456),it=t(48551),at=t(37424),ot=t(19923);function lt(){var e=(0,E.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return lt=function(){return e},e}function st(){var e=(0,E.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return st=function(){return e},e}var ct={},ut=(0,R.ZP)(lt(),ot.vs);var dt=(0,R.ZP)(st(),ot.vs);var pt,ft=t(28479),mt=function(e){var n,t,r,a,o,c,u,d,p,f=e.replId,m=e.onDone,h=(0,on.Z)(),g=h.showConfirm,b=h.showError,y=function(e){var n=(0,C.Z)({},ct,e);return D.useQuery(ut,n)}({variables:{replId:f},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(E(r.origin.template.modelSolution.visibleAfterSubmitting),M(r.origin.template.modelSolution.visibleAfterPassingTests),A(r.origin.template.modelSolution.visibleAfterDueDate))}}),Z=y.data,x=y.loading,w=(0,i.Z)(function(e){var n=(0,C.Z)({},ct,e);return D.useMutation(dt,n)}({onError:function(e){return b(e)},onCompleted:function(){g("Updated solution"),m()}}),2),P=w[0],I=w[1],S=(0,i.Z)(s.useState(!1),2),T=S[0],E=S[1],R=(0,i.Z)(s.useState(!1),2),U=R[0],M=R[1],j=(0,i.Z)(s.useState(!1),2),_=j[0],A=j[1],B=(0,i.Z)(s.useState(),2),G=B[0],L=B[1],N=(0,at.H)();if(s.useEffect((function(){var e="Students can ";if(T||_||U){e+="view the solution after";var n=[];T&&n.push("submitting their project"),U&&n.push("passing all tests"),_&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";L(e)}),[T,U,_]),x)return(0,l.tZ)(v.G7,{css:[v.l0.center],children:(0,l.tZ)(ae.Z,{})});var O="Repl"===(null===Z||void 0===Z?void 0:Z.repl.__typename)&&"Team"===(null===(n=Z.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=Z.repl.owner)||void 0===t?void 0:t.id),X="Repl"===(null===Z||void 0===Z?void 0:Z.repl.__typename)&&(null===(r=Z.repl.origin)||void 0===r||null===(a=r.template)||void 0===a?void 0:a.modelSolution);if(!X)return null;var z=X.id,F="Repl"===(null===Z||void 0===Z?void 0:Z.repl.__typename)&&((null===(o=Z.repl.origin)||void 0===o?void 0:o.ioTests.length)||(null===(c=Z.repl.origin)||void 0===c||null===(u=c.unitTests)||void 0===u?void 0:u.tests.length)),W="Repl"===(null===Z||void 0===Z?void 0:Z.repl.__typename)&&(null===(d=Z.repl.origin)||void 0===d||null===(p=d.template)||void 0===p?void 0:p.dueDate);return(0,l.tZ)("form",{onSubmit:function(e){e.preventDefault(),O&&z&&P({variables:{input:{teamId:O,solutionId:z,visibleAfterSubmitting:T,visibleAfterPassingTests:U,visibleAfterDueDate:_}}})},children:(0,l.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,l.tZ)(v.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,l.BX)(v.G7,{css:[v.l0.colWithGap(16)],children:[(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,l.tZ)(v.XZ,{id:N("availableAfterSubmitting"),checked:T,onChange:function(){return E(!T)}}),(0,l.tZ)("label",{htmlFor:N("availableAfterSubmitting"),children:(0,l.tZ)(v.xv,{children:"Available after submitting"})})]}),(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,l.tZ)(v.XZ,{id:N("availableAfterPassingTests"),checked:U,onChange:function(){return M(!U)}}),(0,l.tZ)("label",{htmlFor:N("availableAfterPassingTests"),children:(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(4)],children:[(0,l.tZ)(v.xv,{children:"Available after passing tests"}),(0,l.BX)(v.xv,{children:["(",F?"".concat(F," ").concat((0,Tn.Z)("test",F)," defined"):"no tests exist yet",")"]})]})})]}),(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,l.tZ)(v.XZ,{id:N("availableAfterDueDate"),checked:_,onChange:function(){return A(!_)}}),(0,l.tZ)("label",{htmlFor:N("availableAfterDueDate"),children:(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(4)],children:[(0,l.tZ)(v.xv,{children:"Available after due date"}),(0,l.BX)(v.xv,{css:{textDecoration:"italic"},children:["(",W?(0,ft.p)(W):"no due date set yet",")"]})]})})]})]}),(0,l.tZ)(v.E_,{text:"".concat(G),colorway:T||U||_?"positive":"negative"}),(0,l.tZ)(v.G7,{css:{alignItems:"end"},children:(0,l.tZ)(v.zx,{stretch:!1,colorway:"primary",text:"".concat(I.loading?"Saving...":"Save"),iconLeft:(0,l.tZ)(k.Z,{}),disabled:I.loading})})]})})},ht=(pt={},(0,qn.Z)(pt,T.Sy.PublishTemplate,"Publish project"),(0,qn.Z)(pt,T.Sy.EditTemplate,"Edit project"),(0,qn.Z)(pt,T.Sy.Submit,"Submit"),(0,qn.Z)(pt,T.Sy.Resubmit,"Resubmit"),(0,qn.Z)(pt,T.Sy.UpdateModelSolution,"Update solution"),pt);function vt(e){var n=e.cta,t=e.replId,r=e.isGroupProject,a=e.openIOtesterPane,o=(0,i.Z)(s.useState(null),2),c=o[0],u=o[1],d=function(){return u(null)},p=(0,tt.Z)(),f=(0,H.Z)().fs,m=(0,i.Z)(s.useState(0),2),h=m[0],v=m[1];s.useEffect((function(){if(p&&!(0,it.T3)(p)&&!(0,it.sL)(p)){var e=f.watchOtFile(p,{onChange:function(e){e.changeSource===rt.Fl.Local&&v(Date.now())}});return e}}),[p,f,v]);var y=Boolean(c&&[T.Sy.PublishTemplate,T.Sy.EditTemplate].includes(c));return s.useEffect((function(){n===T.Sy.ReviewSubmission&&(Yn.Z.get("annotations/educationModalDismissed")||(u(n),Yn.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,l.BX)(l.HY,{children:[ht[n]&&(0,l.tZ)(g.ZP,{onClick:function(){return u(n)},text:ht[n],iconLeft:(0,l.tZ)(k.Z,{})}),(0,l.tZ)(b.Z,{isOpen:c===T.Sy.Submit||c===T.Sy.Resubmit,onRequestClose:d,maxWidth:512,children:(0,l.tZ)(nt,{replId:t,onDone:d,isResubmit:c===T.Sy.Resubmit,lastUpdated:h,openIOtesterPane:a})}),(0,l.tZ)(we.Z,{preventClose:!0,isOpen:y,onRequestClose:d,width:r?"large":"medium",children:(0,l.tZ)(Qn.Z,{replId:t,onDone:d})}),(0,l.tZ)(b.Z,{isOpen:c===T.Sy.UpdateModelSolution,onRequestClose:d,maxWidth:600,children:(0,l.tZ)(mt,{replId:t,onDone:d})})]})}var gt=t(87653),bt=t(41238),yt={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"K"},Zt={type:"context",icon:(0,l.tZ)(bt.Z,{}),label:"",description:"Type a command...",keyboardShortcut:yt},xt=(0,c.cn)(!1),wt=(0,c.cn)(null,(function(e,n,t){if(e(xt))return n(kt,null),void n(xt,!1);t&&n(kt,t),n(xt,!0)})),kt=(0,c.cn)(null),Pt=(0,c.cn)((function(e){var n=e(It);return{data:Zt,commands:function(){return n}}})),It=(0,c.cn)([]),St=(0,c.cn)((function(e){var n=e(Pt),t=e(kt);return t?[n,t]:n})),Tt=t(70917),Ct=t(29163),Et=t(5257),Rt=t(99534),Dt=(0,Tt.iv)([v.l0.align.center,v.l0.p(4),v.l0.borderRadius(8),v.l0.rowWithGap(4),{fontSize:v.TV.fontSizeDefault,lineHeight:"normal"}]),Ut=(0,Tt.iv)({color:"inherit"});function Mt(e){var n,t=null===(n=e.highlightRanges)||void 0===n?void 0:n.filter((function(e){return e.to>0}));return(0,l.BX)(v.Tg,{elevated:!0,style:{color:e.active?v.TV.foregroundDefault:v.TV.foregroundDimmer},css:Dt,children:[e.icon,(0,l.tZ)(v.xv,{css:Ut,children:(null===t||void 0===t?void 0:t.length)?(0,l.tZ)(dn.xK,{style:{color:(e.active,v.TV.foregroundDimmest)},matchStyle:{fontWeight:v.TV.fontWeightBold,color:v.TV.foregroundDefault},source:e.label,matches:t.map((function(e){return{column:e.from,length:e.to-e.from}}))}):e.label})]})}var jt=(0,v.KD)("button");function _t(e){var n=e.onClick,t=(0,Rt.Z)(e,["onClick"]);return(0,l.tZ)(jt,{css:[v.l0.reset.button],onClick:n,children:(0,l.tZ)(Mt,(0,C.Z)({},t))})}var At=t(33279),Bt=(0,Tt.iv)([v.l0.p(8),v.l0.rowWithGap(4),v.l0.align.center,v.l0.justify.spaceBetween]),Gt=(0,Tt.iv)([v.l0.rowWithGap(4),v.l0.align.center,v.l0.flex.growAndShrink(1)]);function Lt(e){var n=e.content||(0,l.BX)(l.HY,{children:[(Array.isArray(e.item)?e.item:[e.item]).map((function(e,n){return(0,l.tZ)(Mt,{icon:e.icon,label:e.label,active:e.active,highlightRanges:e.highlightRanges},e.label+n)})),e.description?(0,l.tZ)(v.xv,{variant:"small",color:e.active?"dimmer":"dimmest",css:[v.l0.flex.growAndShrink(1)],children:e.description}):null]});return(0,l.BX)(v.Tg,{elevated:e.active,css:Bt,children:[(0,l.tZ)(v.G7,{css:Gt,children:n}),e.keyboardShortcut?(0,l.tZ)(At.Z,{shortcut:e.keyboardShortcut}):null]})}var Nt=(0,Z.KD)("div");function Ot(e){var n=e.isLoading||e.items.length?e.items.map((function(n,t){var r=n.data,i=r.label,a=r.icon,o=n.match.render,s=t===e.highlightedIndex,c=o&&"content"in o?o.content:void 0,u=o&&"ranges"in o?o.ranges:void 0;return(0,l.tZ)(Nt,(0,J.Z)((0,C.Z)({css:[{cursor:"pointer"}]},e.getItemProps({item:n,index:t})),{children:c?(0,l.tZ)(Lt,{active:s,description:r.description,keyboardShortcut:r.keyboardShortcut,content:c}):(0,l.tZ)(Lt,{active:s,description:r.description,keyboardShortcut:r.keyboardShortcut,item:{icon:a,label:i,active:s,highlightRanges:u}})}),(0,Et.k)(n))})):null;return(0,l.tZ)(Nt,(0,J.Z)((0,C.Z)({},e.getMenuProps()),{css:[w.l0.flex.growAndShrink(1),w.l0.overflow("auto")],children:n}))}var Xt=(0,s.memo)(Ot),zt=(0,Z.KD)("div"),Ft=(0,Z.KD)("input"),Wt=(0,Tt.iv)([w.l0.height("100%"),w.l0.flex.growAndShrink(1),w.l0.color.foregroundDefault,w.l0.display.block,w.l0.py(8),{fontSize:w.TV.fontSizeSubheadDefault,backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:w.TV.foregroundDimmest},"&:hover::placeholder":{color:w.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:w.TV.foregroundDimmest}}]);function Ht(e){var n=(0,Et.Z)({onSelect:e.onSelect,initialCommand:e.initialCommand}),t=n.combobox;return(0,l.BX)(v.Tg,{elevated:!0,className:e.className,css:[w.l0.flex.growAndShrink(1),w.l0.borderRadius(8),w.l0.overflow("hidden"),w.l0.maxHeight("70vh")],children:[(0,l.BX)(zt,(0,J.Z)((0,C.Z)({},t.getComboboxProps()),{css:[w.l0.rowWithGap(4),w.l0.pl(4),w.l0.pr(8),w.l0.align.center],children:[(0,l.tZ)(Z.ZP,{css:[w.l0.py(8),w.l0.rowWithGap(4)],children:n.path.map((function(e,t){var r=e.data,i=r.label,a=r.icon,o=i+t,s=function(){n.resetToIndex({index:t,focus:!0})};return 0===t?(0,l.tZ)(Ct.Z,{alt:"Commands",onClick:s,children:n.isLoading?(0,l.tZ)(ae.Z,{}):(0,l.tZ)(bt.Z,{})},o):(0,l.tZ)(_t,{label:i,icon:a,onClick:s},o)}))}),(0,l.tZ)(Ft,(0,C.Z)({css:[Wt]},t.getInputProps({value:n.inputValue,autoFocus:!0,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&0===n.items.length&&e.onSubmit?e.onSubmit(t.currentTarget.value):"ArrowLeft"!==t.key&&"ArrowRight"!==t.key?"Backspace"===t.key&&n.handleBackspace():n.handleLeftRightArrow(t.key)},placeholder:n.placeholder}))),n.keyboardShortcut?(0,l.tZ)(At.Z,{shortcut:n.keyboardShortcut}):null]})),(0,l.tZ)(Xt,{items:n.items,getMenuProps:t.getMenuProps,getItemProps:t.getItemProps,highlightedIndex:t.highlightedIndex,isLoading:n.isLoading})]})}var Vt=t(58967),$t=t(16965),Kt=t(21131),qt=t(88961),Yt=t(47875);function Qt(e,n){if("object"!==typeof n)return null;var t="string"===typeof n.action?n.action:null;if(!t)return null;if("layout"===e){if("split"===t){var r="string"===typeof n.pane?{type:n.pane}:{type:"commands",data:{autoFocus:!1}};return{action:n.action,placement:n.placement,pane:r}}if("reset"===t)return{action:"resetLayout"}}if("file"===e){var i="string"===typeof n.path?n.path:null;return i&&("openOrCreate"===n.action||"delete"===n.action)?{action:n.action,path:i}:null}if("tabs"===e){if("close"===t&&"string"===typeof n.type)return{action:"closeTab",type:n.type};if("open"===t)return{action:"openTab",pane:"string"===typeof n.type?{type:n.type}:{type:"commands",data:{autoFocus:!1}}}}return"codegen"===e&&"generate"===t&&"string"===typeof n.prompt?{action:"generate",prompt:n.prompt}:null}function Jt(e){if("object"!==typeof e)return{error:"not an object",actions:null};var n=e&&"result"in e?e.result:null;if(!Array.isArray(n))return{error:"no commands",actions:null};var t=[],r=!0,a=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;if("object"===typeof c){var u=!0,d=!1,p=void 0;try{for(var f,m=Object.entries(c)[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var h=(0,i.Z)(f.value,2),v=Qt(h[0],h[1]);v&&t.push(v)}}catch(g){d=!0,p=g}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}}}}catch(g){a=!0,o=g}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return 0===t.length?{error:"no commands",actions:null}:{error:null,actions:t}}var er=t(15961),nr=t(50146),tr=t(74275),rr=t(12771),ir=t(11731),ar=t(54992),or=(0,c.cn)(null,(function(e,n,t){var r=e((0,On.z)(t.fromPaneId));if(r.isDialog){n(Xn.$,r.paneId);var i=e(On.Eh).some((function(e){return"tile"===e.type}));n(er.g2,i?{pane:t.data,placement:"leftOf",makeActive:!0}:{pane:t.data,placement:"replace",makeActive:!0})}else n(zn.v,{paneId:t.fromPaneId,data:t.data,makeActive:!0})})),lr=(0,c.cn)(null,(function(e,n,t){var r=e(Nn.g4),i=(0,rr._F)(r,"topLeft"),a=e(On.Eh).find((function(n){return e(n.data).type===t.pane.type}));if(a)n(ir.Oe,a.paneId);else if(i){var o=i.paneGroup.panes.find((function(n){var t=e((0,On.z)(n)),r=e(t.data);return"filetree"!==r.type&&!(0,ar.Zh)(r.type)}));o?n(zn.v,{paneId:o,data:t.pane,makeActive:!0}):n(ir.Et,{pane:t.pane,paneGroupPath:i.path,activate:!0})}else n(er.g2,{pane:t.pane,placement:"leftOf",relativeTo:["tiling"],makeActive:!0})}));var sr=t(90914),cr=t(58809),ur=t(39),dr=t(3032);function pr(e){return fr.apply(this,arguments)}function fr(){return(fr=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cr.l){e.next=2;break}throw new Error("Expected apolloClient");case 2:return e.next=4,cr.l.query({query:sr.R1,variables:{input:n}});case 4:if("GenerateCodeResult"===(t=e.sent.data).generateCode.__typename){e.next=7;break}throw new Error(t.generateCode.__typename);case 7:return e.abrupt("return",t.generateCode.code);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mr=(0,c.cn)(null,(function(e,n){n(Fn.iH,{tiling:null,floating:[]})})),hr=((0,c.cn)(null,(function(e,n){var t=Gn()(),r=e(Nn.g4);n(Fn.iH,(0,An.ZP)(r,(function(e){(0,Ln.m)(e,{id:Gn()(),relativeTo:["tiling"],placement:"replace",panes:[t]})})))})),(0,c.cn)(null,function(){var e=(0,r.Z)(o().mark((function e(n,t,r){var i,a,l,s,c,u,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.action,a=r.fs,e.t0=i.action,e.next="openOrCreate"===e.t0?4:"delete"===e.t0?16:"split"===e.t0?19:"openTab"===e.t0?22:"closeTab"===e.t0?24:"resetLayout"===e.t0?26:"clearLayout"===e.t0?28:"generate"===e.t0?30:41;break;case 4:return e.next=6,a.stat(i.path);case 6:if(e.sent.exists){e.next=14;break}return e.next=10,a.writeFile(i.path,"");case 10:return e.next=12,a.flush();case 12:return e.next=14,a.persist({skipDebounce:!0});case 14:return t(dr.U,{path:i.path}),e.abrupt("break",41);case 16:return e.next=18,a.deleteFile(i.path);case 18:case 40:return e.abrupt("break",41);case 19:return l=n(Wn.J1),t(er.g2,{pane:i.pane,placement:i.placement,makeActive:!1,relativeTo:l||["tiling"]}),e.abrupt("break",41);case 22:return t(lr,{pane:i.pane}),e.abrupt("break",41);case 24:return"*"===i.type?t(mr,{}):t(nr.AW,i.type),e.abrupt("break",41);case 26:return t(tr.B,{}),e.abrupt("break",41);case 28:return t(mr,{}),e.abrupt("break",41);case 30:if((s=n(Nn.QP))||(c=n(On.Eh).find((function(e){return"codeEditor"===n(e.data).type})))&&"codeEditor"===(u=n(c.data)).type&&(s=u.data.path),s){e.next=34;break}return e.abrupt("return");case 34:return d=(0,ur.Sf)(s),e.next=37,pr({language:d,replId:r.replId,prompt:i.prompt});case 37:return p=e.sent,e.next=40,new Promise((function(e,n){if(s)var t=a.watchOtFile(s,{onError:function(t){n(t),e()},onReady:function(n){(0,n.writeOp)([n.initialContent.length,p]),t(),e()}});else n(new Error("Expected path"))}));case 41:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}())),vr="https://llmide.amasad.repl.co";function gr(e){return br.apply(this,arguments)}function br(){return(br=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(vr+"/"+encodeURIComponent(n),{mode:"cors"});case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",{json:r,error:null});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{json:null,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var yr=(0,c.cn)(!1),Zr=(0,c.cn)(!1);function xr(){var e=(0,c.Dv)(yr);return(0,c.Dv)(Zr)?(0,l.tZ)(wr,{}):e?(0,l.tZ)(v.Tg,{elevated:!0,css:[v.l0.coverContainer,v.l0.borderRadius(8),v.l0.center],children:(0,l.tZ)(ae.Z,{})}):null}function wr(){var e=(0,c.b9)(Zr);return(0,s.useEffect)((function(){var n=setTimeout((function(){e(!1)}),600);return function(){clearTimeout(n)}}),[e]),(0,l.tZ)(v.Tg,{elevated:!0,css:[v.l0.coverContainer,v.l0.borderRadius(8),v.l0.center],children:(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8),v.l0.align.center],children:[(0,l.tZ)(qt.Z,{color:v.TV.accentNegativeDefault}),(0,l.tZ)(v.xv,{children:"Something went wrong, try again"})]})})}function kr(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=(0,c.b9)(It);(0,s.useEffect)((function(){if(n)return t((function(n){return(0,ke.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function Pr(){var e=(0,c.Dv)(xt),n=(0,c.b9)(wt),t=(0,c.Dv)(St),i=(0,H.Z)().session,a=(0,Vt.Z)("commandBar").trackTimeToLoadFileStart;(0,s.useEffect)((function(){return i.onCommandBarToggled((function(t){t!==e&&n()}))}),[i,n,e]),(0,s.useEffect)((function(){i.setIsCommandBarOpen(e)}),[i,e]);var u=function(e){var n=e.isOpen,t=e.onDone,i=(0,H.Z)().fs,a=(0,$t.Z)(t),l=(0,Yt.Q)("flagGhostrunner"),u=(0,fe.Z)(),d=(0,Kt.Z)((function(){return(0,c.cn)(null,function(){var e=(0,r.Z)(o().mark((function e(n,t,r){var l,s,c,d,p,f,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(Yt.H).flagGhostrunner){e.next=2;break}return e.abrupt("return");case 2:return t(yr,!0),e.next=5,gr(r);case 5:if(!(l=e.sent).error){e.next=10;break}return t(yr,!1),t(Zr,!0),e.abrupt("return");case 10:if((s=Jt(l.json)).actions){e.next=15;break}return t(yr,!1),t(Zr,!0),e.abrupt("return");case 15:c=!0,d=!1,p=void 0,e.prev=16,f=s.actions[Symbol.iterator]();case 18:if(c=(m=f.next()).done){e.next=25;break}return h=m.value,e.next=22,t(hr,{fs:i,action:h,replId:u});case 22:c=!0,e.next=18;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(16),d=!0,p=e.t0;case 31:e.prev=31,e.prev=32,c||null==f.return||f.return();case 34:if(e.prev=34,!d){e.next=37;break}throw p;case 37:return e.finish(34);case 38:return e.finish(31);case 39:t(yr,!1),a.current();case 41:case"end":return e.stop()}}),e,null,[[16,27,31,39],[32,,34,38]])})));return function(n,t,r){return e.apply(this,arguments)}}())}),[a,i,u]),p=(0,c.b9)(d);return(0,s.useEffect)((function(){if(l&&n&&window.webkitSpeechRecognition){var e=new window.webkitSpeechRecognition;e.onresult=function(e){var n=e.results[0][0].transcript;p(n)},e.start()}}),[p,l,n]),p}({onDone:n,isOpen:e});return(0,l.BX)(we.Z,{isOpen:e,onRequestClose:function(){n()},hideCloseButton:!0,children:[(0,l.tZ)(Ht,{onSubmit:u,onSelect:function(e){if("openFile"===e.data.type){var t=e.data.deeplink;a(t.path),i.openFile(t.path),i.updateDeeplink(t)}"action"===e.data.type&&e.data.run(),n()},initialCommand:t}),(0,l.tZ)(xr,{})]})}var Ir=(0,s.memo)(Pr),Sr=t(95596),Tr=t(39715),Cr=t(95901),Er=t(9117),Rr=t(43804),Dr=t(42895),Ur=t(98146),Mr=t(42699),jr=t(71255),_r=t(85565),Ar=t(80437),Br=t(97808),Gr=t(41034),Lr=t(79500),Nr=t(30880),Or=t(57981),Xr="https://linkedin.com/sharing/share-offsite";var zr="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var Fr=function(e){var n=e.lessonSlug,t=e.courseSlug,r=(0,on.Z)().showConfirm;if(!n||!t)return null;var i=(0,Br.QW)(t),a=(0,Br.qv)(t,n);if(!a)return null;var o=a.ordinalLabel,s=(0,Br.tD)(i.socialSharingText,a),c="".concat(s," ").concat(i.sharableLink),u=(0,jr.Z)({text:s,url:i.sharableLink}),d=function(e){var n=e.url;return"".concat(Xr,"?url=").concat(encodeURIComponent(n))}({url:i.sharableLink}),p=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var a=i.toString();return"".concat(zr,"&").concat(a)}({url:i.sharableLink,hashtag:i.socialHashtag}),f=[{url:u,icon:_r.Z,base:jr.c,cta:"Share on Twitter",color:Ar.Z.brands.twitter},{url:d,icon:Or.Z,base:Xr,cta:"",color:Ar.Z.brands.linkedin},{url:p,icon:Nr.Z,base:zr,cta:"",color:Ar.Z.brands.facebook}];return(0,l.BX)(Z.ZP,{children:[(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(16),w.l0.align.center,w.l0.pr(24)],children:[(0,l.tZ)(Z.ZP,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,l.BX)(x.x,{variant:"headerDefault",children:["Congrats on completing ",o,"!"]})]}),(0,l.tZ)(x.x,{variant:"subheadDefault",css:[w.l0.py(12)],children:"Share your progress"}),(0,l.BX)(Z.ZP,{css:[w.l0.position.relative,w.l0.borderRadius(8),w.l0.backgroundColor.backgroundHigher,w.l0.py(8),w.l0.px(12)],children:[(0,l.tZ)(Z.ZP,{css:w.l0.pr(16),children:c}),(0,l.tZ)(v.hU,{css:[w.l0.position.absolute,w.l0.top(8),w.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,Lr.Z)(c),(0,Mr.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,l.tZ)(Gr.Z,{size:16})})]}),(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(16),w.l0.justify.center,w.l0.pt(16),w.l0.align.center],children:[(0,l.tZ)(v.ZP,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,l.tZ)(Z.ZP,{css:[w.l0.rowWithGap(8),w.l0.align.center],children:f.map((function(e){var r=e.url,i=e.icon,a=e.base,o=e.cta,s=e.color;return(0,l.tZ)(g.ZP,{css:[{backgroundColor:s,color:"white"}],onClick:function(){window.open(r,"_blank"),(0,S.j)(S.U3.EXTERNAL_LINK_VIEWED,{url:a,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:o,iconLeft:(0,l.tZ)(i,{})},r)}))})]})]})},Wr=function(e){var n=e.lesson,t=(0,on.Z)().showError,r=(0,Ur.$0)().fireCircularBurstFrom,a=(0,s.useRef)(null),o=(0,Dr.T)(),c=(0,s.useState)(!1),u=c[0],d=c[1],p=(0,i.Z)(function(e){var n=(0,C.Z)({},j,e);return D.useMutation(A,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var i,l;"UpdatedUserCourseLesson"!==(null===(i=e.completeUserCourseLesson)||void 0===i?void 0:i.__typename)?t((null===(l=e.completeUserCourseLesson)||void 0===l?void 0:l.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(a.current&&!o&&r({element:a.current}),d(!0)):t("Something went wrong")}}),2),f=p[0],m=p[1].loading;return(0,l.BX)(l.HY,{children:[null!==n.timeCompleted?(0,l.tZ)(v.zx,{ref:a,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,l.tZ)(v.zx,{iconLeft:m?(0,l.tZ)(ae.Z,{}):void 0,onClick:function(){(0,Mr.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),f({variables:{input:{userLessonId:n.id}}})},text:m?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[m&&v.pt.backgroundPulse()]}),(0,l.tZ)(v.u_,{isOpen:u,onRequestClose:function(){return d(!1)},children:(0,l.tZ)(Fr,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},Hr=t(41664),Vr=t.n(Hr),$r=t(89033),Kr=t(33773),qr=t(36316),Yr=t(55966),Qr=t(68480);function Jr(){return(0,l.tZ)(v.G7,{children:(0,l.tZ)(v.G7,{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",css:[v.l0.width(8),v.l0.height(8),v.l0.borderRadius("full"),v.l0.backgroundColor.accentPositiveDefault,{alignSelf:"start",boxShadow:"0 0 12px "+v.TV.accentPositiveDefault}]})})}function ei(e){var n=e.repl,t=(0,i.Z)(s.useState(!1),2),r=t[0],a=t[1];return(0,l.BX)(En.Z,{isOpen:r,maxWidth:460,onClickOutside:function(){},padding:0,placement:"bottom-start",growToMaxWidth:!0,zIndex:Qr.Is-1,elevated:!1,children:[(0,l.BX)(v.G7,{tag:"button",dataCy:"ws-repl-info-container",onClick:function(){a(!0)},css:[v.l0.flex.growAndShrink(1),v.l0.align.center,v.l0.cursor.pointer,v.l0.rowWithGap(8),v.l0.p(4),v.l0.borderRadius(8),v.l0.color.foregroundDefault,r&&{pointerEvents:"none"},{border:"1px solid transparent",backgroundColor:"transparent","&:hover":{borderColor:v.TV.outlineDimmest}}],children:[(0,l.tZ)(qr.Z,{repl:n}),n.isAlwaysOn?(0,l.tZ)(Jr,{}):null,(0,l.tZ)(v.G7,{css:[v.l0.p(4)],children:(0,l.tZ)(Kr.Z,{})})]}),(0,l.tZ)(Yr.Z,{setIsEditing:a})]})}var ni=t(18935),ti=t(3462),ri=t(83117),ii=t(92876),ai=t(15794),oi=t(2858),li=(0,Tt.F4)({"0%":{transform:"scale(0.95)",boxShadow:"0 0 0 0 rgba(235, 64, 52, 0.6)"},"50%":{transform:"scale(1)",boxShadow:"0 0 0 8px rgba(235, 64, 52, 0)"},"80%":{transform:"scale(0.95)",boxShadow:"0 0 0 0 rgba(235, 64, 52, 0)"},"100%":{transform:"scale(0.95)",boxShadow:"0 0 0 0 rgba(235, 64, 52, 0)"}}),si=function(){var e=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="06492a4",e.prev=1,e.next=4,(0,ai.LK)("/data/check_version");case 4:e.sent.version!==t&&n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ii.Tb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),ci=function(){var e=(0,s.useState)(!1),n=e[0],t=e[1],i=(0,s.useState)(!1),a=i[0],c=i[1],u=(0,s.useContext)(oi.Z);if((0,s.useEffect)((function(){var e=setInterval((function(){return si((function(){(0,S.j)(S.U3.REFRESH_APP_USED,{action:"triggered"}),t(!0)}))}),216e5);return function(){clearInterval(e)}}),[]),!n)return null;var d=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),(0,S.j)(S.U3.REFRESH_APP_USED,{action:"refresh"}),!(null===u||void 0===u?void 0:u.fs)){e.next=7;break}return e.next=5,u.fs.flush();case 5:return e.next=7,u.fs.persist({skipDebounce:!0});case 7:window.location.reload(),c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.BX)(l.HY,{children:[(0,l.BX)(v.G7,{css:[v.l0.position.relative,v.l0.pl(12)],children:[(0,l.tZ)(v.u,{delay:500,tooltip:"You're using an old version of Replit. Refresh this page to get the latest features!",children:(0,l.tZ)(v.zx,{outlined:!0,iconLeft:(0,l.tZ)(ri.Z,{}),text:"Update Workspace",colorway:"grey",onClick:d})}),(0,l.tZ)(v.G7,{css:{position:"absolute",top:1,right:-1,background:"rgba(235, 64, 52, 1)",borderRadius:"50%",height:5,width:5,boxShadow:"0 0 0 0 rgba(235, 64, 52, 1)",transform:"scale(1)",animation:"".concat(li," 2s infinite"),zIndex:2}})]}),(0,l.tZ)(v.u_,{isOpen:a,onRequestClose:function(){c(!1)},children:(0,l.BX)(v.G7,{children:[(0,l.tZ)(v.xv,{variant:"subheadDefault",css:[v.l0.pb(8)],children:"Saving your work"}),(0,l.tZ)(v.xv,{children:"Making sure you'll find your work after reloading\u2026"})]})})]})},ui=t(85485),di=t(28592),pi=t(57996),fi=(0,v.KD)("a");function mi(e){var n,t=e.repl,r=e.currentUser,i=(0,di.useLDClient)(),a=null===i||void 0===i?void 0:i.variation("flag-new-logo",void 0);return n=void 0===a?null:a?(0,l.tZ)(pi.N2,{}):(0,l.tZ)($r.Z,{}),(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(4),v.l0.align.center,v.l0.width("calc(50% - ".concat((Qr.XD+$.al.small+8)/2,"px)")),(0,qn.Z)({},(0,ui.et)("tabletMax"),[v.l0.width("calc(50% - ".concat((Qr.XD+$.al.large+8)/2,"px)"))])],children:[(0,l.tZ)(v.G7,{css:[v.l0.p(8),v.l0.pl(0)],children:(0,l.tZ)(Vr(),{as:"/~",href:"/home",passHref:!0,children:(0,l.tZ)(fi,{css:[v.l0.center,v.l0.color.foregroundDefault,v.l0.width(32),v.l0.height(32)],children:n})})}),(null===r||void 0===r?void 0:r.isFirewallMode)&&(0,l.tZ)(ti.Z,{isWorkspace:!0}),(0,l.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1),v.l0.maxWidth(530),v.l0.rowWithGap(4),v.l0.align.center,{"& > span":[v.fL,v.l0.flex.shrink(1)]}],children:[(0,l.tZ)(ei,{repl:t}),(0,l.tZ)(ni.Z,{repl:t}),(0,l.tZ)(ci,{})]})]})}var hi=[T.Sy.Submit,T.Sy.Resubmit,T.Sy.UpdateModelSolution,T.Sy.PublishTemplate,T.Sy.EditTemplate,T.Sy.ReviewSubmission],vi={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"};function gi(e){var n,t,r,a,o,u=(0,H.Z)(),d=u.runner,p=u.presence,f=u.replbox,m=(0,fe.Z)(),h=(0,V.Z)({presence:p}),g=(0,i.Z)(s.useState(d),2),b=g[0],y=g[1],Z=(0,i.Z)(s.useState(!1),2),x=Z[0],w=Z[1],k=(0,Cr.e)(Rr.H.Run),P=(0,Cr.e)(Rr.H.Share),I=function(e){var n=(0,C.Z)({},O,e);return D.useQuery(F,n)}({variables:{id:m}}).data,T=(0,c.b9)(Vn),E=me(),R=(0,c.b9)(wt),U="Repl"===(null===I||void 0===I?void 0:I.repl.__typename)?I.repl:null,M="replbox"===(null===U||void 0===U||null===(n=U.lang)||void 0===n?void 0:n.engine)&&"html"!==(null===U||void 0===U?void 0:U.lang.id);(0,s.useEffect)((function(){y(M?f:d)}),[M,f,d]);var j=(0,s.useRef)(null),_=(0,s.useRef)(null),A=(0,s.useRef)(x&&(null===P||void 0===P?void 0:P.isActive));(0,s.useEffect)((function(){A.current&&!(null===P||void 0===P?void 0:P.isActive)&&w(!1),A.current=x&&(null===P||void 0===P?void 0:P.isActive)}),[P,x]),(0,s.useEffect)((function(){(null===P||void 0===P?void 0:P.isActive)&&(x&&_.current?null===P||void 0===P||P.delegateTooltip(_.current):P.delegateTooltip(j.current))}),[P,x,_]);var B="Team"===(null===U||void 0===U||null===(t=U.owner)||void 0===t?void 0:t.__typename),G=Boolean("Team"===(null===U||void 0===U||null===(r=U.owner)||void 0===r?void 0:r.__typename)&&(null===(a=null===U||void 0===U?void 0:U.owner.capabilities)||void 0===a?void 0:a.isEducationPlan)),L=hi.find((function(e){return e===(null===U||void 0===U?void 0:U.workspaceCta)})),N=!G&&(null===U||void 0===U?void 0:U.currentUserPermissions.editMultiplayers);return(0,Er.x)(vi,{enabled:!G,run:function(){w(!0)}}),kr({match:Tr.pl,data:{type:"action",label:"Multiplayer",icon:(0,l.tZ)(Sr.Z,{}),description:"Open multiplayer mode",run:function(){w(!0)},keyboardShortcut:vi}},{enabled:!G}),(0,l.BX)(v.Tg,{elevated:!0,tag:"header",css:[v.l0.height(60),v.l0.flex.row,v.l0.align.center,v.l0.justify.spaceBetween,v.l0.p(8),v.l0.position.relative,v.l0.pl(48)],children:[(0,l.tZ)(mi,{repl:e.repl,currentUser:e.currentUser}),(0,l.tZ)(v.G7,{innerRef:null===k||void 0===k?void 0:k.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===k||void 0===k?void 0:k.isActive)&&k.next()},css:[v.l0.position.absolute,v.l0.height(42),{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}],children:(0,l.tZ)($.ZP,{runner:b,disableTooltip:null===k||void 0===k?void 0:k.isActive})}),(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8),v.l0.align.center,v.l0.justify.end],children:[(null===U||void 0===U?void 0:U.lesson)&&(0,l.tZ)(Wr,{lesson:U.lesson}),h&&h.length>0?(0,l.tZ)(xe,{users:h,onAvatarClick:E}):null,L?(0,l.tZ)(v.G7,{css:[v.l0.pr(8)],children:(0,l.tZ)(vt,{cta:L,replId:m,isGroupProject:Boolean(null===U||void 0===U||null===(o=U.template)||void 0===o?void 0:o.isGroupProject),openIOtesterPane:function(){T({pane:{type:"autograder"}})}})}):null,N?(0,l.tZ)(v.G7,{innerRef:j,children:(0,l.tZ)(Un,{showPopover:U.currentUserPermissions.inviteGuests,children:(0,l.tZ)(v.zx,{onClick:function(){(0,S.j)(S.U3.INVITE_MODAL_OPENED,{language:U.lang.id,replId:U.id,source:"replEnvironment"}),w(!0)},iconLeft:(0,l.tZ)(W.Z,{}),text:"Invite"})})}):null,(0,l.tZ)(v.hU,{size:28,onClick:function(){R()},tooltipDelay:500,alt:"Search & run commands",tooltipPlacement:"bottom-end",children:(0,l.tZ)(gt.Z,{})})]}),(0,l.tZ)(we.Z,{isOpen:x,onRequestClose:function(){return w(!1)},children:(0,l.tZ)(v.G7,{innerRef:_,children:B?(0,l.tZ)(Cn,{replId:m}):(0,l.tZ)(_n,{replId:m})})})]})}var bi=(0,s.memo)(gi),yi=t(45589),Zi=t(91356),xi=t(14994),wi=t(53800),ki=t(91550),Pi=t(28173),Ii=t(11533),Si=t(63736);function Ti(e){var n=e.path,t=e.line;return(0,l.BX)(v.G7,{css:[v.l0.colWithGap(4),v.l0.align.start,v.l0.flex.growAndShrink(1),v.l0.py(4)],children:[(0,l.BX)(v.Tg,{elevated:!0,css:[v.l0.rowWithGap(4),v.l0.borderRadius(8),v.l0.p(2)],children:[(0,l.tZ)(Si.Z,{path:n,size:12}),(0,l.BX)(v.xv,{variant:"small",children:[n,":",t.lineNumber]})]}),(0,l.tZ)(dn.xK,{source:t.content,matches:t.matches})]})}function Ci(){return(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,l.tZ)(qt.Z,{}),(0,l.tZ)(v.xv,{color:"dimmest",children:"Something went wrong searching your Repl's contents. Please try again."})]})}function Ei(){return(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,l.tZ)(qt.Z,{}),(0,l.tZ)(v.xv,{color:"dimmest",children:"Displaying only part of the results, try being more specific with your search."})]})}function Ri(){return(0,l.tZ)(v.G7,{children:(0,l.tZ)(v.xv,{color:"dimmest",children:"Nothing came up searching your Repl's content."})})}var Di={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"};function Ui(e){var n,t=(0,Pi.Z)((function(e,n,t){(0,Ii.yC)(e).then(n).catch(t)}),200);return(0,Tr.fA)({type:"context",description:"Search through your files",label:"Search",icon:(0,l.tZ)(gt.Z,{}),keyboardShortcut:Di},{match:(0,Tr.zf)({defaultScore:2}),commands:function(){var a=(0,r.Z)(o().mark((function r(a){var s,c,u,d,p,f,m,h,g,b,y,Z;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.search){r.next=2;break}return r.abrupt("return",[]);case 2:if(a.active||!e.activeOnly){r.next=4;break}return r.abrupt("return",[]);case 4:return s=Math.random(),n=s,r.next=8,new Promise((function(n,r){t({query:a.search,container:e.container},n,r)}));case 8:if(c=r.sent,u=c.results,d=c.error,p=c.isPartialResult,s===n){r.next=14;break}return r.abrupt("return",[]);case 14:if(null===d){r.next=18;break}if(a.active){r.next=17;break}return r.abrupt("return",[]);case 17:return r.abrupt("return",[{data:{type:"error",label:"error",icon:(0,l.tZ)(qt.Z,{})},match:function(){return{score:1,render:{content:(0,l.tZ)(Ci,{})}}}}]);case 18:for(f=[],m=!0,h=!1,g=void 0,r.prev=20,b=function(){var e=(0,i.Z)(Z.value,2),n=e[0];e[1].forEach((function(e){var t=e.matches[0].column;f.push((0,Tr.fA)({type:"openFile",label:n,icon:(0,l.tZ)(Si.Z,{path:n}),deeplink:{path:n,line:e.lineNumber,col:t}},{match:function(){var r=pn.Z.match(a.search,e.content);return{score:(null===r||void 0===r?void 0:r.score)||1,render:{content:(0,l.tZ)(Ti,{path:n,line:e})},key:[n,e.lineNumber,t].join(":")}}}))}))},y=Object.entries(u)[Symbol.iterator]();!(m=(Z=y.next()).done);m=!0)b();r.next=29;break;case 25:r.prev=25,r.t0=r.catch(20),h=!0,g=r.t0;case 29:r.prev=29,r.prev=30,m||null==y.return||y.return();case 32:if(r.prev=32,!h){r.next=35;break}throw g;case 35:return r.finish(32);case 36:return r.finish(29);case 37:if(0!==f.length||!a.active){r.next=39;break}return r.abrupt("return",[{data:{type:"output",label:"",icon:(0,l.tZ)(v.G7,{})},match:function(){return{score:1,render:{content:(0,l.tZ)(Ri,{})}}}}]);case 39:if(!a.active){r.next=45;break}if(0!==f.length){r.next=44;break}return r.abrupt("return",[{data:{type:"output",label:"",icon:(0,l.tZ)(v.G7,{})},match:function(){return{score:1,render:{content:(0,l.tZ)(Ri,{})}}}}]);case 44:p&&f.push({data:{type:"error",label:"error",icon:(0,l.tZ)(qt.Z,{})},match:function(){return{score:1/0,render:{content:(0,l.tZ)(Ei,{})}}}});case 45:return r.abrupt("return",f);case 46:case"end":return r.stop()}}),r,null,[[20,25,29,37],[30,,32,36]])})));return function(e){return a.apply(this,arguments)}}()})}var Mi=t(63035),ji=t(42456);function _i(){var e=(0,E.Z)(["\n  query NewPaneCommands($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return _i=function(){return e},e}var Ai={},Bi=(0,R.ZP)(_i());function Gi(){var e=(0,H.Z)().session,n=(0,i.Z)(s.useState(e.getInstructionsViewerVisible()),2),t=n[0],r=n[1];return s.useEffect((function(){return r(e.getInstructionsViewerVisible()),e.onInstructionsViewerToggled(r)}),[e]),t}var Li=t(57353),Ni=t(18374),Oi=function(e,n,t){return{match:t||Tr.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};var Xi={type:"context",icon:(0,l.tZ)(bt.Z,{}),label:"",description:"Search for tools and files"};function zi(e){var n,t=e.paneId,r=(0,H.Z)(),a=r.fs,o=r.container,s=function(e){var n=(0,C.Z)({},Ai,e);return D.useQuery(Bi,n)}({variables:{replId:(0,fe.Z)()}}),u="Repl"===(null===(n=s.data)||void 0===n?void 0:n.repl.__typename)?s.data.repl.config:null,d=Boolean(null===u||void 0===u?void 0:u.isServer),p=function(e){var n=e.isServer,t=e.isVnc,r=(0,wi.Se)(),a=Gi();return(0,Kt.Z)((function(){return(0,c.cn)((function(e){var o=e(Mi.gM),l=e(Yt.H),s=l.flagThreadsPane,c=l.flagThreads2,u=e(On.Eh).map((function(n){return e(n.data).type})),d=[Oi({type:"shell"},r)],p=[[{type:"instructions"},a],[{type:"markdown",data:{path:""}},!0],[{type:"threadInbox"},c&&s],[{type:"chat"},c&&s],[{type:"docs"},!0],[{type:"webview"},n],[{type:"vnc"},t],[{type:"runnerOutput"},!o]],f=!0,m=!1,h=void 0;try{for(var v,g=p[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=(0,i.Z)(v.value,2),y=b[0],Z=b[1];!u.includes(y.type)&&Z&&d.push(Oi(y,r))}}catch(x){m=!0,h=x}finally{try{f||null==g.return||g.return()}finally{if(m)throw h}}return d}))}),[n,t,r,a])}({isVnc:Boolean(null===u||void 0===u?void 0:u.isVnc),isServer:d}),f=function(){var e=(0,wi.Se)();return(0,Kt.Z)((function(){return(0,c.cn)((function(n){var t=n(Nn.EP);return{data:{type:"context",label:"Recent",icon:(0,l.tZ)(xi.Z,{})},commands:function(n){var r=n.search;return t.map((function(n){var t=(0,ar.Dp)({path:n});return Oi({type:t,data:{path:n}},e,(function(e){return r?(0,Tr.pl)(e):{score:10}}))}))}}}))}),[e])}(),m=(0,ji.A)(),h=(0,Li.T)(),v=function(e){var n=e.paneId,t=(0,zn.D)();return(0,Kt.Z)((function(){return function(e){var r=e.path,i={type:(0,ar.Dp)({path:r}),data:{path:r}};t({paneId:n,data:i,makeActive:!0})}}),[n,t])}({paneId:t}),g=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var n=e(p),t=e(f),r={data:{type:"context",label:"Tools",icon:(0,l.tZ)(Ni.Z,{})},commands:function(){return[(0,ki.i)({openFile:v,fs:a,shouldHideFile:h,getRecentFiles:m}),Ui({container:o})].concat((0,ke.Z)(n))}};return{data:Xi,commands:function(){return[t,r]}}}))}),[o,a,m,p,h,f,v]);return(0,c.Dv)(g)}var Fi=(0,v.KD)("div"),Wi=(0,v.KD)("input");function Hi(e){var n=zi({paneId:e.paneId}),t=(0,Et.Z)({onSelect:e.onSelect,initialCommand:n,insertSectionHeaders:!0}),r=t.combobox,i=t.inputRef;return(0,s.useEffect)((function(){var n;e.autoFocus&&(e.isHidden||null===(n=i.current)||void 0===n||n.focus())}),[e.autoFocus,e.isHidden,i]),(0,l.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(Fi,(0,J.Z)((0,C.Z)({},r.getComboboxProps()),{children:(0,l.BX)(v.Tg,{css:[v.l0.rowWithGap(4),v.l0.align.center,t.path.length>1&&v.l0.pl(8),{borderBottom:"1px solid ",borderColor:v.TV.backgroundHigher,":focus-within":{borderColor:v.TV.backgroundHighest}}],children:[t.path.map((function(e,n){var r=e.data;if(n<=1)return null;var i=r.label,a=r.icon,o=i+n;return(0,l.tZ)(_t,{label:i,icon:a,onClick:function(){return t.resetToIndex({index:n,focus:!0})}},o)})),(0,l.tZ)(Wi,(0,C.Z)({css:[Wt,v.l0.px(8),t.path.length>1&&{paddingLeft:4}]},t.combobox.getInputProps({value:t.inputValue,ref:t.inputRef,onChange:function(e){return t.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():t.resetToIndex({index:0}):t.handleLeftRightArrow(e.key)},placeholder:t.placeholder})))]})})),(0,l.tZ)($i,{items:t.itemsWithSections||[],getMenuProps:r.getMenuProps,getItemProps:r.getItemProps,highlightedIndex:r.highlightedIndex,isLoading:t.isLoading})]})}function Vi(e){return(0,l.tZ)(Fi,(0,J.Z)((0,C.Z)({},e.getMenuProps()),{css:[v.l0.flex.growAndShrink(1),v.l0.overflow("auto")],children:e.isLoading||e.items.length?e.items.map((function(n){if(n.isSection){var t=n.name;return(0,l.tZ)(v.xv,{variant:"small",color:"dimmest",css:[v.l0.px(8),v.l0.py(4),{marginTop:8}],children:t},t)}var r=n.item,i=n.index,a=r.data,o=a.label,s=a.icon,c=r.match.render,u=i===e.highlightedIndex,d=c&&"content"in c?c.content:void 0,p=c&&"ranges"in c?c.ranges:void 0;return(0,l.tZ)(Fi,(0,J.Z)((0,C.Z)({css:[{cursor:"pointer"}]},e.getItemProps({item:r,index:i})),{children:d?(0,l.tZ)(Lt,{active:u,content:d}):(0,l.tZ)(Lt,{active:u,item:{icon:s,label:o,active:u,highlightRanges:p}})}),(0,Et.k)(r))})):null}))}var $i=(0,s.memo)(Vi),Ki={Content:function(e){var n=e.options,t=n.openPane,r=n.isHidden,i=n.paneId,a=e.pane.data.autoFocus;return(0,l.tZ)(Hi,{paneId:i,autoFocus:a,isHidden:r,onSelect:function(e){if("openFile"!==e.data.type)"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():t(e.data.pane);else{var n=e.data.deeplink.path,r={type:(0,ar.Dp)({path:n}),data:{path:n}};t(r)}}})},Icon:function(){return null},getTitle:function(){return"New tab"}},qi=t(82947),Yi=t(34467),Qi=t(96769),Ji=t(20787),ea=t(76832),na=t(61193),ta=t(47886),ra=t(56483);function ia(){var e=(0,E.Z)(["\n  fragment DeploymentRepl on Repl {\n    id\n    deployment {\n      id\n      activeRelease {\n        id\n      }\n    }\n    releases {\n      items {\n        id\n        pending\n        description\n        timeCreated\n      }\n    }\n  }\n"]);return ia=function(){return e},e}function aa(){var e=(0,E.Z)(["\n  query Deployment($replId: String!) {\n    currentUser {\n      id\n      username\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...DeploymentRepl\n      }\n    }\n  }\n  ","\n"]);return aa=function(){return e},e}function oa(){var e=(0,E.Z)(["\n  mutation CreatePendingRelease($input: CreatePendingReleaseInput!) {\n    createPendingRelease(input: $input) {\n      ... on Repl {\n        id\n        ...DeploymentRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return oa=function(){return e},e}function la(){var e=(0,E.Z)(["\n  mutation PromoteRelease($input: PromoteReleaseInput!) {\n    promoteRelease(input: $input) {\n      ... on Repl {\n        id\n        ...DeploymentRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return la=function(){return e},e}var sa={},ca=(0,R.ZP)(ia()),ua=(0,R.ZP)(aa(),ca);function da(e){var n=(0,C.Z)({},sa,e);return D.useQuery(ua,n)}var pa=(0,R.ZP)(oa(),ca);var fa=(0,R.ZP)(la(),ca);var ma,ha=t(30992),va=t(10449),ga=t(75240),ba=t(45528),ya=t(79985),Za=t(66223),xa=t(98563),wa=t(64926),ka=t(88812),Pa=t(52867),Ia=t(39791),Sa=t(61622),Ta=t(20311),Ca=t(13331),Ea=t(25108);function Ra(){var e=da({variables:{replId:(0,fe.Z)()}}).data;return(0,l.BX)(v.G7,{css:v.l0.colWithGap(32),children:[(0,l.tZ)(v.xv,{variant:"headerBig",children:"Deployments"}),(0,l.tZ)(Ba,{}),(0,l.tZ)(v.G7,{css:v.l0.colWithGap(16),children:(0,l.BX)(v.G7,{tag:"details",children:[(0,l.tZ)(v.G7,{tag:"summary",css:v.l0.cursor.pointer,children:(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Data dump:"})}),(0,l.tZ)(v.G7,{tag:"pre",children:JSON.stringify(e,null,2)})]})})]})}function Da(e){var n=e.next,t=(0,fe.Z)(),a=(0,at.H)(),c=(0,s.useState)(!1),u=c[0],d=c[1],p=(0,i.Z)(function(e){var n=(0,C.Z)({},sa,e);return D.useMutation(pa,n)}(),1),f=p[0],m=(0,ha.Y)("",(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))),h=m.value,g=m.setValue,b=a("releaseDescription");return(0,l.BX)(v.G7,{css:v.l0.colWithGap(16),children:[(0,l.tZ)(v.G7,{tag:"label",htmlFor:b,children:(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Add a description to remind you of what you're deploying now"})}),(0,l.tZ)(v.II,{id:b,value:h,onChange:function(e){return g(e.target.value)},disabled:u,placeholder:"Added a new feature"}),(0,l.tZ)(v.zx,{disabled:u,onClick:(0,r.Z)(o().mark((function e(){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=4,f({variables:{input:{replId:t,releaseDescription:h}}});case 4:i=e.sent,"Repl"===(null===(r=i.data)||void 0===r?void 0:r.createPendingRelease.__typename)?n(i.data.createPendingRelease.releases.items[0].id):(alert("wtf"),Ea.log(i));case 6:case"end":return e.stop()}}),e)}))),text:u?"Loading...":"Next (Secrets)"})]})}function Ua(e){var n=e.fs,t=e.next,i=(0,s.useState)(!1),a=i[0],c=i[1];return(0,l.BX)(v.G7,{css:v.l0.colWithGap(16),children:[(0,l.tZ)(v.G7,{children:(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Edit Secrets for this deployment"})}),(0,l.tZ)(ya.Z,{fs:n,activeFile:null,hideInserterAndIntro:!0}),(0,l.tZ)(v.zx,{disabled:a,onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,n.flush();case 3:return e.next=5,n.persist({skipDebounce:!0});case 5:t();case 6:case"end":return e.stop()}}),e)}))),text:a?"Loading...":"Next (Build)"})]})}function Ma(e){var n=e.container,t=e.next,i=(0,s.useState)(!1),a=i[0],c=i[1];return(0,l.BX)(v.G7,{css:v.l0.colWithGap(16),children:[(0,l.BX)(v.G7,{children:[(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Would you like to any build commands"}),(0,l.tZ)(v.xv,{children:"If you're using a framework or a compiled language, you can create a production build now"})]}),(0,l.tZ)(xa.Z,{container:n,autoFocus:!0}),(0,l.tZ)(v.zx,{disabled:a,onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),t();case 2:case"end":return e.stop()}}),e)}))),text:a?"Loading...":"Next (Customize run)"})]})}function ja(e){var n=e.runner,t=e.next,i=(0,s.useState)(!1),a=i[0],c=i[1];return(0,l.BX)(v.G7,{css:v.l0.colWithGap(16),children:[(0,l.BX)(v.G7,{children:[(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Would you like to change the default run command?"}),(0,l.tZ)(v.xv,{children:"You might want to change the run command to use a production build, or use specific configuration."})]}),(0,l.tZ)(v.xv,{children:"Coming soon... (unimplemented)"}),(0,l.tZ)(v.zx,{disabled:a,onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,n.run();case 3:t();case 4:case"end":return e.stop()}}),e)}))),text:a?"Loading...":"Next (Preview)"})]})}function _a(e){var n=e.runner,t=e.releaseId,r=e.next;return(0,l.BX)(v.G7,{css:v.l0.colWithGap(16),children:[(0,l.tZ)(v.G7,{children:(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Preview website and logs"})}),(0,l.tZ)(v.ZP,{iconLeft:(0,l.tZ)(Ta.Z,{}),target:"_blank",rel:"noopener",href:"https://".concat(t,".id.repl.co"),text:"Click here to open a preview of your website"}),(0,l.tZ)(v.xv,{children:"Logs"}),(0,l.tZ)(Sa.Z,{runner:n}),(0,l.tZ)(v.zx,{onClick:function(){return r()},text:"Next"})]})}function Aa(e){var n,t=e.releaseId,a=e.next,c=(0,fe.Z)(),u=(0,at.H)(),d=(0,s.useState)(!1),p=d[0],f=d[1],m=(0,i.Z)(function(e){var n=(0,C.Z)({},sa,e);return D.useMutation(fa,n)}(),1),h=m[0],g=(0,ha.Y)("",(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))),b=g.value,y=g.setValue,Z=da({variables:{replId:c}}).data,x=u("slug"),w=u("type"),k=(0,s.useState)("replco"),P=k[0],I=k[1];return(0,l.BX)(v.G7,{css:v.l0.colWithGap(16),children:[(0,l.BX)(v.G7,{children:[(0,l.tZ)(v.G7,{htmlFor:w,tag:"label",children:(0,l.tZ)(v.xv,{children:"Domain Type"})}),(0,l.BX)(v.hE,{tag:"fieldset",id:w,name:w,value:P,onChange:function(e){I(e),Ea.log(e.currentTarget.value),Ea.log(e.target.value)},row:!0,primary:!0,css:[v.l0.width("100%")],children:[(0,l.tZ)(v.rK,{id:u("replco"),value:"replco",text:"Repl.co Domain (free)"}),(0,l.tZ)(v.rK,{id:u("custom"),value:"custom",text:"Custom Domain"})]})]}),"replco"===P?(0,l.BX)(l.HY,{children:[(0,l.tZ)(v.G7,{tag:"label",htmlFor:x,children:(0,l.tZ)(v.xv,{variant:"subheadDefault",children:"Set a URL for your deployment"})}),(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(4),v.l0.align.baseline],children:[(0,l.tZ)(v.II,{id:x,value:b,onChange:function(e){return y(e.target.value)}}),(0,l.BX)(v.xv,{children:[".",null===Z||void 0===Z||null===(n=Z.currentUser)||void 0===n?void 0:n.username,".repl.co"]})]})]}):(0,l.tZ)(v.xv,{children:"Coming soon...(unimplemented)"}),(0,l.tZ)(v.zx,{iconLeft:(0,l.tZ)(Ca.Z,{}),disabled:p,onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,h({variables:{input:{releaseId:t,slug:b}}});case 3:a();case 4:case"end":return e.stop()}}),e)}))),text:p?"Loading...":"Launch"})]})}function Ba(){var e=(0,s.useState)(null),n=e[0],t=e[1],i=(0,H.Z)().container,a=(0,s.useState)(null),c=a[0],u=a[1];switch(n){case null:return(0,l.tZ)(v.zx,{text:"Create new deployment",onClick:function(){return t(ma.InitStep)}});case ma.InitStep:return(0,l.tZ)(Da,{next:function(e){var n=(0,ga.Z)({onUnrecoverableError:function(e){alert("BSOD"),Ea.error(e)}}),a=i.getContext();if(!a)throw new Error("wat");var l=(0,ba.U)({repl:{id:e,slug:e,language:a.repl.language,user:a.repl.user,currentUserPermissions:a.repl.currentUserPermissions,flagOwnerDotReplitPackager:a.repl.flagOwnerDotReplitPackager},currentUser:a.currentUser,asViewer:!1});n.connect({context:l,fetchConnectionMetadata:(0,r.Z)(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ai.uz)("/data/repls/".concat(a.repl.id,"/release/").concat(e,"/get_connection_metadata"),{});case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))});var s=(0,Za.Z)({container:n}),c=(0,ka.Z)({container:n,fs:s}),d=(0,wa.Z)({container:n,dotReplit:c}),p=(0,Pa.Z)({container:n,beforeRun:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ia.Z)(n,c);case 2:if(!e.sent){e.next=5;break}return e.next=5,d.installPackages();case 5:case"end":return e.stop()}}),e)})))});u({container:n,fs:s,runner:p}),t(ma.SecretsStep)}});case ma.SecretsStep:if(!c)throw new Error("wat");return(0,l.tZ)(Ua,{fs:c.fs,next:function(){t(ma.BuildStep)}});case ma.BuildStep:if(!c)throw new Error("wat");return(0,l.tZ)(Ma,{container:c.container,next:function(){t(ma.RunStep)}});case ma.RunStep:if(!c)throw new Error("wat");return(0,l.tZ)(ja,{runner:c.runner,next:function(){t(ma.PreviewStep)}});case ma.PreviewStep:var d;if(!c)throw new Error("wat");var p=null===(d=c.container.getContext())||void 0===d?void 0:d.repl.id;if(!p)throw new Error("wat");return(0,l.tZ)(_a,{releaseId:p,runner:c.runner,next:function(){t(ma.UrlStep)}});case ma.UrlStep:var f,m=null===(f=null===c||void 0===c?void 0:c.container.getContext())||void 0===f?void 0:f.repl.id;if(!m)throw new Error("wat");return(0,l.tZ)(Aa,{releaseId:m,next:function(){t(null),null===c||void 0===c||c.container.destroy(),u(null)}});default:(0,va.Z)(n)}}!function(e){e[e.InitStep=0]="InitStep",e[e.SecretsStep=1]="SecretsStep",e[e.BuildStep=2]="BuildStep",e[e.RunStep=3]="RunStep",e[e.PreviewStep=4]="PreviewStep",e[e.UrlStep=5]="UrlStep"}(ma||(ma={}));var Ga={Content:function(e){var n=e.options,t=n.paneId,r=n.isHidden,i=(0,H.Z)(),a=i.container,o=i.fs,u=i.session,d=i.runner,p=(0,c.b9)(ir.Oe),f=(0,c.Dv)(ea.f),m=(0,ea.Z)();(0,ta.Z)({container:a,runner:d,refreshWebView:m}),(0,ra.Z)({runner:d,refreshWebView:m}),(0,Er.x)(qi.b,{run:function(){p(t),m()}}),kr({match:Tr.pl,data:{type:"action",label:"Refresh",icon:(0,l.tZ)(Ji.Z,{}),description:"Refresh webview",keyboardShortcut:qi.b,run:function(){p(t),m()}}});var h=(0,na.c)("flag-deployments"),g=h.enabled,b=(h.loading,(0,s.useState)(!1)),y=b[0],Z=b[1];return(0,l.BX)(l.HY,{children:[g?(0,l.tZ)(v.u_,{isOpen:y,onRequestClose:function(){return Z(!1)},children:(0,l.tZ)(Ra,{})}):null,(0,l.tZ)(Qi.Z,{fs:o,session:u,ref:f,isVisible:!r,onDeployment:g?function(){return Z(!0)}:void 0})]})},Icon:function(e){var n=e.size;return(0,l.tZ)(Yi.Z,{size:n})},getTitle:function(){return"Webview"}};function La(){var e=(0,Zi.U)();return(0,J.Z)((0,C.Z)({},e),{webview:Ga,commands:Ki})}var Na=t(25108);var Oa=t(15682),Xa=t(23445),za=t(24888),Fa=t(19945),Wa=t(66477);function Ha(){var e=(0,E.Z)(["\n  query ReplEnvironmentHelp {\n    currentUser {\n      id\n      ...HelpCurrentUser\n    }\n  }\n  ","\n"]);return Ha=function(){return e},e}var Va={},$a=(0,R.ZP)(Ha(),Wa.HH);var Ka=t(42844),qa=t(75301),Ya=t(29780);function Qa(e){var n=e.item,t=e.isActive,r=e.onClick,a=(0,i.Z)(s.useState(!0),2),o=a[0],c=a[1],u=s.useRef(null),d=(0,i.Z)((0,Oa.XZ)(u,!1),4),p=d[0],f=d[1],m=d[2],h=d[3];(0,Oa.Ym)(f,u);var g=(0,l.tZ)(v.hU,{innerRef:u,role:"tab",tabIndex:p,tooltipPlacement:"right","aria-selected":t,size:40,alt:n.tooltip,css:[t?[v.l0.backgroundColor.accentPrimaryDimmest,v.l0.color.accentPrimaryStrongest]:v.l0.color.foregroundDimmest,{"&:hover":t?[v.l0.backgroundColor.accentPrimaryDimmest,v.l0.color.accentPrimaryStrongest]:v.l0.color.accentPrimaryStrongest}],onKeyDown:m,onClick:function(e){h(),c(!1),r(e)},children:n.icon},n.type);return n.IconWrapper?(0,l.tZ)(n.IconWrapper,{isVisible:o,onDismiss:function(){return c(!1)},children:g}):g}var Ja={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:","},eo={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"G"};function no(){var e=(0,Xa.Z)(),n=e.items,t=e.activeItem,r=(0,Ya.v)(),i=(0,Ya.I)(),a=function(e){var n=(0,C.Z)({},Va,e);return D.useQuery($a,n)}().data,o=null===a||void 0===a?void 0:a.currentUser;(0,Er.x)(Ja,{run:function(){r({type:"preferences"})}}),kr({match:Tr.pl,data:{type:"action",icon:(0,l.tZ)(Ka.Z,{}),label:"Settings",description:"Manage editor settings",keyboardShortcut:Ja,run:function(){r({type:"preferences"})}}});var s=n.some((function(e){return"git"===e.type}));return(0,Er.x)(eo,{run:function(){r({type:"git"})},enabled:s}),kr({match:Tr.pl,data:{icon:(0,l.tZ)(qa.Z,{}),label:"Version control",description:"Open version control sidebar",type:"action",keyboardShortcut:eo,run:function(){r({type:"git"})}}},{enabled:s}),(0,l.BX)(v.Tg,{elevated:!0,css:[v.l0.borderRadius(8,0,0,8),v.l0.colWithGap(4),v.l0.flex.growAndShrink(1),v.l0.justify.spaceBetween,v.l0.align.center,v.l0.pb(8),v.l0.position.relative,{borderRight:"1px solid "+v.TV.backgroundHigher}],children:[(0,l.tZ)(Oa.uP,{options:{direction:"vertical"},children:(0,l.BX)(v.G7,{css:[v.l0.p(4),v.l0.overflowY("auto"),v.l0.flex.growAndShrink(1),v.l0.colWithGap(4),v.l0.align.start],role:"tablist","aria-orientation":"vertical","aria-label":"Dock",children:[n.map((function(e){var n=e.type===t;return(0,l.tZ)(v.G7,{children:(0,l.tZ)(Qa,{item:e,isActive:n,onClick:function(){return i({type:e.type})}})},e.type)})),0===n.length?(0,l.tZ)(v.hU,{"aria-disabled":!0,alt:"",size:40,css:{opacity:0},children:(0,l.tZ)(za.Z,{})}):null]})}),o?(0,l.tZ)(Fa.Z,{}):null,(0,l.tZ)(to,{direction:"top"}),(0,l.tZ)(to,{direction:"bottom"})]})}function to(e){return(0,l.tZ)(v.Tg,{css:[v.l0.position.absolute,v.l0.right(-5),v.l0.width(4),v.l0.height(4),"top"===e.direction?v.l0.top(0):v.l0.bottom(0),{pointerEvents:"none"}]})}var ro=(0,s.memo)(no),io=t(60523),ao=t(35621);function oo(e){var n=e.children,t=s.useRef({fileMap:new Map});return(0,l.tZ)(io.Z.Provider,{value:t,children:n})}function lo(e){var n=e.ui,t=e.services,r=e.replId,i=e.replLanguage,a=e.children,o=(0,Kt.Z)((function(){return{id:r,language:i}}),[r,i]);return(0,l.tZ)(wi.kz,{value:n,children:(0,l.tZ)(oo,{children:(0,l.tZ)(oi.Z.Provider,{value:t,children:(0,l.tZ)(ao.Z.Provider,{value:o,children:a})})})})}var so=t(51438),co=t(28668),uo=t(25171),po=t(88662),fo=t(93160),mo=t(13482),ho=(0,Z.KD)("div"),vo=(0,Tt.iv)([v.l0.width("100%"),v.l0.position.absolute,v.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),go=(0,Tt.iv)([v.l0.height("100%"),v.l0.position.absolute,v.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),bo=(0,Tt.iv)([v.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function yo(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var Zo={topLeft:(0,Tt.iv)([v.l0.top(0),v.l0.left(0),yo("topLeft")]),topRight:(0,Tt.iv)([v.l0.top(0),v.l0.right(0),yo("topRight")]),bottomLeft:(0,Tt.iv)([v.l0.bottom(0),v.l0.left(0),yo("bottomLeft")]),bottomRight:(0,Tt.iv)([v.l0.bottom(0),v.l0.right(0),yo("bottomRight")])};function xo(e){var n=e.edge,t=e.size,r=e.onPointerDown;if("top"===n||"bottom"===n)return(0,l.tZ)(ho,{onPointerDown:r,style:(0,qn.Z)({height:t},n,-t),css:vo});if("right"===n||"left"===n)return(0,l.tZ)(ho,{onPointerDown:r,style:(0,qn.Z)({width:t},n,-t),css:go});var i="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,l.tZ)(ho,{onPointerDown:r,style:{height:t,width:t,cursor:i},css:[bo,Zo[n]]})}var wo=["bottom","right","left","bottomRight","bottomLeft"],ko=(0,Tt.iv)([w.l0.coverContainer,w.l0.borderRadius(0,0,8,8)]),Po="--fixed-position-offset-x",Io="--fixed-position-offset-y",So=function(e){return"var(".concat(e,")")},To=(0,Tt.iv)({transform:"translate(".concat(So(Po),", ").concat(So(Io),")")}),Co=(0,Tt.iv)([w.l0.coverContainer,!mo.g&&{"& .cm-editor > .cm-tooltip":To,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(So(Io),"px)")},".cm-custom-context-menu":To}]);function Eo(e){var n,t=e.resizable&&e.onResizeControlPointerDown?wo.map((function(n){return(0,l.tZ)(xo,{size:8,edge:n,onPointerDown:function(t){if(!e.onResizeControlPointerDown)throw new Error("Expected onResizeControlMouseDown");e.onResizeControlPointerDown(t,n)}},n)})):null,r=e.rect;return(0,l.tZ)(Z.ZP,{style:(n={zIndex:e.zIndex,position:"absolute",width:r.width,height:r.height,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:e.animate?"transform 140ms ease-out":void 0,transitionTimingFunction:"ease-out",visibility:e.hidden?"hidden":void 0,opacity:e.hidden?0:void 0},(0,qn.Z)(n,Po,-e.viewportInset.x+"px"),(0,qn.Z)(n,Io,-e.viewportInset.y+"px"),n),css:{"&:hover":{zIndex:e.zIndexHovered}},children:(0,l.BX)(fo.Z,{onClick:e.onClick,onContextMenu:e.onClick,elevated:!0,css:ko,className:e.className,children:[(0,l.tZ)(Z.ZP,{innerRef:e.innerRef,css:Co,children:e.children}),t]})})}var Ro=t(78648),Do=(0,c.cn)(null),Uo=(0,c.cn)(null,(function(e,n,t){var r=e(Nn.g4);if("end"===t.type)return n(Do,null),void n(Fn.iH,r);if("update"!==t.type){var i=e(On.Eh).find((function(e){return e.paneId===t.paneId}));if(!i){var a=new Error("Expected pane");throw n(Hn.xm,{error:a}),a}n(Wn.W1,t.paneId),n(Do,{paneId:t.paneId,edge:t.edge,rectStart:i.rect})}else{var o=e(Do);if(!o){var l=new Error("Expected floatingResizeState");throw n(Hn.xm,{error:l}),l}var s=(0,Ro.XR)(o.rectStart,{delta:t.moveDelta,edge:o.edge}),c=o.paneId,u=(0,An.ZP)(r,(function(t){var r=t.floating.find((function(e){return e.panes.includes(c)}));if(!r){var i=new Error("Expected floating");throw n(Hn.xm,{error:i}),i}var a=e(On.M0),o=r.rect;o.x=s.x,o.y=s.y-a,o.width=s.width,o.height=s.height+a}));n(Fn.iH,u)}})),Mo=t(31826);function jo(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;e.stopPropagation(),e.preventDefault();var r=e.pageX,i=e.pageY,a={x:r,y:i},o={x:0,y:0};n.start&&n.start({mouse:a,shiftKey:e.shiftKey});var l=(0,Mo.Z)((function(e){e.preventDefault(),e.stopPropagation();var t={x:e.pageX,y:e.pageY};o={x:t.x-a.x,y:t.y-a.y},n.move({delta:o,shiftKey:e.shiftKey,mouse:t})}),t),s=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",s),document.removeEventListener("touchcancel",s),n.end&&n.end({delta:o,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",s),document.addEventListener("touchcancel",s)}var _o=(0,Tt.iv)([w.l0.width("100%"),w.l0.flex.growAndShrink(1),{overflow:"auto"}]);function Ao(e){return(0,l.tZ)(Z.ZP,{css:_o,style:{pointerEvents:e.disableInteractions?"none":void 0,userSelect:e.disableInteractions?"none":void 0},children:e.children})}var Bo=(0,c.cn)(!1),Go=(0,c.cn)((function(e){return e(Bo)?e(Wn.J1):null})),Lo=(0,c.cn)(null,(function(e,n,t){n(Bo,!0),n(Wn.W1,t)})),No=(0,c.cn)(null,(function(e,n){n(Bo,!1)})),Oo=(0,c.cn)((function(e){var n=e(On.CK);return{x:-n.x,y:-n.y,width:n.width+n.x+8,height:n.height+n.y+8}})),Xo=(0,c.cn)((function(e){var n=e(On.M0),t=e(Oo);return{x:t.x,y:t.y,width:t.width,height:n}})),zo=(0,c.cn)((function(e){var n=e(On.M0),t=e(Oo);return{x:t.x,y:t.y+n,width:t.width,height:t.height-n}}));function Fo(e){var n=(0,Kt.Z)((function(){return(0,c.cn)((function(n){return e===n(Go)?n(Xo):null}))}),[e]);return(0,c.Dv)(n)}var Wo=(0,c.cn)(null);var Ho=t(80175);function Vo(e,n){var t=n.paneGroupPath,r=n.rect,i=(0,rr.KC)(e,t);if("paneGroup"!==(null===i||void 0===i?void 0:i.type))throw new Error("Expected paneGroup");(0,Ho.Z)(e,t),(0,Ln.m)(e,{id:i.id,isFloating:!0,panes:i.panes,rect:r,activeIndex:i.activeIndex})}var $o=t(35869);var Ko=50,qo=(0,c.cn)(null),Yo=(0,c.cn)((function(e){var n;return(null===(n=e(qo))||void 0===n?void 0:n.activePaneId)||null}));function Qo(e){var n=e.paneId,t=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var t;return n===(null===(t=e(qo))||void 0===t?void 0:t.activePaneId)}))}),[n]);return(0,c.Dv)(t)}function Jo(e){var n=e.paneId,t=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var t=e(qo);return!!t&&(t.activePaneId!==n&&("floating"!==e((0,On.z)(n)).type&&e(Nn._E)))}))}),[n]);return(0,c.Dv)(t)}function el(e){var n=e.paneId,t=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var t=e(qo);return!!t&&("floating"!==t.startType&&(n===t.activePaneId?{originX:t.transformOriginX,scale:t.scale}:null))}))}),[n]);return(0,c.Dv)(t)}function nl(e){var n=e.activePaneId,t=(0,c.b9)(tl),r=(0,c.b9)(rl),i=(0,c.b9)(il),a=(0,Kt.Z)((function(){return{start:function(e){var r=e.mouse;t({activePaneId:n,mouse:r})},update:function(e){r(e)},end:function(e){i(e)}}}),[n,t,r,i]);return{isDragging:Qo({paneId:n}),dnd:a}}var tl=(0,c.cn)(null,(function(e,n,t){var r=e(On.CK),i=e((0,On.z)(t.activePaneId)),a=e(On.M0),o={x:i.rect.x,y:i.rect.y-a,width:i.rect.width,height:i.rect.height+a},l=t.mouse.x-(r.x+i.rect.x);n(qo,{startType:i.type,startPoint:{x:t.mouse.x-r.x,y:t.mouse.y-r.y},activePaneId:t.activePaneId,transformOriginX:Math.round(l)+"px",scale:1,fromRect:o})})),rl=(0,c.cn)(null,(function(e,n,t){var r=e(qo);if(r){var i=t.delta,a=r.activePaneId,o=r.fromRect,l=e(Nn.g4),s=(0,rr.Rh)(l,a);if(!s){var c=new Error("Expected pane");throw n(Hn.xm,{error:c}),c}var u=(0,On.z)(a),d=(0,On.Xs)(s.paneGroup.id),p=e(On.M0),f=Math.max(Math.abs(i.x),Math.abs(i.y)),m=f>=Ko;if(!m||s.floating){var h=o.x+i.x,v=o.y+i.y;if(n(d,(function(e){return(0,An.ZP)(e,(function(e){e.rect.x=h,e.rect.y=v}))})),n(u,(function(e){return(0,An.ZP)(e,(function(e){e.rect.x=h,e.rect.y=v+p}))})),"floating"!==r.startType){if(!m&&!s.floating){var g=r.startPoint,b=1-.30000000000000004*(y=f/Ko,1-Math.sqrt(1-Math.pow(y,2)));return n(Wo,{type:"detachPreview",rect:{x:g.x-Ko,y:g.y-Ko,width:100,height:100},progress:f/Ko}),void n(qo,(0,An.ZP)(r,(function(e){e.scale=b})))}var y,Z=e(On.CK);if(!s.floating)throw new Error("Expected floating pane");var x=e(On.Eh).filter((function(e){return"tile"===e.type&&!e.isHidden})),w=e($o.Ob),k=function(e){var n=e.views,t=e.mouse,r=e.container,i=e.headerHeight,a=e.sidebarWidth,o={x:Math.min(Math.max(t.x-r.x,1),r.width-1),y:Math.min(Math.max(t.y-r.y,1),r.height-1)},l=!0,s=!1,c=void 0;try{for(var u,d=n[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value,f=p.rect,m={x:f.x,y:f.y-i,width:f.width,height:i},h={x:m.x-Fn.SG/2,y:m.y-Fn.SG/2,width:m.width+Fn.SG,height:i+Fn.SG/2};if((0,Ro.V0)(o,h))return{dropPreview:m,drop:{type:"insert",paneId:p.paneId}};var v={x:p.rect.x,y:p.rect.y-i,width:p.rect.width,height:p.rect.height+i},g={x:v.x-Fn.SG/2,y:v.y-Fn.SG/2,width:v.width+Fn.SG,height:v.height+Fn.SG};if((0,Ro.V0)(o,g)){var b=(0,Ro.QN)(o,v);return{dropPreview:b.rect,drop:{type:"split",relativeTo:p.paneId,placement:b.placement}}}}}catch(Z){s=!0,c=Z}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var y=(0,Ro.QN)(o,{x:a,y:0,width:r.width-a,height:r.height});return{dropPreview:y.rect,drop:{type:"split",relativeTo:["tiling"],placement:y.placement}}}({views:x,container:Z,mouse:t.mouse,headerHeight:p,sidebarWidth:w}),P=k.drop,I=k.dropPreview;n(Wo,{type:"dropPreview",rect:I}),n(qo,{fromRect:r.fromRect,activePaneId:r.activePaneId,startType:r.startType,startPoint:r.startPoint,drop:P,transformOriginX:r.transformOriginX,scale:r.scale})}}else{var S=e(u).rect,T=(0,An.ZP)(l,(function(e){try{Vo(e,{paneGroupPath:s.paneGroupPath,rect:{x:S.x+i.x,y:S.y-p+i.y,width:S.width,height:S.height+p}})}catch(c){throw n(Hn.xm,{error:c}),c}}));n(Fn.iH,T)}}else n(Wo,null)})),il=(0,c.cn)(null,(function(e,n,t){var r=t.delta;n(Wo,null);var i=e(qo);if(i){var a=i.activePaneId,o=i.drop,l=i.fromRect,s=e(Nn.g4),c=(0,rr.Rh)(s,a);if(!c){var u=new Error("Expected pane");throw n(Hn.xm,{error:u}),u}var d=(0,An.ZP)(s,(function(e){if(c.floating&&"floating"===i.startType){var t=(0,rr.KC)(e,c.paneGroupPath);if("floatingPaneGroup"!==(null===t||void 0===t?void 0:t.type))return;var s=l.x+r.x,d=l.y+r.y;return t.rect.x=s,void(t.rect.y=d)}if(o)if("split"!==o.type){var p=(0,rr.Rh)(e,o.paneId);c.paneGroup.panes.forEach((function(n){return function(e,n){var t="floatingIndex"in n?e.floating[n.floatingIndex]:(0,rr.KC)(e,n.paneGroupPath);if(!t||!("panes"in t))throw new Error("Expected paneGroup");(0,Ho.i)(e,n.paneId);var r=void 0===n.index?t.panes.length:n.index;t.panes.splice(r,0,n.paneId),n.activate?t.activeIndex=r:t.activeIndex>=r&&t.activeIndex++}(e,{paneId:n,paneGroupPath:(null===p||void 0===p?void 0:p.paneGroupPath)||["tiling"],activate:!1})}))}else{if(null===e.tiling){var f=Gn()();try{(0,Ln.m)(e,{id:Gn()(),panes:[f],placement:"leftOf",relativeTo:["tiling"]})}catch(u){throw n(Hn.xm,{error:u}),u}}try{!function(e,n){var t=n.from,r=n.to,i=n.placement,a=(0,rr.Rh)(e,t);if(!a)throw new Error("Expected fromPane");var o=a.paneGroup,l=o.panes,s=o.activeIndex;(0,Ho.Z)(e,a.paneGroupPath),(0,Ln.m)(e,{id:a.paneGroup.id,relativeTo:r,panes:l,placement:i,activeIndex:s})}(e,{from:a,to:o.relativeTo,placement:o.placement})}catch(m){throw n(Hn.xm,{error:m}),m}}}));n(qo,null),n(Fn.iH,d),"insert"===(null===o||void 0===o?void 0:o.type)&&n(ir.Oe,a)}}));var al={maximizedTooltip:Qr.Is+18,maximizedPane:Qr.Is+17,maximizedHeader:Qr.Is+16,detachPreview:16,draggingPane:15,draggingHeader:14,dropPreview:13,floatingPaneHovered:12,floatingPaneActive:11,floatingHeaderActive:10,floatingPane:9,floatingHeader:8,tiledPaneHovered:7,gutterHovered:6,tiledPaneActive:5,tiledHeaderActive:4,tiledPane:3,tiledHeader:2,gutter:1};var ol=t(91885);function ll(e,n){var t=n.leftPath,r=n.percent,i=n.snapPercent,a=void 0===i?0:i,o=(0,rr.KC)(e,t);if(!o||!(0,ol.r)(o))throw new Error("Expected leftNode");var l=(0,ol.I)(t),s=(0,rr.KC)(e,l);if("split"!==(null===s||void 0===s?void 0:s.type))throw new Error("Expected splitNode");var c=s.children.indexOf(o);if(-1===c)throw new Error("Expected leftNodeIndex");var u=c+1,d=s.children[u];if(!d)throw new Error("Expected rightNode");if(r<=a){if(o.percent=0,r<0&&c>0)for(var p=Math.abs(r),f=c-1;p>0;){var m=s.children[f];if(m.percent>p){m.percent-=p;break}if(p-=m.percent,m.percent=0,0===f)break;f--}var h=s.children.reduce((function(e,n){return n===d?e:e+n.percent}),0);d.percent=100-h}else{var v=o.percent+d.percent,g=s.children.slice(c).reduce((function(e,n){return e+n.percent}),0);if(r>v-a){if(o.percent=Math.min(g,Math.max(v,r)),d.percent=0,r>v&&u<s.children.length-1)for(var b=r-v,y=u+1;b>0;){var Z=s.children[y];if(Z.percent>b){Z.percent-=b;break}if(b-=Z.percent,Z.percent=0,y===s.children.length-1)break;y++}}else{var x=o.percent-r;d.percent=d.percent+x,o.percent=r}}}var sl=(0,c.cn)(null),cl=(0,c.cn)(null,(function(e,n,t){if("end"!==t.type)if("update"!==t.type){var r=e(Nn.g4),i=t.stacked?window.innerHeight:window.innerWidth,a=(0,rr.KC)(r,t.leftPath);if(!a||!(0,ol.r)(a)){var o=new Error("Expected left node");throw n(Hn.xm,{error:o}),o}var l=(0,ol.I)(t.leftPath),s=a.percent,c=function(e,n){var t=n.splitPath,r=(0,rr.KC)(e,t);if(!r||"split"!==r.type)throw new Error("Expected split node");for(var i=100,a=(0,ol.I)(t);a.length;){var o=(0,rr.KC)(e,a);if(!o)break;a=(0,ol.I)(a),"split"===o.type&&o.stacked===r.stacked&&(i*=o.percent/100)}return i}(r,{splitPath:l}),u=e(On.CK),d=Fn.pc/i*100,p=(0,rr.KC)(r,l);if("split"!==(null===p||void 0===p?void 0:p.type)){var f=new Error("Expected parent split node");throw n(Hn.xm,{error:f}),f}var m=p.children.length,h=e(On.M0),v=t.stacked?Fn.SG*(m-1)+h*m:Fn.SG*(m-1),g=((t.stacked?u.height:u.width)-v)*(c/100);n(sl,{stacked:t.stacked,leftPath:t.leftPath,startPercent:s,resizeDistance:g,snapPercent:d,initialLayout:r})}else{var b=e(sl);if(!b){var y=new Error("Expected tilingResize");throw n(Hn.xm,{error:y}),y}var Z=b.stacked,x=b.leftPath,w=b.startPercent,k=b.resizeDistance,P=b.initialLayout,I=b.snapPercent,S=w+(Z?t.moveDelta.y:t.moveDelta.x)/k*100,T=(0,An.ZP)(P,(function(e){ll(e,{leftPath:x,percent:S,snapPercent:I})}));n(Fn.iH,T)}else n(sl,null)})),ul=(0,c.cn)(null),dl=(0,c.cn)(null,(function(e,n){var t=e($o.TL);n(ul,{sidebarWidthStart:t.width})})),pl=(0,c.cn)(null,(function(e,n,t){var r=t.deltaX,i=e(ul);if(i){var a=e(On.CK),o=i.sidebarWidthStart+r;o=Math.min(Math.max(o,8),a.width),n($o.TL,(function(e){return{pane:e.pane,width:o}})),n(Fn.iH,e(Nn.g4))}})),fl=(0,c.cn)(null,(function(e,n){n(ul,null)}));var ml=(0,c.cn)((function(e){return Boolean(e(ul))})),hl=(0,c.cn)((function(e){return Boolean(e(qo)||e(Do)||e(sl)||e(ir.c)||e(ml))}));var vl=t(7182),gl=(0,c.cn)(null,(function(e,n,t){var r=e(On.CK),i=t.pageX,a=t.pageY,o=t.over,l=e((0,On.z)(o)),s={x:i-r.x,y:a-r.y},c=(0,Ro.QN)(s,l.rect),u=c.rect,d=c.placement,p=e(On.M0);"above"!==d&&"below"!==d?(n(ir.c,!0),n(Wo,{type:"dropPreview",rect:{x:u.x,y:u.y-p,width:u.width,height:u.height+p}})):n(Wo,{type:"dropPreview",rect:{x:u.x,y:u.y-p+("below"===d?p/2:0),width:u.width,height:u.height+p/2}})})),bl=(0,c.cn)(null,(function(e,n,t){var r=e(On.CK),i=t.pageX,a=t.pageY,o=t.over,l=e((0,On.z)(o)),s={x:i-r.x,y:a-r.y},c=(0,Ro.QN)(s,l.rect).placement;n(Wo,null),n(ir.c,!1);var u=e(Nn.g4);if("newPane"===t.type){var d=Gn()();return n(zn.v,{paneId:d,data:t.pane}),void n(Fn.iH,(0,An.ZP)(u,(function(e){try{(0,Ln.m)(e,{id:Gn()(),panes:[d],relativeTo:l.paneId,placement:c})}catch(m){throw n(Hn.xm,{error:m}),m}})))}var p=o;if(p===t.paneId){var f=(0,rr.Rh)(u,t.paneId);if(!f){var m=new Error("Expected pane");throw n(Hn.xm,{error:m}),m}if(f.floating)throw new Error("Expected paneGroup");var h=f.paneGroup.panes.find((function(e){return e!==t.paneId}));if(!h)return;p=h}var v=(0,An.ZP)(u,(function(e){try{(0,Ho.i)(e,t.paneId),(0,Ln.m)(e,{id:Gn()(),panes:[t.paneId],relativeTo:p,placement:c})}catch(m){throw n(Hn.xm,{error:m}),m}}));n(Fn.iH,v)}));var yl=(0,Tt.iv)([v.l0.position.absolute,v.l0.shadow(3),v.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",borderColor:v.TV.outlineDimmest}]);function Zl(e){var n=function(e){var n=e.paneId,t=(0,Kt.Z)((function(){return(0,c.cn)((function(e){if(e(Go))return null;var t=e((0,On.z)(n)),r=n===e(Yo);if("floating"!==t.type&&!r)return null;var i=e(On.M0),a=t.rect;return{width:a.width+2,height:a.height+i+2,top:-(i+1),left:-1}}))}),[n]);return(0,c.Dv)(t)}({paneId:e.paneId});return n?(0,l.tZ)(v.G7,{css:yl,style:n}):null}var xl=(0,s.memo)(Zl),wl=t(25108);function kl(e){var n=e.paneId,t=(0,i.Z)((0,po.L)({accept:[rt.Tv.File,vl.z.Pane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&o.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==vl.z.Pane){if(e.type===rt.Tv.File){var i=e.path,a={type:(0,ar.Dp)({path:i}),data:{path:i}};o.drop({type:"newPane",pane:a,pageX:r.x,pageY:r.y,over:n})}}else o.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,a=t[1],o=function(e){var n=e.isOver,t=(0,c.b9)(Wo);return(0,s.useEffect)((function(){n||t(null)}),[n,t]),{drag:(0,c.b9)(gl),drop:(0,c.b9)(bl)}}({isOver:r});return a}var Pl=function(e){(0,co.Z)(t,e);var n=(0,uo.Z)(t);function t(){var e;return(0,so.Z)(this,t),(e=n.apply(this,arguments)).state={error:null,errorInfo:null},e}var r=t.prototype;return r.componentDidCatch=function(e,n){this.setState({error:e,errorInfo:n}),this.props.handleError(e,n),wl.error(e)},r.render=function(){return this.state.error?(0,l.tZ)(v.G7,{css:[v.l0.font.code,v.l0.p(16),{whiteSpace:"pre",overflow:"hidden",color:"white"},v.l0.backgroundColor.blurpleDefault,v.l0.height("100%")],children:(0,l.tZ)(v.G7,{children:this.state.error.stack})}):this.props.children},t}(s.Component);function Il(e){var n=e.paneId,t=(0,c.Dv)(On.CK),r=(0,c.Dv)((0,On.z)(n)),i=function(e){var n=(0,Kt.Z)((function(){return(0,c.cn)((function(n){return e===n(Go)?n(zo):null}))}),[e]);return(0,c.Dv)(n)}(n),a=(0,Wn.cr)({paneId:n}),o=(0,Hn.IY)(),s=el({paneId:n}),u=(0,c.b9)(Uo),d=(0,Wn.Xo)(),p="floating"===r.type&&!r.isDialog,f=Boolean(r.dropBehavior),m=Jo({paneId:n}),h=f||Boolean(i),v=function(e){var n=(0,Kt.Z)((function(){return(0,c.cn)((function(n){var t=n((0,On.z)(e)),r=e===n(Wn.J1);return n(Go)===e?{hovered:al.maximizedPane,normal:al.maximizedPane}:e===n(Yo)?{hovered:al.draggingPane,normal:al.draggingPane}:"floating"===t.type?{hovered:al.floatingPaneHovered,normal:r?al.floatingPaneActive:al.floatingPane}:{hovered:al.tiledPaneHovered,normal:r?al.tiledPaneActive:al.tiledPane}}))}),[e]);return(0,c.Dv)(n)}(n),g=(0,c.Dv)(hl),b=i||r.rect,y={x:t.x+b.x,y:t.y+b.y},Z=kl({paneId:n}),x="tile"===r.type;return(0,l.BX)(l.HY,{children:[r.isDialog?(0,l.tZ)(Cl,{}):null,(0,l.BX)(Eo,{css:{transform:s?"scale(".concat(s.scale,")"):void 0,transformOrigin:s?"".concat(s.originX," top"):void 0},innerRef:x?Z:void 0,zIndex:v.normal,zIndexHovered:v.hovered,hidden:r.isHidden,viewportInset:y,active:a,rect:b,animate:m,isBeingDragged:f,floating:h,scaleDown:"tile"===r.dropBehavior,resizable:p,onClick:function(){d(n)},onResizeControlPointerDown:function(e,t){jo(e,{start:function(){u({type:"start",paneId:n,edge:t})},move:function(e){var n=e.delta;u({type:"update",moveDelta:n})},end:function(){u({type:"end"})}})},children:[(0,l.tZ)(xl,{paneId:n}),(0,l.tZ)(Pl,{handleError:function(e,n){o({error:e,extras:{errInfo:n},tags:{layoutv2:"true",bsod:"true",paneType:r.type}})},children:(0,l.tZ)(Ao,{disableInteractions:g,children:(0,l.tZ)(Tl,{paneId:n,dataAtom:r.data,isHidden:r.isHidden})})},n)]})]})}function Sl(e){var n=e.paneId,t=e.isHidden,r=e.dataAtom,i=(0,c.Dv)(r),a=(0,wi.Se)().Content,o=(0,c.b9)(or);return(0,l.tZ)(a,{pane:i,options:{paneId:n,isHidden:t,openPane:function(e){o({fromPaneId:n,data:e})}}})}var Tl=(0,s.memo)(Sl);function Cl(){var e=(0,c.b9)(Kn);return(0,l.tZ)(v.G7,{onClick:function(){return e()},css:[v.l0.coverContainer,v.l0.position.fixed,v.l0.backgroundColor.backgroundOverlay]})}var El=(0,s.memo)(Il);var Rl=t(48505),Dl=t(8941),Ul=t(56124),Ml=t(48869);function jl(e,n,t){var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?32:0;if(t){var i=2/3,a=Math.max(e.width,r*i),o=Math.max(e.height,r*i),l="left"===t?1:-1,s=n?0:l*(a-e.width)/2,c=n?l*(o-e.height)/2:0;return{width:n?e.width:a,height:n?o:e.height,x:n?e.x:e.x-(a-e.width)/2+s,y:n?e.y-(o-e.height)/2+c:e.y}}var u=Math.max(e.width,r),d=Math.max(e.height,r);return{width:n?e.width:u,height:n?d:e.height,x:n?e.x:e.x-(u-e.width)/2,y:n?e.y-(d-e.height)/2:e.y}}var _l,Al="--grip-color",Bl="var(".concat(Al,")"),Gl=(0,Tt.iv)((_l={},(0,qn.Z)(_l,Al,w.TV.outlineDimmest),(0,qn.Z)(_l,":active, :hover",(0,qn.Z)({},Al,w.TV.foregroundDefault)),_l)),Ll=(0,Tt.iv)([w.l0.position.absolute,w.l0.center,{minWidth:8,minHeight:8},Gl]),Nl=(0,Tt.iv)({":hover":{transform:"scaleX(4)"}}),Ol=(0,Tt.iv)({":hover":{transform:"scaleY(4)"}}),Xl=(0,Tt.iv)([{backgroundColor:Bl,transition:"background-color"},w.l0.borderRadius(4)]),zl=(0,Tt.iv)([Xl,{transitionDuration:"140ms"}]);function Fl(e){var n=e.snapped,t=e.stacked;return"left"===n?t?(0,l.tZ)(Ml.Z,{color:Bl}):(0,l.tZ)(Dl.Z,{color:Bl}):t?(0,l.tZ)(Ul.Z,{color:Bl}):(0,l.tZ)(Rl.Z,{color:Bl})}function Wl(e){var n=e.rect,t=e.onPointerDown,r=e.onDoubleClick,i=e.stacked,a=e.snapped,o=e.zIndexHovered,s=e.zIndex,c=jl(n,i,a),u=(i?n.width:n.height)<25;return(0,l.BX)(Z.ZP,{onPointerDown:t,onDoubleClick:r,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},style:{width:c.width,height:c.height,transform:"translate(".concat(c.x,"px, ").concat(c.y,"px)"),visibility:u?"hidden":void 0,cursor:i?"row-resize":"col-resize"},css:[Ll,{zIndex:s,":hover":{zIndex:o}}],children:[(0,l.tZ)(Z.ZP,{css:[w.l0.coverContainer,i?Ol:Nl]}),a?(0,l.tZ)(Fl,{snapped:a,stacked:i}):(0,l.tZ)(Z.ZP,{className:"grip-line",style:{width:i?25:2,height:i?2:25},css:zl})]})}var Hl=t(64824),Vl=(0,c.cn)(null,(function(e,n,t){var r=e(Nn.g4),i=(0,An.ZP)(r,(function(e){ll(e,{leftPath:t.leftPath,percent:t.percent})}));n(Fn.iH,i)}));function $l(e){var n=e.handleId,t=(0,c.Dv)((0,On.vv)(n)),r=(0,c.b9)(cl),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,s.useRef)(e),t=(0,c.b9)(Vl),r=(0,Hl.lV)((0,s.useCallback)((function(e){return e(Nn.g4)}),[]));return(0,s.useCallback)((function(i){i.snapped?t({leftPath:i.leftPath,percent:n.current}):Promise.resolve(r()).then((function(r){var a=(0,rr.KC)(r,i.leftPath);if(!a||!(0,ol.r)(a))throw new Error("Expected split or paneGroup");n.current=a.percent,t({leftPath:i.leftPath,percent:e})}))}),[e,t,r])}(),a={normal:al.gutter,hovered:al.gutterHovered};return(0,l.tZ)(Wl,{zIndex:a.normal,zIndexHovered:a.hovered,snapped:t.snapped,rect:t.rect,stacked:t.stacked,onDoubleClick:function(){i(t)},onPointerDown:function(e){jo(e,{start:function(){r({type:"start",leftPath:t.leftPath,stacked:t.stacked})},move:function(e){var n=e.delta;r({type:"update",moveDelta:n})},end:function(){r({type:"end"})}})}})}var Kl=(0,s.memo)($l),ql=t(62991),Yl=t.n(ql),Ql=t(45432),Jl=t.n(Ql);class es extends s.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=s.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=Jl()(this.osTarget(),this.props.options||{},this.props.extensions),ns(this._osInstance,this.props.className)}componentWillUnmount(){Jl().valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){Jl().valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&ns(this._osInstance,this.props.className))}render(){const e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(this.props,["options","extensions","children","className"]);return s.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),s.createElement("div",{className:"os-resize-observer-host"}),s.createElement("div",{className:"os-padding"},s.createElement("div",{className:"os-viewport"},s.createElement("div",{className:"os-content"},this.props.children))),s.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},s.createElement("div",{className:"os-scrollbar-track"},s.createElement("div",{className:"os-scrollbar-handle"}))),s.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},s.createElement("div",{className:"os-scrollbar-track"},s.createElement("div",{className:"os-scrollbar-handle"}))),s.createElement("div",{className:"os-scrollbar-corner"}))}}function ns(e,n){if(Jl().valid(e)){const{host:t}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),i=t.className.split(" ").filter((e=>e.match(r))).join(" ");t.className=`${i} ${n||""}`}}var ts=t(67003),rs={overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave"}};var is=t(53201),as=t(47589),os=t(37432);var ls=t(1855),ss=(0,v.KD)("button"),cs=(0,Tt.iv)([v.l0.display.inlineFlex,v.l0.height("100%")]),us=(0,Tt.iv)([v.l0.cursor.pointer,v.l0.center,v.l0.rowWithGap(4),v.l0.pl(8),v.l0.pr(4),v.l0.height("100%"),{backgroundColor:"transparent",border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]);function ds(e){var n=e.onClick;return(0,l.tZ)(v.hU,{tooltipHidden:!0,onClick:n,alt:"Close",size:18,css:[{"&& svg":{width:12,height:12,minWidth:"unset",minHeight:"unset"},borderRadius:6},v.gU.nofill],children:(0,l.tZ)(y.Z,{})})}function ps(e){var n=(0,H.Z)().fs,t=e.split("/"),r=t.pop(),i=t.join("/"),a=(0,s.useState)(!1),o=a[0],l=a[1],c=function(e){var n=e.path,t=e.initialExpanded,r=(0,H.Z)().fs;return(0,os.Z)({path:n,initialExpanded:t,fs:r})}({path:i.length>0?i:".",initialExpanded:!0}).children,u=null===c||void 0===c?void 0:c.filter((function(e){return e.filename!==r}));return{fileName:r,parentPath:i,renaming:o,siblings:u,handleRename:function(){l(!0)},handleCancel:function(){l(!1)},handleSubmit:function(t){var r=i.length>0?i+"/"+t:t;n.moveFile(e,r),l(!1)}}}function fs(e){var n=e.filePath,t=e.onClick,r=e.onClose,i=e.isActive,a=e.innerRef,o=e.icon,s=e.onPointerDown,c=ps(n),u=c.fileName,d=c.parentPath,p=c.renaming,f=c.siblings,m=c.handleRename,h=c.handleSubmit,g=c.handleCancel;return(0,l.tZ)(v.u,{tooltip:n,placement:"bottom",isDisabled:!d,children:function(e,n){return(0,l.BX)(v.Tg,(0,J.Z)((0,C.Z)({innerRef:(0,ls.l)(a,n),css:[cs,i?v.gU.filled:v.gU.nofill,i?v.l0.color.foregroundDefault:v.l0.color.foregroundDimmer,v.l0.flex.row,v.l0.align.center,v.l0.pr(4)]},e),{children:[p?(0,l.tZ)(as.Z,{onSubmit:h,onCancel:g,loading:!1,siblings:f||[],parentPath:d,type:rt.Tv.File,initialValue:u,rename:!0}):(0,l.BX)(ss,{onPointerDown:s,onDoubleClick:m,css:[us],onClick:t,children:[(0,l.tZ)(v.G7,{css:{opacity:i?1:.6},children:o||null}),(0,l.tZ)(v.xv,{children:u})]}),(0,l.tZ)(ds,{onClick:r})]}))}})}function ms(e){var n=e.title,t=e.onClick,r=e.onClose,i=e.isActive,a=e.innerRef,o=e.icon,s=e.onPointerDown;return(0,l.BX)(v.Tg,{innerRef:a,css:[cs,i?v.gU.filled:v.gU.nofill,i?v.l0.color.foregroundDefault:v.l0.color.foregroundDimmer,v.l0.flex.row,v.l0.align.center,v.l0.pr(4)],children:[(0,l.BX)(ss,{css:[us],onClick:t,onPointerDown:s,children:[(0,l.tZ)(v.G7,{css:{opacity:i?1:.6},children:o||null}),(0,l.tZ)(v.xv,{children:n})]}),(0,l.tZ)(ds,{onClick:r})]})}var hs=(0,v.KD)("div");function vs(e){var n=e.paneId,t=e.isActive,r=e.onClick,a=e.onClose,o=e.dragGroup,u=(0,Kt.Z)((function(){return(0,c.cn)((function(e){return e(e((0,On.z)(n)).data)}))}),[n]),d=(0,c.Dv)(u),p=(0,wi.Se)(),f=p.getTitle(d),m=p.Icon({pane:d,size:16}),h=(0,s.useRef)(null),g=(0,i.Z)((0,is.c)({type:vl.z.Pane,item:function(){var e,t=(null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:vl.z.Pane,paneId:n,width:t}},collect:function(e){return{isDragging:e.isDragging()}}}),2),b=g[0].isDragging,y=g[1],Z=(0,c.b9)(ir.c);(0,s.useEffect)((function(){return Z(b)}),[Z,b]);var x=nl({activePaneId:n}).dnd,w=x&&o?function(e){jo(e,{start:x.start,move:x.update,end:x.end})}:void 0;return(0,l.tZ)(hs,{css:b?[v.l0.width(0),v.l0.visibility.hidden]:[v.l0.px(2)],onMouseDown:function(e){1===e.button&&a()},children:(0,ar.KM)(d)?(0,l.tZ)(fs,{onPointerDown:w,innerRef:w?void 0:(0,ls.l)(y,h),filePath:f,isActive:t,icon:m,onClick:function(){(0,S.j)(S.U3.WS_TAB_OPENED,{paneType:d.type}),r()},onClose:function(){(0,S.j)(S.U3.WS_TAB_CLOSED,{paneType:d.type}),a()}}):(0,l.tZ)(ms,{onPointerDown:w,innerRef:w?void 0:(0,ls.l)(y,h),title:f,isActive:t,icon:m,onClick:function(){(0,S.j)(S.U3.WS_TAB_OPENED,{paneType:d.type}),r()},onClose:function(){(0,S.j)(S.U3.WS_TAB_CLOSED,{paneType:d.type}),a()}})})}function gs(){var e=(0,E.Z)(["\n  query ReplEnvironmentHeaderContainer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n  }\n"]);return gs=function(){return e},e}var bs={},ys=(0,R.ZP)(gs());var Zs=t(25386);function xs(){var e=(0,H.Z)().presence,n=(0,i.Z)(s.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return s.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}function ws(){var e=xs();return 0===e.length?null:1===e.length?(0,l.tZ)(ks,{user:e[0]}):(0,l.BX)("div",{className:"jsx-4f2e88846001c10e followed-indicator",children:[(0,l.BX)(cn.Z,{children:[e.length," users are observing you"]}),(0,l.tZ)(q(),{id:"4f2e88846001c10e",children:".followed-indicator.jsx-4f2e88846001c10e{white-space:nowrap;height:100%;max-width:100%;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding-left:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}function ks(e){var n=e.user,t=(0,Y.qC)({variables:{ids:[n.id]},ssr:!1}).data;if(!t)return null;var r=t.usersByIds,a=(0,i.Z)(r,1)[0].image,o=n.id,s=n.username,c=n.color;return(0,l.BX)("div",{className:"jsx-add9eb548244268a followed-indicator",children:[(0,l.BX)(en.Ug,{wrap:"nowrap",align:"center",className:"stack",spacing:"var(--space-4)",children:[(0,l.tZ)(te,{id:o,username:s,image:a,color:c,size:22}),(0,l.tZ)(cn.Z,{className:"username",children:s}),(0,l.tZ)("div",{className:"jsx-add9eb548244268a text",children:(0,l.tZ)(cn.Z,{children:"is observing you"})})]}),(0,l.tZ)(q(),{id:"add9eb548244268a",children:".followed-indicator.jsx-add9eb548244268a{height:100%;max-width:100%;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding-left:var(--space-8)}.text.jsx-add9eb548244268a{white-space:nowrap}.followed-indicator.jsx-add9eb548244268a .stack{height:100%}.followed-indicator.jsx-add9eb548244268a .username{overflow:clip;max-width:150px;display:inline-block;-o-text-overflow:ellipsis;text-overflow:ellipsis}"})]})}function Ps(e){var n=e.id,t=e.username,r=e.color,a=(0,H.Z)().presence,o=(0,Y.qC)({variables:{ids:[n]},ssr:!1}).data;if(!o)return null;var s=o.usersByIds,c=(0,i.Z)(s,1)[0].image;return(0,l.BX)("div",{className:q().dynamic([["48dd00c96a834430",[r]]])+" following-indicator",children:[(0,l.BX)(en.Ug,{wrap:"nowrap",className:"stack",spacing:"var(--space-4)",children:[(0,l.tZ)(en.gC,{className:"stack",align:"center",justify:"center",children:(0,l.tZ)(te,{id:n,username:t,image:c,color:r,size:22})}),(0,l.tZ)(en.gC,{className:"text-container",align:"center",justify:"center",children:(0,l.BX)(cn.Z,{className:"following-text",children:["Observing ",t]})}),(0,l.tZ)(en.gC,{className:"stack",align:"center",justify:"center",children:(0,l.BX)(mn.Z,{size:"small",filled:!1,border:!1,textColor:r,onClick:function(){a.unfollowUser()},children:[(0,l.tZ)(he.T,{children:"stop observing"}),(0,l.tZ)(y.Z,{})]})})]}),(0,l.tZ)(q(),{id:"48dd00c96a834430",dynamic:[r],children:".following-indicator.__jsx-style-dynamic-selector{height:100%;max-width:100%;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding-left:var(--space-8)}.following-indicator.__jsx-style-dynamic-selector .stack{height:100%;max-width:100%;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow:clip}.following-indicator.__jsx-style-dynamic-selector .text-container{height:100%;margin-right:-2px}.following-indicator.__jsx-style-dynamic-selector .following-text{color:".concat(r,";white-space:nowrap}")})]})}var Is=t(22414);var Ss=t(86601);function Ts(e){var n=e.activeFile,t=e.paneId,r=function(e){var n=(0,C.Z)({},bs,e);return D.useQuery(ys,n)}({variables:{replId:(0,fe.Z)()}}).data,i="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl.language:"",a=(0,c.Dv)(ir.bg),o=(0,c.b9)(ir.ao),u=(0,c.b9)(ir.Ky),d=n&&(0,it.gK)(n),p=function(e){var n=e.paneId,t=(0,Ss.Z)(),r=(0,Wn.cr)({paneId:n});return t&&r?t:null}({paneId:t}),f=function(e){var n=e.paneId,t=xs();return(0,Wn.cr)({paneId:n})&&t.length>0?t:null}({paneId:t}),m=function(){var e=(0,$t.Z)((0,c.Dv)(Is.$));return(0,s.useCallback)((function(){setTimeout((function(){var n;return null===(n=e.current)||void 0===n?void 0:n.focus()}),0)}),[e])}(),h=(0,Wn.cr)({paneId:t}),g=null;return p?g=(0,l.tZ)(Ps,{id:p.id,username:p.username,color:p.color}):d&&n?g=a?(0,l.tZ)(v.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,l.tZ)(tn.Z,{}),text:"Close preview",onClick:function(){o({type:"markdown"}),m()}}):(0,l.tZ)(v.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,l.tZ)(nn.Z,{}),text:"Open preview",onClick:function(){n&&(u({type:"markdown",data:{path:n}}),m())}}):n&&(g=(0,l.tZ)(Zs.Z,{filePath:n,replLanguage:i,disableKeyboardShortcut:!h})),null!==g||f?(0,l.BX)(v.G7,{css:[v.l0.px(4),v.l0.rowWithGap(8)],children:[f&&n?(0,l.tZ)(ws,{}):null,g]}):null}var Cs=t(59369),Es=t(89295),Rs=t(94860),Ds=t(73148),Us=t(87534),Ms=t(99932),js=t(90849),_s=t(87671),As=t(66843),Bs=(0,c.cn)(null,(function(e,n,t){var r=e(Nn.g4),i=e((0,On.z)(t)),a=i.rect,o=i.type,l=(0,rr.Rh)(r,t);if(!l){var s=new Error("Expected pane");throw n(Hn.xm,{error:s}),s}if("tile"!==o){var c=e(On.Eh).filter((function(e){return"tile"===e.type&&!e.isHidden})),u=e(On.M0),d={x:a.x+a.width/2,y:a.y+a.height/2},p=c.find((function(e){return(0,Ro.V0)(d,{x:e.rect.x,y:e.rect.y-u,width:e.rect.width,height:e.rect.height+u})})),f="leftOf";p&&(f=(0,Ro.QN)(d,p.rect).placement),n(Fn.iH,(0,An.ZP)(r,(function(e){!function(e,n){var t=n.paneGroupPath,r=n.placement,i=n.to,a=(0,rr.KC)(e,t);if("floatingPaneGroup"!==(null===a||void 0===a?void 0:a.type))throw new Error("Expected floatingPaneGroup");(0,Ho.Z)(e,t),null!==i?(0,Ln.m)(e,{id:a.id,relativeTo:i,panes:a.panes,activeIndex:a.activeIndex,placement:r}):e.tiling={id:a.id,panes:a.panes,percent:100,type:"paneGroup",activeIndex:a.activeIndex}}(e,{paneGroupPath:l.paneGroupPath,to:(null===p||void 0===p?void 0:p.paneId)||["tiling"],placement:f})})))}else n(Fn.iH,(0,An.ZP)(r,(function(e){Vo(e,{paneGroupPath:l.paneGroupPath,rect:{x:a.x-16,y:a.y-16,width:a.width,height:a.height}})})))}));var Gs=t(90145);function Ls(e){var n=e.paneId,t=(0,c.b9)(Bs),r=(0,_s.e3)(),i=(0,_s.CK)(),a=(0,_s.Bd)(),o=function(e){var n=e.paneId,t=(0,Kt.Z)((function(){return(0,c.cn)((function(e){return"floating"===e((0,On.z)(n)).type}))}),[n]);return(0,c.Dv)(t)}({paneId:n}),s={maximizePane:(0,c.b9)(Lo),restoreMaximizedPane:(0,c.b9)(No)},u=s.maximizePane,d=s.restoreMaximizedPane,p=Fo(n);if(p)return(0,l.tZ)(v.hU,{onClick:function(){return d()},alt:p?"Restore":"Fullscreen",children:(0,l.tZ)(Rs.Z,{})});var f={label:"Maximize",icon:(0,l.tZ)(Es.Z,{}),run:function(){return u(n)}},m=o?[f]:[{label:"Insert Left",icon:(0,l.tZ)(Us.Z,{}),run:function(){a({placement:"leftOf",paneId:n}),(0,S.j)(S.U3.WS_SPLIT_USED,{action:"opened",placement:"leftOf"})}},{label:"Insert Right",icon:(0,l.tZ)(Ms.Z,{}),run:function(){a({placement:"rightOf",paneId:n}),(0,S.j)(S.U3.WS_SPLIT_USED,{action:"opened",placement:"rightOf"})}},{label:"Insert Up",icon:(0,l.tZ)(js.Z,{}),run:function(){a({placement:"above",paneId:n}),(0,S.j)(S.U3.WS_SPLIT_USED,{action:"opened",placement:"above"})}},{label:"Insert Down",icon:(0,l.tZ)(Ds.Z,{}),run:function(){a({placement:"below",paneId:n}),(0,S.j)(S.U3.WS_SPLIT_USED,{action:"opened",placement:"below"})}},f];return(r||o)&&(m.splice(m.length-1,0,{label:o?"Unfloat":"Float",icon:o?(0,l.tZ)(Gs.Z,{}):(0,l.tZ)(As.Z,{}),run:function(){t(n)}}),m.push({label:"Close",icon:(0,l.tZ)(y.Z,{}),run:function(){i(n),(0,S.j)(S.U3.WS_SPLIT_USED,{action:"closed"})}})),(0,l.tZ)(Cs.Z,{resetOnSelect:!0,label:"Pane Actions",items:m,onItemClick:function(e){e.run()}})}var Ns=(0,s.memo)(Ls),Os=(0,v.KD)("div"),Xs=(0,Tt.iv)([v.l0.flex.growAndShrink(1),v.l0.minWidth(16),v.l0.height("100%")]);function zs(e){var n=nl({activePaneId:e.paneId}),t=n.isDragging,r=n.dnd;if(!r)return null;var i=t?"grabbing":"grab";return(0,l.tZ)(Os,{css:[Xs],style:{cursor:i},onPointerDown:function(e){jo(e,{start:r.start,move:r.update,end:r.end})}})}function Fs(e){var n=e.paneId,t=e.onChange,r=(0,Kt.Z)((function(){return(0,c.cn)((function(e){return e((0,On.z)(n)).rect.width}))}),[n]),i=(0,c.Dv)(r),a=(0,$t.Z)(t),o=(0,Kt.Z)((function(){return(0,Mo.Z)((function(){a.current()}),500)}),[a]);return(0,s.useEffect)(o,[i,o]),null}function Ws(e){var n=(0,On.Xs)(e),t=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var t=e(n);return e((0,On.z)(t.panes[t.activeIndex])).paneId}))}),[n]);return(0,c.Dv)(t)}function Hs(e){var n=e.headerId,t=(0,c.b9)(ir.Oe),r=(0,c.b9)(ir.Et),a=(0,c.b9)(ir.SG),o=(0,c.b9)(Xn.U),u=(0,c.Dv)(ir.c),d=function(e){var n=(0,On.Xs)(e),t=(0,c.Dv)((0,Kt.Z)((function(){return(0,c.cn)((function(e){return e(n).activeIndex}))}),[n])),r=(0,c.Dv)((0,Kt.Z)((function(){return(0,Hl.kv)(n,(function(e){return e.path}),Yl())}),[n])),i=(0,c.Dv)((0,Kt.Z)((function(){return(0,Hl.kv)(n,(function(e){return e.panes}),Yl())}),[n])),a=Ws(e),o=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var t=e(n),r=e((0,On.z)(t.panes[t.activeIndex])),i=e(r.data);return(0,ar.KM)(i)?(0,ar.DQ)(i):null}))}),[n]);return{activeIndex:t,path:r,panes:i,activeTabPaneId:a,activeFile:(0,c.Dv)(o)}}(n),p=d.activeIndex,f=d.path,m=d.panes,h=d.activeTabPaneId,g=d.activeFile,b=function(){var e,n=(0,s.useRef)(null),t=null===(e=n.current)||void 0===e?void 0:e.osInstance(),r=(0,s.useRef)(0),i=(0,s.useRef)(0),a=(0,ts.Fg)().isDarkColorScheme;return{options:rs,handleWheel:function(e){if(t&&0!==e.deltaY&&0===e.deltaX){var n=e.deltaY<0?-1:1,a=i.current!==n?t.scroll().position.x:r.current,o=25*n,l=t.scroll().max.x;r.current=Math.max(0,Math.min(l,a-o)),i.current=n;var s=function(){if(t){var e=t.scroll().position.x,n=r.current-e,i=Math.round(e+n/10);0!==n&&(t.scroll({x:i}),window.requestAnimationFrame(s))}};window.requestAnimationFrame(s)}},ref:n,className:a?"os-theme-light":"os-theme-dark",update:(null===t||void 0===t?void 0:t.update)?function(){return t.update()}:null}}(),y=(0,i.Z)((0,po.L)({accept:[rt.Tv.File,vl.z.Pane],hover:function(e,n){var t=n.getSourceClientOffset();t&&P({item:e,panes:m,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,n){if(!n.didDrop()){var t=null!==(null===I||void 0===I?void 0:I.index)?null===I||void 0===I?void 0:I.index:m.length;if(e.type!==rt.Tv.File){var i=m.includes(e.paneId)?m.length-1:m.length;a({paneId:e.paneId,index:void 0!==t&&t<i?t:i,toPaneGroupPath:f})}else r({activate:!0,paneGroupPath:f,index:t,pane:{type:"codeEditor",data:{path:e.path}}})}}}),2),Z=y[0],x=y[1],w=function(e){var n=e.isOver,t=(0,s.useState)(null),r=t[0],i=t[1],a=(0,s.useRef)(null),o=(0,s.useRef)([]);(0,s.useEffect)((function(){if(!n)return o.current=[],void i(null);a.current&&(o.current=(0,ke.Z)(a.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var l=(0,s.useCallback)((function(e){if(0!==o.current.length){var n=e.item.type===vl.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,a=(null===n||void 0===n?void 0:n.width)||80,l=o.current.map((function(e,n){return-1===r||r<n?e:e+a/2})).findIndex((function(n){return n>e.sourceClientOffset})),s=-1===l,c=-1===r?e.panes.length:e.panes.length-1;i({index:s?c:Math.min(l,c),paneId:t,width:a})}}),[]);return{tabContainerRef:a,hover:l,dropState:r}}({isOver:Z.isOver}),k=w.tabContainerRef,P=w.hover,I=w.dropState,S=I?I.index:null;if((null===I||void 0===I?void 0:I.paneId)&&null!==S){var T=m.indexOf(I.paneId);T>-1&&T<S&&S++}var C=I&&null!==S?(0,ke.Z)(m.slice(0,S)).concat([I],(0,ke.Z)(m.slice(S))):m;return(0,l.BX)(l.HY,{children:[(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(2),v.l0.flex.growAndShrink(1),v.l0.align.center,v.l0.height("100%")],innerRef:x,children:[(0,l.tZ)(v.G7,{css:[v.l0.flex.row,v.l0.flex.shrink(1),v.l0.align.center,v.l0.height("100%")],children:(0,l.tZ)(es,{style:{height:"100%",width:"100%"},className:b.className,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave",visibility:u?"hidden":"auto"}},onWheel:b.handleWheel,ref:b.ref,children:(0,l.tZ)(v.G7,{innerRef:k,css:[v.l0.flex.row,v.l0.height("100%"),v.l0.py(4),v.l0.px(2)],children:C.map((function(e,n){var r=p===n;return"string"!==typeof e?(0,l.tZ)(v.G7,{css:[v.l0.px(2)],children:(0,l.tZ)(v.G7,{css:[v.l0.borderRadius(8),v.l0.width(e.width),v.l0.height(28),v.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(v.TV.accentPrimaryDefault)}]})},"preview"):(0,l.tZ)(vs,{dragGroup:1===m.length,paneId:e,isActive:r,onClick:function(){t(e)},onClose:function(){o(e)}},e)}))})})}),(0,l.tZ)(v.hU,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupPath:f,activate:!0,pane:{type:"commands",data:{autoFocus:!0}}})},children:(0,l.tZ)(ln.Z,{})}),(0,l.tZ)(zs,{paneId:h})]}),(0,l.tZ)(Ts,{headerId:n,paneId:h,activeFile:g}),(0,l.tZ)(v.G7,{css:v.l0.px(4),children:(0,l.tZ)(Ns,{paneId:h})}),b.update?(0,l.tZ)(Fs,{paneId:h,onChange:b.update}):null]})}var Vs=(0,s.memo)(Hs),$s=(0,Tt.iv)([v.l0.borderRadius(8,8,0,0),v.l0.position.absolute,v.l0.flex.row,v.l0.align.center],{borderBottom:"1px solid ".concat(v.TV.backgroundHigher)}),Ks=["top","right","left","topRight","topLeft"];function qs(e){var n=e.headerId,t=function(e){var n=e.headerId,t=(0,On.Xs)(n),r=(0,Kt.Z)((function(){return(0,c.cn)((function(e){return"floating"===e(t).path[0]}))}),[t]);return(0,c.Dv)(r)}({headerId:n}),r=Ws(n),i=(0,c.b9)(Uo);return t?(0,l.tZ)(l.HY,{children:Ks.map((function(e){return(0,l.tZ)(xo,{size:8,edge:e,onPointerDown:function(n){jo(n,{start:function(){i({type:"start",paneId:r,edge:e})},move:function(e){var n=e.delta;i({type:"update",moveDelta:n})},end:function(){i({type:"end"})}})}},e)}))}):null}var Ys=(0,s.memo)(qs);function Qs(e){var n=e.headerId,t=(0,On.Xs)(n),r=Ws(n),i=Fo(r),a=(0,Kt.Z)((function(){return(0,c.cn)((function(e){return e(t).rect}))}),[t]),o=(0,c.Dv)(a),s=function(e){var n=(0,Kt.Z)((function(){return(0,c.cn)((function(n){var t=n((0,On.z)(e)),r=e===n(Wn.J1);return n(Go)===e?al.maximizedHeader:e===n(Yo)?al.draggingHeader:"floating"===t.type?r?al.floatingHeaderActive:al.floatingHeader:al.tiledHeader}))}),[e]);return(0,c.Dv)(n)}(r),u=el({paneId:r}),d=i||o,p=Jo({paneId:r});return(0,l.BX)(v.Tg,{elevated:!0,css:$s,style:{transform:u?"scale(".concat(u.scale,")"):void 0,transformOrigin:u?"".concat(u.originX," bottom"):void 0,width:d.width,height:d.height,top:Math.round(d.y),left:Math.round(d.x),zIndex:s,transitionProperty:p?"all":void 0,transitionDuration:p?"140ms":void 0,transitionTimingFunction:p?"ease-out":void 0},children:[(0,l.tZ)(Vs,{headerId:n}),(0,l.tZ)(Ys,{headerId:n})]})}var Js=(0,s.memo)(Qs);function ec(){var e=(0,c.Dv)(Wo),n=(0,c.Dv)(Nn._E),t=function(){var e=(0,Kt.Z)((function(){return(0,c.cn)((function(e){var n=e(Wo);return"detachPreview"===(null===n||void 0===n?void 0:n.type)?al.detachPreview:al.dropPreview}))}),[]);return(0,c.Dv)(e)}();if(!e)return null;var r=e.rect,i="detachPreview"===e.type?e.progress:1,a="detachPreview"===e.type?e.rect.height:8,o="detachPreview"===e.type&&i<.98?w.TV.foregroundDefault:w.TV.accentPrimaryDefault,s="detachPreview"===e.type?void 0:w.TV.accentPrimaryDimmer;return(0,l.tZ)("div",{style:{position:"absolute",border:"1px ".concat(i<.98?"dashed":"solid"),pointerEvents:"none",width:r.width,height:r.height,backgroundColor:s,borderColor:o,borderRadius:a,zIndex:t,opacity:"detachPreview"===e.type?.5*i:.2,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:n?"transform 140ms, width 140ms, height 140ms, border-radius 140ms":void 0},children:"detachPreview"===e.type?(0,l.tZ)(nc,{progress:i}):null})}function nc(e){var n=e.progress;return(0,l.tZ)("div",{style:{width:"100%",height:"100%",transform:"scale(".concat(n,")"),background:"radial-gradient(transparent, ".concat(w.TV.backgroundHighest,")"),borderRadius:"100%"}})}var tc=(0,s.memo)(ec),rc=t(96189);var ic=t(92364);function ac(){var e=(0,E.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return ac=function(){return e},e}var oc=(0,R.ZP)(ac());function lc(e){return sc.apply(this,arguments)}function sc(){return(sc=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==cr.l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,cr.l.query({query:oc,variables:{username:n}});case 5:return r=e.sent.data,e.abrupt("return",null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.image);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(){return"Notification"in window?"true"===Yn.Z.get(mc,"string")?"dismissed":window.Notification.permission:"denied"}function uc(){return dc.apply(this,arguments)}function dc(){return(dc=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,window.Notification.requestPermission().then(),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))})));case 7:return e.abrupt("return",window.Notification.requestPermission());case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function pc(){return fc.apply(this,arguments)}function fc(){return(fc=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uc();case 2:n=e.sent,hc(!1),(0,S.j)("granted"===n?S.U3.WEB_NOTIFICATION_PERM_GRANTED:S.U3.WEB_NOTIFICATION_PERM_DENIED);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mc="notifications/dismissedModal";function hc(e){Yn.Z.set(mc,String(e)),e&&(0,S.j)(S.U3.WEB_NOTIFICATION_PERM_DISMISSED_MODAL)}var vc={};function gc(){return(gc=(0,r.Z)(o().mark((function e(n){var t,r,i,a,l,s,c,u,d,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.title,r=n.body,i=n.badge,a=n.icon,l=n.iconByUsername,s=n.tag,c=n.onClick,u=n.cacheDuration,d=void 0===u?0:u,document.hidden||!document.hasFocus()){e.next=3;break}return e.abrupt("return");case 3:if("granted"===cc()){e.next=5;break}return e.abrupt("return");case 5:if(p=Date.now(),!(s in vc)){e.next=9;break}if(!(vc[s]+d>p)){e.next=9;break}return e.abrupt("return");case 9:if(!l){e.next=13;break}return e.next=12,lc(l);case 12:a=e.sent;case 13:f=new window.Notification(t,{body:r,badge:i||"/public/images/logo-grayscale.png",icon:a||"/public/images/icon-square.png",tag:s}),setTimeout((function(){f.close()}),1e4),f.addEventListener("click",(function(){window.focus(),f.close()})),c&&f.addEventListener("click",c),vc[s]=p;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bc=t(20431);var yc=44100,Zc=32896,xc=function e(){var n=this;(0,so.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,a=Math.floor(i*yc);a>e-Zc;)n.audioStart+=.7459410430839002,a-=Zc;a>e&&(t=a-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var o,l,s,c=n.audioCtx.createBufferSource(),u=n.samples.length/1,d=n.audioCtx.createBuffer(1,u,yc),p=0;p<1;p++)for(o=d.getChannelData(p),l=p,s=0;s<u;s++)o[s]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),c.buffer=d,c.connect(n.gainNode),c.start(n.startTime),n.stop(),n.bufferSource=c,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime};function wc(e){var n=e.container,t=(0,s.useState)(!1),r=t[0],i=t[1],a=(0,s.useRef)(null);(0,s.useEffect)((function(){return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel;if(n){var t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,(0,S.j)(S.U3.AUDIO_PLAYING_STARTED),a.current=function(){t=new xc,a.current=null},i(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){i(!1),t&&(t.stop(),t=null),a.current=null}}}))}),[n]);var o=function(){i(!1),(0,S.j)(S.U3.AUDIO_PROMPT_CLOSED,{accepted:!1})};return(0,l.tZ)(v.u_,{isOpen:r,onRequestClose:o,children:(0,l.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,l.tZ)(v.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,l.BX)(v.G7,{css:[v.l0.colWithGap(8)],children:[(0,l.tZ)(v.xv,{multiline:!0,children:"Hey! It appears that this Repl is playing audio."}),(0,l.tZ)(v.xv,{multiline:!0,children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(12),v.l0.justify.end],children:[(0,l.tZ)(v.zx,{onClick:o,text:"Cancel"}),(0,l.tZ)(v.zx,{colorway:"positive",onClick:function(){i(!1),(0,S.j)(S.U3.AUDIO_PROMPT_CLOSED,{accepted:!0}),a.current&&a.current()},text:"Confirm",iconLeft:(0,l.tZ)(k.Z,{})})]})]})})}var kc=t(51995),Pc=t(91082),Ic=t(48920),Sc=t(11070),Tc={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"};function Cc(){var e=(0,c.b9)(wt),n=(0,s.useState)(!1),t=n[0],r=n[1],i=(0,ji.A)(),a=(0,H.Z)(),o=a.fs,u=a.container,d=a.runner,p=(0,$.L7)(d),f=(0,Li.T)(),m=(0,dr.C)();(0,Er.x)(yt,{run:e}),(0,Er.x)(ki.q,{run:function(){e(ki.i({openFile:m,fs:o,shouldHideFile:f,getRecentFiles:i}))}}),(0,Er.x)(Di,{run:function(){e(Ui({container:u}))}}),kr(ki.i({openFile:m,fs:o,shouldHideFile:f,getRecentFiles:i}));var h=(0,Yt.Q)("flagGhostrunner");return kr(Ui({container:u,activeOnly:h})),kr({match:Tr.pl,data:{type:"action",icon:(0,l.tZ)(kc.Z,{}),label:"Run",description:"Run Repl",run:function(){d.run()},keyboardShortcut:Tc}},{enabled:p===Ic.A.IDLE}),(0,Er.x)(Tc,{run:function(){p===Ic.A.RUNNING&&d.stopRun(),d.run()},enabled:p!==Ic.A.OFFLINE}),kr({match:Tr.pl,data:{type:"action",icon:(0,l.tZ)(Pc.Z,{}),label:"Stop",description:"Stop Repl",run:function(){d.stopRun()}}},{enabled:p===Ic.A.RUNNING}),kr({match:(0,Tr.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,l.tZ)(ln.Z,{}),description:"Create a new Repl",run:function(){r(!0)}}}),(0,l.tZ)(b.Z,{isOpen:t,onRequestClose:function(){return r(!1)},maxWidth:600,centered:!0,children:(0,l.tZ)(Sc.Z,{})})}var Ec=(0,s.memo)(Cc),Rc=t(75597),Dc=t(31066);function Uc(){var e=(0,E.Z)(["\n  query ContentsDiverged {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return Uc=function(){return e},e}var Mc={},jc=(0,R.ZP)(Uc());var _c=t(11291);function Ac(){var e,n=(0,H.Z)().fs,t=(0,s.useRef)(new Map),i=(0,tt.Z)(),a=(0,s.useState)(!1),u=a[0],d=a[1],p=(0,s.useState)(!1),f=p[0],m=p[1],h=(0,s.useState)([]),g=h[0],b=h[1],y=function(e){var n=(0,C.Z)({},Mc,e);return D.useQuery(jc,n)}().data,Z=(null===y||void 0===y||null===(e=y.currentUser)||void 0===e?void 0:e.isAdmin)||window.location.search.includes("debug=1"),w=(0,Hn.IY)(),k=(0,c.b9)(ir.a4),P=g.map((function(e){return e.path})).map((function(e){return{title:e,path:e}})),I=(0,s.useState)(),T=I[0],E=I[1];(0,s.useEffect)((function(){if(i&&!t.current.has(i)&&i!==Dc.rq){var e=function(e){k(e),t.current.delete(i),b((function(e){return e.filter((function(e){return e.path!==i}))}))};(0,it.Mb)(i)?n.watchOtFile(i,{onMoveOrDelete:e,onError:function(e,t){e.code||(n.flush(),n.persist({skipDebounce:!0}),w({error:e,extras:t,tags:{ot:!0}}))},onReconnectFail:function(e,n){b((function(t){return(0,ke.Z)(t).concat([{path:i,prompt:n,cb:e}])})),d(!0),T||E(i)}}):n.watchFile(i,{onChange:function(){},onMoveOrDelete:e}),t.current.set(i,!0)}}),[i,n,w,k]);var R,U,M=function(){var e=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,S.j)(S.U3.FILE_RECONNECT_FALLBACK_CHOSEN,{choice:n}),(0,S.j)(S.U3.CONTENTS_DIVERGED_ACTION,{action:"local"===n?"client":"server"}),m(!0),e.next=5,Promise.all(g.map((function(e){return b((function(n){var t=n.filter((function(n){return n.path!==e.path}));return 0===t.length?d(!1):E(t[0].path),t})),e.cb(n)})));case 5:m(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=T?g.find((function(e){return e.path===T})):null,_=null===j||void 0===j?void 0:j.prompt,A=T,B=(0,_c.J)({left:{code:null!==(R=null===_||void 0===_?void 0:_.localContent)&&void 0!==R?R:"",filePath:A},right:{code:null!==(U=null===_||void 0===_?void 0:_.remoteContent)&&void 0!==U?U:"",filePath:A}}),G=B.left,L=B.right,N=[v.l0.minHeight("7em"),v.l0.maxHeight("50vh"),v.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,l.tZ)(v.u_,{css:[{maxHeight:"90%",maxWidth:"90%"}],preventClose:!0,isOpen:u,onRequestClose:function(){},children:(0,l.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,l.tZ)(x.h,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,l.BX)(x.x,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",g.length>1?"these files":"this file"," you'd like to keep."," ",g.length>1?(0,l.BX)("strong",{children:["There are ",g.length," files impacted by this."]}):""]}),f?(0,l.tZ)(Rc.Loader,{}):(0,l.BX)(l.HY,{children:[P.length?(0,l.tZ)(v.Ph,{initialSelectedItem:P[0],selectedItem:P.find((function(e){return e.path===T})),items:P,onChange:function(e){E(e.path)}}):null,Z?(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(16),v.l0.justify.start,v.l0.align.center,v.l0.pt(16),v.l0.p(8),v.l0.backgroundColor.redDimmest,v.l0.font.code],children:[(0,l.tZ)(x.x,{variant:"subheadDefault",children:"Debug View"}),(0,l.BX)(x.x,{children:["Divergence type: ",null===_||void 0===_?void 0:_.case]})]}):null,(0,l.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,l.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,l.tZ)(x.x,{variant:"subheadDefault",children:"My changes"}),(0,l.tZ)(v.Tg,{elevated:!0,css:[v.l0.flex.growAndShrink(1),v.l0.py(8)],children:(0,l.tZ)(v.G7,{css:N,children:(0,l.tZ)(_c.q,{diffViewer:G})})}),(0,l.BX)(v.G7,{css:[v.l0.pt(16)],children:[(0,l.tZ)(x.x,{multiline:!0,css:[v.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,l.tZ)(v.zx,{onClick:function(){M("local")},text:"Reset to Mine"})]})]}),(0,l.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,l.tZ)(x.x,{variant:"subheadDefault",children:"Shared changes"}),(0,l.tZ)(v.Tg,{elevated:!0,css:[v.l0.flex.growAndShrink(1),v.l0.py(8)],children:(0,l.tZ)(v.G7,{css:N,children:(0,l.tZ)(_c.q,{diffViewer:L})})}),(0,l.BX)(v.G7,{css:[v.l0.pt(16),v.l0.justify.end],children:[(0,l.tZ)(x.x,{multiline:!0,css:[v.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,l.tZ)(v.zx,{onClick:function(){M("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var Bc=t(46701),Gc=t(79611),Lc=t(98099),Nc=t(20934),Oc=t(75026);var Xc=function(e){var n,t=e.unreadThreadCount,r=void 0===t?0:t,i=e.isOpen,a=e.onClick,o=r>0;return(0,l.BX)(v.G7,{css:[v.l0.position.relative],children:[o?(0,l.tZ)("div",{css:[v.l0.width(8),v.l0.height(8),v.l0.backgroundColor.redStronger,v.l0.position.absolute,i?v.l0.top(1):v.l0.top(-2),i?v.l0.right(1):v.l0.right(-2),v.l0.transition.snappy,v.l0.borderRadius("full")]}):null,(0,l.tZ)(v.hU,{size:28,alt:(n=i,n?"Hide inbox":"View inbox"),onClick:a,css:[v.l0.width(36),v.l0.height(36),v.l0.transition.snappy,v.l0.cursor.pointer,i?v.l0.borderRadius("full"):v.l0.borderRadius(8),{borderWidth:v.TV.borderWidthDefault,borderStyle:"solid",borderColor:i?v.TV.accentPrimaryDefault:v.TV.outlineStronger,backgroundColor:i?v.TV.accentPrimaryDimmer:v.TV.backgroundHighest},{":hover":{borderColor:v.TV.accentPrimaryDefault,background:v.TV.accentPrimaryDimmest+" !important"}}],children:i?(0,l.tZ)(y.Z,{size:24}):(0,l.tZ)(Oc.Z,{size:24})})]})};var zc=function(e){var n=e.unreadThreadCount,t=e.onClick;return(0,l.BX)("div",{onClick:t,css:{backgroundColor:w.TV.blurpleDefault},className:q().dynamic([["6310b31df33ae425",[w.TV.borderRadius8,w.TV.borderRadius8]]])+" floating-icon-wrapper",children:[(0,l.tZ)("div",{className:q().dynamic([["6310b31df33ae425",[w.TV.borderRadius8,w.TV.borderRadius8]]])+" chat-icon-wrapper",children:(0,l.tZ)(Oc.Z,{})}),n>0&&(0,l.tZ)("div",{className:q().dynamic([["6310b31df33ae425",[w.TV.borderRadius8,w.TV.borderRadius8]]])+" unread-icon"}),(0,l.tZ)(q(),{id:"6310b31df33ae425",dynamic:[w.TV.borderRadius8,w.TV.borderRadius8],children:".floating-icon-wrapper.__jsx-style-dynamic-selector{height:36px;width:50px;-webkit-border-radius:".concat(w.TV.borderRadius8," 0 0 ").concat(w.TV.borderRadius8,";-moz-border-radius:").concat(w.TV.borderRadius8," 0 0 ").concat(w.TV.borderRadius8,";border-radius:").concat(w.TV.borderRadius8," 0 0 ").concat(w.TV.borderRadius8,";position:absolute;right:0px;bottom:var(--space-16);z-index:10;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;opacity:1;-webkit-transition:300ms;-moz-transition:300ms;-o-transition:300ms;transition:300ms}.chat-icon-wrapper.__jsx-style-dynamic-selector{width:32px;height:32px;padding:5px;color:#fff}.unread-icon.__jsx-style-dynamic-selector{position:absolute;top:5px;left:12px;background:red;width:8px;height:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;z-index:11}")})]})};function Fc(){var e=(0,na.c)("flag-threads-2"),n=e.enabled,t=e.loading,r=(0,fe.Z)(),a=(0,Lc.Z)(r,{onReceiveAnnotationUpdate:function(){}}).unreadThreadCount,o=(0,i.Z)((0,c.KO)(Nc.c),2),s=o[0],u=o[1],d=function(){s||((0,S.j)(S.U3.THREADS_OPENED,{unread:Boolean(a)}),(0,S.j)(S.U3.MESSAGES_LIST_OPENED,{replId:r,context:"threads",variant:"replace-chat"})),u((function(e){return!e}))};return t?null:n?(0,l.tZ)(Xc,{onClick:d,unreadThreadCount:a,isOpen:s}):(0,l.tZ)(zc,{unreadThreadCount:a,onClick:d})}var Wc=t(84217),Hc=t(76743),Vc=t(1138),$c=t(79257),Kc=t(62794),qc=t(10164),Yc=function(e){var n=e.title,t=e.children;return(0,l.BX)(v.Tg,{elevated:!0,css:[v.l0.p(12),v.l0.borderRadius(8),v.l0.width("100%"),v.l0.display.flex,v.l0.colWithGap(8),v.l0.align.start],children:[(0,l.tZ)(v.xv,{variant:"subheadDefault",children:n}),t]})};function Qc(e){var n=e.handleDismissReleaseNotes,t=(0,s.useRef)(null),r=(0,c.b9)(ir.Ky);return(0,s.useEffect)((function(){r({type:"threadInbox"})}),[]),(0,l.BX)(l.HY,{children:[(0,l.tZ)(Hc.Z,{in:!0,timeout:300,appear:!0,enter:!1,exit:!0,classNames:"fade",children:(0,l.tZ)("div",{css:[v.l0.transition.chill,{width:"350px",height:"575px",bottom:52,right:0,position:"absolute","@media only screen and (max-height: 672px)":{height:"450px",width:"300px"}}],ref:t,className:q().dynamic([["197e86f98dc04d0d",[v.TV.transitionDurationSnappy,v.TV.transitionTimingFunctionSnappy]]]),children:(0,l.tZ)("div",{css:[v.l0.width("100%"),v.l0.height("100%")],className:q().dynamic([["197e86f98dc04d0d",[v.TV.transitionDurationSnappy,v.TV.transitionTimingFunctionSnappy]]]),children:(0,l.BX)(v.Tg,{className:"threads-inbox",elevated:!0,css:[v.l0.borderRadius(8),v.l0.pb(8),v.l0.shadow(2),{borderWidth:v.TV.borderWidthDefault,borderStyle:"solid",borderColor:v.TV.outlineDimmest},v.l0.height("100%"),v.l0.width("100%"),v.l0.position.relative,v.l0.overflow("hidden")],children:[(0,l.BX)(v.G7,{css:[v.l0.display.flex,v.l0.height("100%"),v.l0.colWithGap(12),v.l0.px(12),v.l0.pt(24),v.l0.overflowY("auto"),{paddingBottom:60}],children:[(0,l.BX)(v.G7,{css:[v.l0.display.flex,v.l0.colWithGap(12),v.l0.pb(12)],children:[(0,l.tZ)(v.xv,{variant:"subheadBig",children:"Announcing Threads 2.0! \ud83c\udf89"}),(0,l.tZ)(v.E_,{text:"We've redesigned the Chat and Threads experience. Here's what changed.",colorway:"primary",icon:(0,l.tZ)($c.Z,{})})]}),(0,l.BX)(Yc,{title:"Chat has a new home",children:[(0,l.tZ)(v.xv,{multiline:!0,children:"Our new tiled workspace layout makes it easy to chat with friends while you code."}),(0,l.BX)(v.G7,{css:[v.l0.display.flex,v.l0.center,v.l0.rowWithGap(8)],children:[(0,l.tZ)(v.zx,{text:"Open Chat",colorway:"primary",iconLeft:(0,l.tZ)(Oc.Z,{}),small:!0,onClick:function(){return r({type:"chat"})}}),(0,l.BX)(v.xv,{variant:"small",color:"dimmer",children:["Or open a"," ",(0,l.tZ)("span",{onClick:function(){return r({type:"commands",data:{autoFocus:!0}})},css:[v.l0.color.accentPrimaryStronger,v.l0.cursor.pointer],className:q().dynamic([["197e86f98dc04d0d",[v.TV.transitionDurationSnappy,v.TV.transitionTimingFunctionSnappy]]]),children:"New Tab"})]})]})]}),(0,l.BX)(Yc,{title:"A more powerful Threads inbox",children:[(0,l.tZ)(v.xv,{multiline:!0,children:"We've moved the Threads Inbox into a tab, and added better filtering, sorting, and search."}),(0,l.BX)(v.G7,{css:[v.l0.display.flex,v.l0.align.center,v.l0.justify.center,v.l0.rowWithGap(8)],children:[(0,l.tZ)(v.zx,{text:"View Threads",colorway:"primary",iconLeft:(0,l.tZ)(Vc.Z,{}),small:!0,onClick:function(){return r({type:"threadInbox"})}}),(0,l.BX)(v.xv,{variant:"small",color:"dimmer",children:["Or open a"," ",(0,l.tZ)("span",{onClick:function(){return r({type:"commands",data:{autoFocus:!0}})},css:[v.l0.color.accentPrimaryStronger,v.l0.cursor.pointer],className:q().dynamic([["197e86f98dc04d0d",[v.TV.transitionDurationSnappy,v.TV.transitionTimingFunctionSnappy]]]),children:"New Tab"})]})]})]}),(0,l.tZ)(Yc,{title:"Create threads right in the editor",children:(0,l.BX)(v.xv,{multiline:!0,children:["Select code and press"," ",(0,l.tZ)(At.Z,{shortcut:{key:"/",altKey:!0},small:!0})," ","to create a thread. The interface will be appear beneath your code \u2014 just type to leave a comment."]})})]}),(0,l.BX)(v.Tg,{css:[v.l0.display.flex,v.l0.rowWithGap(8),v.l0.align.center,v.l0.justify.spaceBetween,v.l0.position.absolute,v.l0.bottom(0),v.l0.left(0),v.l0.right(0),v.l0.p(12),{borderTopWidth:v.TV.borderWidthDefault,borderTopStyle:"solid",borderTopColor:v.TV.outlineDimmest}],children:[(0,l.tZ)(Kc.Z,{feature:qc.l.Threads}),(0,l.tZ)(v.zx,{small:!0,text:"Don't show me this again",colorway:"primary",iconLeft:(0,l.tZ)(k.Z,{}),onClick:n})]})]})})})}),(0,l.tZ)(q(),{id:"197e86f98dc04d0d",dynamic:[v.TV.transitionDurationSnappy,v.TV.transitionTimingFunctionSnappy],children:".fade-appear.__jsx-style-dynamic-selector{opacity:0;bottom:-20px}.fade-appear.fade-appear-active.__jsx-style-dynamic-selector{opacity:1;bottom:52px;-webkit-transition:".concat(v.TV.transitionDurationSnappy," all ").concat(v.TV.transitionTimingFunctionSnappy,";-moz-transition:").concat(v.TV.transitionDurationSnappy," all ").concat(v.TV.transitionTimingFunctionSnappy,";-o-transition:").concat(v.TV.transitionDurationSnappy," all ").concat(v.TV.transitionTimingFunctionSnappy,";transition:").concat(v.TV.transitionDurationSnappy," all ").concat(v.TV.transitionTimingFunctionSnappy,"}")})]})}var Jc=t(2146);function eu(){var e=(0,c.Dv)(Nc.c),n=(0,na.c)("flag-threads-2"),t=n.enabled,r=n.loading,i=(0,Jc.o)("threads-2-announcement"),a=i.isLoading,o=i.isDone,s=i.setAsDone;return r?null:t?a||o?null:(0,l.BX)("div",{style:{position:"fixed",bottom:46,right:"var(--space-12)",zIndex:10},children:[(0,l.tZ)("div",{children:(0,l.tZ)(Fc,{})}),e&&(0,l.tZ)("div",{style:{position:"relative"},children:(0,l.tZ)(Qc,{handleDismissReleaseNotes:function(){return s()}})})]}):(0,l.tZ)("div",{style:{position:"fixed",bottom:"var(--space-24)",right:"var(--space-8)",zIndex:10},children:e?(0,l.BX)("div",{style:{position:"relative",right:"var(--space-8)"},children:[(0,l.tZ)("div",{children:(0,l.tZ)(Fc,{})}),(0,l.tZ)("div",{style:{position:"relative"},children:(0,l.tZ)(Wc.Z,{})})]}):(0,l.tZ)("div",{children:(0,l.tZ)(Fc,{})})})}var nu=t(26224),tu=t(7787),ru=!1;var iu=t(95642);function au(){var e=(0,E.Z)(["\n  mutation UpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return au=function(){return e},e}var ou={},lu=(0,R.ZP)(au());function su(){var e=(0,fe.Z)(),n=(0,H.Z)().container,t=(0,c.b9)(ir._N),r=(0,i.Z)(function(e){var n=(0,C.Z)({},ou,e);return D.useMutation(lu,n)}(),1),a=r[0];(0,s.useEffect)((function(){return n.onPortOpened((function(n){var r,i=n.isVnc;t(i?"vnc":"webview"),r=i?{isVnc:!0}:{isServer:!0},a({variables:{input:(0,C.Z)({id:e},r)}})}))}),[n,t,a,e])}var cu=t(18888),uu=t(58482),du=t(87238);var pu=t(10129);function fu(){return(fu=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cr.l){e.next=2;break}throw new Error("Expected Apollo client");case 2:return e.next=4,cr.l.query({query:du.Ux,variables:{id:n}});case 4:return t=e.sent.data,e.abrupt("return","Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl.title:null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(){var e=(0,H.Z)(),n=e.container,t=e.presence;s.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var a=t.username;return function(e){return fu.apply(this,arguments)}(i.id).then((function(e){e&&function(e){gc.apply(this,arguments)}({title:"",body:"".concat(a," joined ").concat(e),tag:"".concat(i.id,"-").concat(a,"-joined"),iconByUsername:a,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}var hu=t(15335);function vu(){var e=(0,E.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return vu=function(){return e},e}var gu={},bu=(0,R.ZP)(vu());function yu(){!function(e){var n=(0,C.Z)({},gu,e);D.useSubscription(bu,n)}({variables:{replId:(0,fe.Z)()},skip:(0,hu.Z)()!==ga.e.CONNECTED})}var Zu=t(95716);function xu(){var e=(0,E.Z)(["\n  query GitRepoIsNewFork($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          id\n        }\n        timeCreated\n        timeUpdated\n      }\n    }\n  }\n"]);return xu=function(){return e},e}var wu={},ku=(0,R.ZP)(xu());var Pu=t(16799),Iu=t(67128);function Su(){var e=(0,fe.Z)(),n=(0,H.Z)().container,t=function(e){var n=(0,C.Z)({},wu,e);return D.useQuery(ku,n)}({variables:{replId:e}}).data,r=null===t||void 0===t?void 0:t.repl;(0,s.useEffect)((function(){if(r){var e,t=null!==r.origin,i=new Date(r.timeUpdated).getTime()-new Date(r.timeCreated).getTime()<1e3;if(t&&i)(e=n).exec.apply(e,(0,ke.Z)(Pu.rO.format(Iu.Xe)))}}),[n,r])}function Tu(){var e=(0,on.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,a=(0,H.Z)().container;(0,s.useEffect)((function(){var e=a.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),o=null,l=!1,s=a.onConnectionStateChanged((function(e){if(o&&(r(o),o=null),e===ga.e.CONNECTED)return l=!0,void(o=n("Connected",1500));l&&(e!==ga.e.CONNECTING?e!==ga.e.DISCONNECTED||(o=i("Disconnected")):o=t("Reconnecting"))}));return function(){o&&r(o),e(),s()}}),[a,n,t,i,r])}var Cu=t(9523);function Eu(){var e=(0,E.Z)(["\n  query ReplEnvironment2LoadCurriculum($id: String!) {\n    currentUser {\n      id\n      isTeacher: hasRole(role: TEACHER)\n      ...CrosisContextCurrentUser\n    }\n    repl(id: $id) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        language\n        origin {\n          id\n          ...CrosisContextRepl\n          origin {\n            id\n            ...CrosisContextRepl\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Eu=function(){return e},e}var Ru={},Du=(0,R.ZP)(Eu(),Cu.D,Cu.C);var Uu=t(50217),Mu=t(18962),ju=t(25108);function _u(){var e,n,t=(0,fe.Z)(),i=(0,H.Z)(),a=i.fs,l=i.session,c=function(e){var n=(0,C.Z)({},Ru,e);return D.useQuery(Du,n)}({variables:{id:t}}).data,u="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)?c.repl:null,d="CurrentUser"===(null===c||void 0===c||null===(e=c.currentUser)||void 0===e?void 0:e.__typename)?c.currentUser:null,p="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)&&c.repl.isModelSolutionFork,f=p?u&&(null===(n=u.origin)||void 0===n?void 0:n.origin):u&&u.origin||null,m=(0,ba.b)("Repl"===(null===f||void 0===f?void 0:f.__typename)?{repl:f,currentUser:d||void 0}:null);s.useEffect((function(){u&&d&&u.isProject&&a.stat(".lesson").then((function(e){e.exists||a.createDir(".lesson")}))}),[a,d,u]),s.useEffect((function(){if(u&&(u.isProjectFork||p)&&f&&m){var e=(0,ga.Z)({onUnrecoverableError:function(e){ju.error(e),ii.$e((function(n){n.setTag("curriculum-authoring",!0),n.setExtra("originId",f.id),ii.Tb(e)}))}}),n=(0,Za.Z)({container:e});e.connect({context:m,fetchConnectionMetadata:function(){return(0,Uu.Z)({url:"/data/repls/".concat(u.id,"/get_repl_origin_guest_connection_metadata")})}});var t=e.onConnectionStateChanged(function(){var i=(0,r.Z)(o().mark((function r(i){var s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i!==Mu.e.CONNECTED){r.next=22;break}return t(),r.prev=2,r.next=5,a.copyDirFromRemote(".lesson",".lesson",n);case 5:if(!(s=r.sent).error){r.next=10;break}ii.$e((function(e){e.setTag("curriculum-authoring",!0),e.setExtra("originId",f.id),ii.Tb({message:"Error copying lesson: ".concat(s.error)})})),r.next=14;break;case 10:return r.next=12,a.stat(".lesson/instructions.md");case 12:r.sent.exists&&l.setInstructionsViewerVisible(!0);case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(2),ii.$e((function(e){e.setTag("curriculum-authoring",!0),ii.Tb(r.t0)}));case 19:return r.prev=19,e.destroy(),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[2,16,19,22]])})));return function(e){return i.apply(this,arguments)}}());return function(){return e.destroy()}}}),[a,m,u,f,p,l])}var Au=t(68122),Bu=t(39571);function Gu(){var e=(0,E.Z)(["\n  fragment WorkspaceUseDebuggerRepl on Repl {\n    id\n    lang {\n      id\n      hasDAP\n    }\n  }\n"]);return Gu=function(){return e},e}function Lu(){var e=(0,E.Z)(["\n  query WorkspaceUseDebugger($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceUseDebuggerRepl\n      }\n    }\n  }\n  ","\n"]);return Lu=function(){return e},e}var Nu={},Ou=(0,R.ZP)(Gu()),Xu=(0,R.ZP)(Lu(),Ou);function zu(e){var n=(0,C.Z)({},Nu,e);return D.useQuery(Xu,n)}function Fu(e){var n=e.onOpenFile,t=e.onOutput,r=(0,H.Z)(),i=r.debuggest,a=r.dotReplit,o=zu({variables:{replId:(0,fe.Z)()}}).data,l=function(e){var n=e.repl,t=e.dotReplit,r=e.debuggest;return(0,s.useEffect)((function(){if(n){if(!n.lang.hasDAP)return t.watch((function(e){var n;e.error||(null===(n=e.config.debugger)||void 0===n?void 0:n.support)&&r.connect()}));r.connect()}}),[n,r]),(0,Au.Z)(r.mainClient)}({debuggest:i,dotReplit:a,repl:"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)?o.repl:null});!function(e){(0,s.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,S.j)(S.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,S.j)(S.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,S.j)(S.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(l),function(e,n){var t,r=n.onOutput,i=n.onOpenFile,a=(0,$t.Z)(r),o=(0,$t.Z)(i);(0,s.useEffect)((function(){if(e)return e.onOutput((function(e){a.current(e)}))}),[e]);var l=(0,Au.Z)(e?e.stackFrames:null),c=null===l||void 0===l?void 0:l[0],u=null===c||void 0===c||null===(t=c.source)||void 0===t?void 0:t.path,d=null===c||void 0===c?void 0:c.line;(0,s.useEffect)((function(){if(u&&d&&e){var n=(0,Bu.om)(u);n?o.current({path:n,line:d}):e.stepOut()}}),[e,u,d])}(l,{onOpenFile:n,onOutput:t})}var Wu=t(75338),Hu={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"};var Vu=t(536),$u=t(45435);var Ku=t(52008);var qu=t(99336);var Yu=t(5442),Qu=t(22371),Ju=t(65e3),ed=t(1864),nd=t(92162),td="video.json",rd=(0,ed.join)(Qu.V,td);function id(e,n){return ad.apply(this,arguments)}function ad(){return(ad=(0,r.Z)(o().mark((function e(n,t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.find((function(e){return e.type===rt.Tv.File&&e.filename===td}))){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,n.readFile(rd);case 5:if(!(r=e.sent).error){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",r.content.toString());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(){!function(e){var n=(0,H.Z)().fs,r=(0,Ju.Z)().isTutorial,a=(0,$t.Z)(e);(0,s.useEffect)((function(){if(r){var e=!1,o=n.watchDir(Qu.V,{onChange:function(r){Promise.all([t.e(1142).then(t.t.bind(t,11142,23)),id(n,r)]).then((function(n){var t=(0,i.Z)(n,2),r=t[0],o=t[1];if(!e)if(o){var l=null;try{l=r.parse(o)}catch(c){}var s="object"===typeof l&&"string"===typeof l.embedUrl?l.embedUrl:null;a.current(s?{embedUrl:s}:null)}else a.current(null)}))},onMoveOrDelete:function(){a.current(null)},onError:function(){a.current(null)}});return function(){e=!0,o()}}}),[n,r,a])}((0,nd.g)())}var ld=t(55528),sd=t(4862),cd=t(58823);function ud(e){var n,t=e.repl,r=e.currentUser,a=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),o=(0,nu.Z)().preferences,l=(0,H.Z)().session;!function(){var e=(0,H.Z)(),n=e.lspnix,t=e.lsp,r=e.fs,i=(0,nu.Z)().preferences.codeIntelligence,a=(0,tt.Z)()||"",o=(0,ld.Z)(a);s.useEffect((function(){if(!i)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,i]),s.useEffect((function(){if(o&&a&&(0,it.Mb)(a))return o.onWorkspaceEdit((function(e){var n=e.edit;return(0,cd.w)({edit:n,fs:r,client:o}),{applied:!0}}))}),[r,o,a]),s.useEffect((function(){if(o&&a&&(0,it.Mb)(a)&&(0,sd.Z)(o).isTextDocumentSyncSupported)return r.watchOtFile(a,{onFlush:function(){o.isOpen(a)&&o.notify.didSave(a)}})}),[r,a,o])}(),function(){var e=(0,tr.ne)();(0,s.useEffect)((function(){var n=function(){e.flush()};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e]),(0,s.useEffect)((function(){var n=function(){"hidden"===document.visibilityState&&e({force:!1})};return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}),[e]),(0,s.useEffect)((function(){var n=null;return function t(){n=setTimeout((function(){e({force:!1}),t()}),6e4)}(),function(){n&&clearTimeout(n)}}),[e]),(0,s.useEffect)((function(){return function(){e.flush()}}),[e])}(),(0,cu.Z)(),(0,Vu.Z)({workspaceType:"desktop"}),s.useEffect((function(){var e=function(e){"s"===e.key&&(0,pu.j)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),mu(),yu(),function(){var e=(0,H.Z)().presence;s.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,S.j)(Zu.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,S.j)(Zu.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),function(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt,i=(0,fe.Z)();(0,du.Vg)({skip:n||t,variables:{replId:i},onSubscriptionData:function(e){var n;!1===(null===(n=e.subscriptionData.data)||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}({isAnon:!1,isOwner:a,ignoreUnloadPrompt:(0,uu.Z)()}),Su(),function(){var e=(0,H.Z)().presence,n=(0,tt.Z)();(0,s.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),Tu(),_u(),(0,Wu.ZP)(),function(){var e=(0,H.Z)().runner,n=(0,c.b9)(ir.im),t=(0,c.b9)(ir.Ky),r=(0,c.b9)(ir.ao),i=Gi(),a=(0,c.Dv)(tr.Mn),o=(0,Cr.e)(Rr.H.Output);s.useEffect((function(){if(a&&(null===o||void 0===o?void 0:o.isActive)){var e=setInterval((function(){n()}),200);return function(){clearInterval(e)}}}),[null===o||void 0===o?void 0:o.isActive,n,a]),s.useEffect((function(){if(a)return e.onStateChanged((function(e){e===Ic.A.RUNNING&&n()}))}),[e,n,a]),s.useEffect((function(){a&&(i?t({type:"instructions"}):r({type:"instructions"}))}),[i,t,r,a]),(0,Er.x)(Hu,{run:function(){return t({type:"shell"})},enabled:Boolean(a)})}(),function(){var e=(0,u.useRouter)(),n=(0,H.Z)().container,t=(0,i.Z)((0,c.KO)($u.a0),2),r=t[0],a=t[1],o=(0,c.b9)($u.Th);(0,s.useEffect)((function(){e.query.debug&&a(!0)}),[a,e.query.debug]),(0,s.useEffect)((function(){if(r)return n.client().onDebugLog((function(e){"log"===e.type&&o((function(n){return(0,ke.Z)(n).concat([{index:n[n.length-1]?n[n.length-1].index+1:0,dir:e.log.direction,cmd:e.log.cmd,timestamp:window.performance.now()}])}))}))}),[r,o,n])}(),function(){var e=(0,H.Z)(),n=e.presence,t=e.session;(0,s.useEffect)((function(){return n.onUserOpenedFile((function(e){var r=e.user,i=e.file,a=n.getFollowedUser();a&&a.id===r.id&&i&&t.openFile(i)}))}),[n,t]);var r=(0,s.useState)(null),i=r[0],a=r[1];(0,s.useEffect)((function(){return n.onFollowedUserChanged(a)}),[n,t]),(0,s.useEffect)((function(){var e=function(){n.unfollowUser()};if(i){var t=setTimeout((function(){document.addEventListener("click",e)}),0);return function(){clearTimeout(t),document.removeEventListener("click",e)}}}),[i])}(),(0,Yu.Z)(),od(),Fu({onOpenFile:function(e){l.openFile(e.path),l.updateDeeplink(e)},onOutput:function(){}}),function(){var e=(0,Ku.JM)().data,n=null===e||void 0===e?void 0:e.currentUser,t=(0,c.b9)(Yt.H);(0,s.useEffect)((function(){t({flagSaveLayoutState:Boolean(null===n||void 0===n?void 0:n.flagSaveLayoutState),flagThreadsPane:Boolean(null===n||void 0===n?void 0:n.flagThreadsPane),flagThreads2:Boolean(null===n||void 0===n?void 0:n.flagThreads2),flagGhostrunner:Boolean(null===n||void 0===n?void 0:n.flagGhostrunner)})}),[t,n])}();var d=["html","html_beta"].includes(t.language);(0,iu.Z)({initialLayoutState:t.layoutState||null}),(0,s.useEffect)((function(){return ii.YA("replId",t.id),qu.c_.setTag("replId",t.id),function(){ii.YA("replId",void 0),qu.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,H.Z)().container,i=(0,u.useRouter)(),a=(0,ba.b)({repl:n,currentUser:t});(0,s.useEffect)((function(){var e;return ru||(ru=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:a}),function(){r.close()}}),[a,r]),(0,s.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),su(),(0,s.useEffect)((function(){var e,n="Repl"===(null===(e=t.origin)||void 0===e?void 0:e.__typename)?t.origin.id:null;return(0,tu.Fy)({id:t.id,slug:t.slug,originId:n,roles:r.roles&&r.roles.map((function(e){return e.name}))}),function(){(0,tu.dv)()}}),[t,r.roles]);var p=(0,c.b9)(Nn._E),f=(0,Dr.T)();(0,s.useEffect)((function(){p(!f)}),[f,p]);var m=o.isLayoutStacked,h=(0,c.b9)(Mi.h$);(0,s.useEffect)((function(){return h(m)}),[h,m]);var v=(0,c.b9)(Mi.gM);return(0,s.useEffect)((function(){return v(d)}),[v,d]),null}var dd=t(25602),pd=t(89390),fd=function(){var e=(0,r.Z)(o().mark((function e(n,t){var r,i,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,dd.u9)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,dd.mv)(n);case 4:if(r=e.sent,i=r.path,a=r.line,l=r.col,i){e.next=10;break}return e.abrupt("return",!1);case 10:return t.openFile(i,{line:a,col:l}),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function md(){return function(){var e=(0,H.Z)(),n=e.fs,t=e.session,i=e.dotReplit,a=(0,fe.Z)(),l=(0,s.useRef)(!1),u=(0,c.Dv)(Nn.QP),d=(0,$t.Z)(u),p=(0,s.useState)(!1),f=p[0],m=p[1],h=(0,c.Dv)(tr.Mn);(0,s.useEffect)((function(){if(f&&u){var e=(0,dd.YM)({path:u}),n=window.location.hash;n===u||n.startsWith(e+":")||(l.current=!0,window.location.hash=e)}}),[f,u]),(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:if(!d.current){e.next=5;break}return m(!0),e.abrupt("return");case 5:return e.next=7,fd(n,t);case 7:if(r=e.sent,m(!0),!r&&!d.current&&"saved"!==h){e.next=11;break}return e.abrupt("return");case 11:(0,pd.P)(n,t,i,a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,i,a,d,h]),(0,s.useEffect)((function(){if(h){var e=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=3;break}return l.current=!1,e.abrupt("return");case 3:return e.next=5,fd(n,t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[h,n,t])}(),null}function hd(){var e=(0,na.c)("flag-iframe-extensions"),n=e.enabled,t=e.loading,r=(0,c.b9)(er.g2),i=s.useCallback((function(e){r({pane:{data:{extensionUrl:e},type:"extension"},makeActive:!0,placement:"rightOf"})}),[r]);return kr({match:Tr.pl,data:{type:"action",label:"Add extension",icon:(0,l.tZ)(ln.Z,{}),description:"Add an extension",run:function(){var e=prompt("insert extension url");e&&i(e)}}},{enabled:!t&&n}),null}var vd=(0,c.cn)((function(e){var n=e(Wn.J1);if(!n)return null;var t=e((0,On.z)(n)).rect,r=e(On.M0);return{x:t.x,y:t.y-r,width:t.width,height:t.height+r}}));function gd(){var e=(0,c.Dv)(vd),n=(0,Ss.Z)();return e&&n?(0,l.tZ)("div",{css:[w.l0.position.absolute,w.l0.width(e.width),w.l0.height(e.height),w.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var bd=(0,s.memo)(gd),yd=t(2548),Zd=(0,v.KD)("div"),xd=(0,Tt.iv)([v.l0.borderRadius(0,8,8,0),v.l0.height("100%"),v.l0.flex.growAndShrink(1),v.l0.overflowY("auto")]);function wd(){var e=(0,$o.Iu)(),n=(0,wi.Se)().Content;return(0,l.tZ)(v.Tg,{elevated:!0,css:xd,children:(0,l.tZ)(n,{pane:e,options:{paneId:"",isHidden:!1,openPane:function(){}}})})}var kd=(0,s.memo)(wd),Pd=(0,Tt.iv)([v.l0.position.relative,v.l0.center,v.l0.width(8),v.l0.height("100%"),Gl,{cursor:"ew-resize"}]),Id=(0,Tt.iv)([v.l0.height(25),v.l0.width(2),Xl]),Sd=(0,Tt.iv)([v.l0.coverContainer,{":hover":{transform:"scaleX(4)"}}]);function Td(){var e={start:(0,c.b9)(dl),update:(0,c.b9)(pl),end:(0,c.b9)(fl)};return(0,l.BX)(Zd,{css:Pd,onPointerDown:function(n){jo(n,{start:function(){e.start()},move:function(n){var t=n.delta;e.update({deltaX:t.x})},end:function(){e.end()}})},children:[(0,l.tZ)(v.G7,{className:"grip-line",css:Id}),(0,l.tZ)(v.G7,{css:Sd})]})}var Cd=(0,Tt.iv)([v.l0.height("100%"),v.l0.position.absolute,v.l0.top(0),v.l0.left(0),v.l0.flex.row]);function Ed(){var e=(0,$o.Or)(),n=0===e;return(0,l.BX)(v.G7,{css:Cd,style:{width:e,visibility:n?"hidden":void 0},children:[n?null:(0,l.tZ)(kd,{}),(0,l.tZ)(Td,{})]})}var Rd=(0,s.memo)(Ed),Dd=t(18751),Ud=function(e){var n=e.isOpen,t=(0,u.useRouter)();return(0,l.tZ)(b.Z,{isOpen:n,centered:!0,onRequestClose:function(){},maxWidth:600,children:(0,l.BX)(Z.ZP,{css:[w.l0.colWithGap(32)],children:[(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(16),w.l0.align.center],children:[(0,l.tZ)(Dd.Z,{size:24,css:[w.l0.color.orangeStrongest]}),(0,l.tZ)(x.h,{level:2,variant:"headerDefault",children:"You can\u2019t join this Repl from Firewall Mode."})]}),(0,l.BX)(Z.ZP,{css:[w.l0.pr(32),w.l0.colWithGap(16)],children:[(0,l.tZ)(x.x,{multiline:!0,children:"This Repl was started by someone not in Firewall Mode. If you would like to join, please do one of the following:"}),(0,l.BX)(Z.ZP,{css:[w.l0.colWithGap(16),w.l0.pl(16)],children:[(0,l.tZ)(x.x,{children:"\u2022 Exit Firewall Mode."}),(0,l.tZ)(x.x,{children:"\u2022 Ask the creator to open this Repl in Firewall Mode."})]})]}),(0,l.BX)(Z.ZP,{css:[w.l0.rowWithGap(16),w.l0.justify.end],children:[(0,l.tZ)(g.ZP,{text:"Exit Firewall Mode",onClick:function(){window.location.href="https://www.replit.com".concat(t.asPath)}}),(0,l.tZ)(g.ZP,{text:"Leave",onClick:function(){t.push("/home","~/")}})]})]})})};function Md(e){var n=e.repl,t=e.currentUser,r=function(e){var n=e.repl,t=(0,u.useRouter)(),r=(0,dr.C)(),i=(0,Hn.IY)(),a=(0,s.useState)(!1),o=a[0],l=a[1];return{services:(0,s.useState)((function(){return(0,yi.Z)({runnerMode:"html"===n.language?"html":"shellrunner",onUnrecoverableError:function(e){if(e.message.toLowerCase().includes("repl not found"))t.push("/home","~/");else{var n={replenvironmentservices:!0,layoutv2:!0};Na.error(e),ii.Tb(e,{tags:n}),i({error:e,tags:n})}},openFile:r,onFirewallDenied:function(){return l(!0)}})}))[0],ui:(0,s.useState)((function(){return(0,wi.fK)({config:La()})}))[0],isFirewallDenied:o}}({repl:n}),i=r.services,a=r.ui,o=r.isFirewallDenied,d=(0,c.Dv)(Nn.dD);return(0,l.BX)(lo,{ui:a,services:i,replId:n.id,replLanguage:n.language,children:[(0,l.tZ)(Er.h,{}),(0,l.tZ)(Ec,{}),(0,l.tZ)(ic.Z,{}),(0,l.tZ)(bi,{repl:n,currentUser:t}),(0,l.tZ)(Ir,{}),(0,l.tZ)(md,{}),(0,l.tZ)(ud,{repl:n,currentUser:t}),(0,l.tZ)(Bc.ZP,{}),(0,l.BX)(v.G7,{css:[v.l0.flex.row,v.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(v.G7,{css:[v.l0.py(8),v.l0.pl(8),!d&&v.l0.visibility.hidden],children:(0,l.tZ)(ro,{})}),(0,l.tZ)(Bd,{})]}),(0,l.tZ)(wc,{container:i.container}),(0,l.tZ)(Ac,{}),(0,l.tZ)(eu,{}),(0,l.tZ)(_d,{isMultiplayerSession:n.multiplayers.length>0}),(0,l.tZ)(jd,{image:t.image,username:t.username}),(0,l.tZ)(Ud,{isOpen:o}),(0,l.tZ)(hd,{})]})}function jd(e){var n=e.image,t=e.username,r=(0,i.Z)((0,Hn.yF)(),2),a=r[0],o=r[1],c=(0,tr.n7)();return(0,s.useEffect)((function(){a&&c({})}),[a,c]),a?(0,l.tZ)(d.Z,{devHide:function(){return o(null)},eventId:a,currentUserImage:n,currentUserUsername:t}):null}function _d(e){var n=function(e){var n=(0,i.Z)(s.useState(!1),2),t=n[0],a=n[1],l=(0,bc.X)(),c=l&&!l.isDone&&!l.isLoading;return s.useEffect((function(){c||e&&"default"===cc()&&a(!0)}),[e,c]),{shouldShowModal:t,hideModal:s.useCallback((function(){hc(!0),a(!1)}),[]),confirm:s.useCallback((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc();case 2:a(!1);case 3:case"end":return e.stop()}}),e)}))),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,a=n.hideModal,c=n.confirm;return t?(0,l.tZ)(P,{onCancel:a,onConfirm:c}):null}var Ad=(0,v.KD)("div");function Bd(){var e=function(){var e=(0,c.b9)(Fn.rR),n=(0,s.useRef)(null),t=(0,rc.Z)((function(t){var r=t.width,i=t.height;if(r&&i&&n.current){var a=n.current.getBoundingClientRect(),o=a.top,l=a.left;e({width:r,height:i,x:l,y:o})}}));return(0,s.useCallback)((function(e){n.current=e,t(e)}),[t])}(),n=(0,c.Dv)(Nn.dD),t=(0,c.Dv)(On.gg),r=(0,c.Dv)(On.g3),i=(0,c.Dv)(On.If);return(0,l.tZ)(v.G7,{css:[v.l0.position.relative,v.l0.flex.growAndShrink(1)],children:(0,l.tZ)(Ad,{ref:e,css:[v.l0.position.absolute,v.l0.top(8),v.l0.left(0),v.l0.width("calc(100% - (".concat(8,"px))")),v.l0.height("calc(100% - (".concat(8,"px * 2))"))],children:n?(0,l.BX)(l.HY,{children:[(0,l.tZ)(Rd,{}),r.map((function(e){return(0,l.tZ)(Kl,{handleId:e},e)})),i.map((function(e){return(0,l.tZ)(Js,{headerId:e},e)})),t.map((function(e){return(0,l.tZ)(El,{paneId:e},e)})),(0,l.tZ)(tc,{}),(0,l.tZ)(bd,{})]}):null})})}var Gd=function(){var e=null,n=(0,u.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t=n.replUrl.toString(),r=(0,h.Cd)({variables:{url:t},ssr:Boolean(n.ssr)}),i=r.data,a=r.loading,o=r.error,c=i&&"Repl"===i.repl.__typename?i.repl:null,d=(null===i||void 0===i?void 0:i.currentUser)||void 0,p=null!=(null===c||void 0===c?void 0:c.lesson),g="https://replit.com".concat(t),b=function(e){if(e){if(e.description)return e.description;var n=m.Z.get(e.language).displayName;return"A ".concat(n," Repl")}}(c),y=(0,s.useState)(!1),Z=y[0],x=y[1];return(0,s.useEffect)((function(){return x(!0)}),[]),(0,Gc.Z)((null===i||void 0===i?void 0:i.repl)||null,t),e=o?(0,l.tZ)(v.G7,{css:[v.l0.center,v.l0.flex.growAndShrink(1)],children:(0,l.tZ)(v.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})}):a||!Z?(0,l.tZ)(v.G7,{css:[v.l0.center,v.l0.flex.growAndShrink(1)],children:(0,l.tZ)(yd.Z,{height:100})}):c&&d?(0,l.tZ)(Md,{repl:c,currentUser:d}):(0,l.tZ)(v.G7,{css:[v.l0.center,v.l0.flex.growAndShrink(1)],children:(0,l.tZ)(yd.Z,{height:100})}),(0,l.tZ)(Rr.E,{hideTour:!d||a||p,children:(0,l.tZ)(I.Z,{children:(0,l.tZ)(f.Z,{dataCy:"workspace-page",title:"".concat((null===c||void 0===c?void 0:c.title)||""),oembedUrl:g,description:b,noHeader:!0,noFooter:!0,forceDrawer:!0,hideSidebar:!0,hideEmailVerify:!0,children:(0,l.tZ)(v.Tg,{css:[v.l0.height("100vh"),v.l0.width("100vw"),v.l0.overflow("hidden")],children:e})})})})};Gd.getInitialProps=function(){var e=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.req,r=n.store,e.next=3,(0,p.Z)(t,r);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Ld=Gd},7900:function(e,n,t){"use strict";t.d(n,{Pc:function(){return Z},DU:function(){return b},Pu:function(){return P}});var r=t(26042),i=t(7297),a=t(31230),o=t(21767);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var s=(0,a.ZP)(l()),c=t(16092),u=t(46829);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return m=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var g={},b=(0,a.ZP)(d()),y=(0,a.ZP)(p(),b,o.Y),Z=(0,a.ZP)(f(),b),x=(0,a.ZP)(m(),s,c._,y,Z),w=(0,a.ZP)(h(),o.Y,x),k=(0,a.ZP)(v(),w);function P(e){var n=(0,r.Z)({},g,e);return u.useQuery(k,n)}},97808:function(e,n,t){"use strict";t.d(n,{MO:function(){return u},QW:function(){return d},ZW:function(){return s},aS:function(){return l},hS:function(){return f},qv:function(){return p},tD:function(){return m},yb:function(){return a}});var r,i=t(14924),a="100-days-of-python",o="empty",l="learn",s="US",c=(r={},(0,i.Z)(r,o,{US:{title:"",slug:"",description:"",promoDescription:"",socialSharingText:"",sharableLink:"",socialHashtag:"",videoEmbedUrl:"",imageAltText:"",pageTitle:"",metaTitle:"",metaDescription:"",metaKeywords:"",ogTitle:"",ogDescription:"",ogImage:"",lessons:[]}}),(0,i.Z)(r,a,{US:{title:"100 Days of Code - The Complete Python Course",slug:a,description:"In this course, you will build games, apps, and websites by mastering Python programming. Start the course to build 100 projects in 100 days.",promoDescription:"Go from your first line of code to building real projects in Replit's free Python course",socialSharingText:"{ordinalLabel} of #Replit100DaysOfCode #100DaysOfCode. Join me on @Replit",socialHashtag:"#100DaysOfCode",sharableLink:"https://join.replit.com/python",videoEmbedUrl:"https://www.youtube.com/embed/NSxxETzFU_Q",imageAltText:"Pink, green, and blue keyboard key caps labeled with 100.",pageTitle:"100 Days of Code - Python Course - Learn how to Code on Replit",metaTitle:"Learn Python for free with Replit's 100 Days of Code",metaDescription:"Learn how to code with an interactive online course, for free. 100 tutorials in 100 days, to master Python and become a developer. No experience needed.",metaKeywords:"Python course, 100 days of code, learn python, python beginners, learn code, python tutorial, bootcamp",ogTitle:"100 Days of Code - Learn Python on Replit",ogDescription:"100 lessons in 100 days, to master Python and become a developer. Learn how to code with an interactive online course, for free, starting from scratch.",ogImage:"https://replit.com/public/images/100-days-of-python/og.jpg",lessons:[{ordinal:1,slug:"day-1",ordinalLabel:"Day 1",title:"Hello World!",commitment:"20-25 mins",replId:"d2da52ef-1d16-41eb-8c8e-b3011c775a4d",isProject:!1,description:"In less than 20 minutes, learn the 'print' statement & share your first Python project with the world!",socialSharingText:"Hello to the world of coding and my very first project!",videoEmbedUrl:"https://youtube.com/embed/ASZVEe2WkI4",imageAltText:"Two smiling, retro-style computers look through layers of pink and blue rectangles."},{ordinal:2,slug:"day-2",ordinalLabel:"Day 2",title:"Input and Variables",commitment:"20-25 mins",replId:"87ea3273-aabd-4cc2-8148-3ca60e3613b2",isProject:!1,description:"Use three skills learned (print, input, variables) to start creating some really epic projects.",socialSharingText:"I just built my first interactive code which takes inputs from the user!",videoEmbedUrl:"https://youtube.com/embed/b5tFeJ0Ol2Y",imageAltText:"A brain connected to red, green, and blue tubes. It looks like it's charging!"},{ordinal:3,slug:"day-3",ordinalLabel:"Day 3",title:"Concat...what?",commitment:"20-25 mins",replId:"0b618ca6-0123-4251-bd8e-07b040fd4364",isProject:!1,description:"Learn about concatenating (and impress your friends with this big word!). Complete a wacky recipe maker project!",socialSharingText:"With the powers of concatenation I made a whacky recipe maker \ud83e\udd53\ud83c\udf5d\ud83e\udd51 !",videoEmbedUrl:"https://youtube.com/embed/G7r_1NQrSm0",imageAltText:"A chain circle made of thick blue links on a green and pink background."},{ordinal:4,slug:"day-4",ordinalLabel:"Day 4",title:"'Print' in Color!",commitment:"20-25 mins",replId:"940d4c90-96b5-45ee-a75a-9166c3b1c370",isProject:!0,description:"Write your own adventure story and make your project POP with some color!",socialSharingText:"Feel like a proper storyteller with the custom storybook that I coded up \ud83d\udcd6 !",videoEmbedUrl:"https://youtube.com/embed/oakgvGNYQoQ",imageAltText:"A scroll containing vivid green and pink text and image elements, like a web page"},{ordinal:5,slug:"day-5",ordinalLabel:"Day 5",title:"If this...else that?!",commitment:"20-25 mins",replId:"77691a4b-0b2c-4d15-b55e-e022b1134e65",isProject:!1,description:"Generate actual Q&As with 'if' statements. Create a \"Who am I?\" game with your favorite TV/movie characters.",socialSharingText:"Built my very first Akinator \ud83e\uddde\u200d\u2642\ufe0f style game with 'if' statements!",videoEmbedUrl:"https://youtube.com/embed/Wmn9yze6m5U",imageAltText:"Three smiling cartoon heads wearing headphones and augmented reality goggles."},{ordinal:6,slug:"day-6",ordinalLabel:"Day 6",title:"What the elif is this?",commitment:"20-25 mins",replId:"e56ecf41-ee0d-4b61-ae6f-dfd67971c3a4",isProject:!1,description:"Learn 'elif' statements. Can you create a login system to keep passwords safe from hackers?",socialSharingText:"What the elif did I build today? A hack proof login system! Try breaking in \ud83d\udc7e!!",videoEmbedUrl:"https://youtube.com/embed/Dm8lRtcnh0o",imageAltText:"A conga line of blue, yellow, and green cartoon people. Each person has a speech bubble with a heart in it, and everything looks like it's made of glass."},{ordinal:7,slug:"day-7",ordinalLabel:"Day 7",title:"Nesting ~~Dolls~~ Code",commitment:"20-25 mins",replId:"db0d4749-d840-49d6-af94-56d24bd7170c",isProject:!1,description:"Like nesting dolls, nest 'if' statements within 'if' statements. Create a game to find true fans of your favorite show.",socialSharingText:"With some nifty nesting \ud83d\udc23 skills I built a game to test if you are a true fan of a TV show \ud83d\udcfa !",videoEmbedUrl:"https://youtube.com/embed/Abk1jPdnMIc",imageAltText:"A smiling bird hatching from a bright pink nest. It has broken the top off its blue egg and wears it like a hat."},{ordinal:8,slug:"day-8",ordinalLabel:"Day 8",title:"Affirmation Generator",commitment:"20-25 mins",replId:"0d6f80a8-f0a3-4b4d-9f01-5c74c6f4630b",isProject:!0,description:"Project day! Show the world some love with an affirmation generator. Send good vibes each day with a personalized message.",socialSharingText:"Sending out good vibes \ud83d\ude0e with the affirmation generator!",videoEmbedUrl:"https://youtube.com/embed/3SXW63IIs4I",imageAltText:"Two metal robot hands. One is gold and giving a thumbs up,; the other is metallic blue and giving a thumbs down. Both hands have the Replit logo on the side."},{ordinal:9,slug:"day-9",ordinalLabel:"Day 9",title:"Casting Spells on Your Code",commitment:"20-25 mins",replId:"ac6f3e34-7d18-46da-92bf-adb82014f64a",isProject:!1,description:"Teach the computer to recognize numbers (and do the math) with the 'magic' of `int` and `float`!",socialSharingText:"Felt like I was at Hogwarts with all the casting I did today \ud83c\udff0\ud83e\uddd9 !",videoEmbedUrl:"https://youtube.com/embed/4hNQsFN9ki8",imageAltText:"A floppy disk emits a stream of green and grey cubes, giving off very strong retro vibes."},{ordinal:10,slug:"day-10",ordinalLabel:"Day 10",title:"Show Me the $$",commitment:"20-25 mins",replId:"d7bf3c40-bf6c-47ce-8213-7fcf7fe8ea1e",isProject:!1,description:"Code basic math principles (+, -, *, /), build your own tip calculator, and never calculate numbers again!",socialSharingText:"Built my own tip calculator! Time to put it to the test at a restaurant \ud83c\udf55 ! ",videoEmbedUrl:"https://youtube.com/embed/8pzLxVej3_g",imageAltText:"The layers of an illustrated calculator have been pulled apart, exposing the battery and keyboard."},{ordinal:11,slug:"day-11",ordinalLabel:"Day 11",title:'"525,600 minutes"',commitment:"20-25 mins",replId:"c1058954-f9e9-4f9b-8305-e3bdc8cbead0",isProject:!0,description:"525,600 minutes. Now, use your newfound math skills to determine how many seconds are in a year.",socialSharingText:"How many seconds in a year \ud83d\ude40 !!",videoEmbedUrl:"https://youtube.com/embed/pKRE-W9HGNs",imageAltText:"A smiling clock with eyes looking in different directions."},{ordinal:12,slug:"day-12",ordinalLabel:"Day 12",title:"Find All the Bugs!",commitment:"20-25 mins",replId:"7170515b-230b-4bbd-b44b-9a0ba69323e8",isProject:!0,description:"This course has taught you to squash bugs like a true programmer. Find the errors and start debugging like a pro!",socialSharingText:"Smashed some gnarly bugs today \ud83d\udc1b . ",videoEmbedUrl:"https://youtube.com/embed/MHY4Ei2U60k",imageAltText:"A robot ladybug flies toward a yellow flower, but it's frowning because there's a net blocking its path."},{ordinal:13,slug:"day-13",ordinalLabel:"Day 13",title:"Gradebook Builder",commitment:"20-25 mins",replId:"1861029e-b153-45c9-b37f-96a72a46e28f",isProject:!0,description:"Whether you are a teacher or student, you can compute grades and generate your own gradebook with this project.",socialSharingText:"Built a grade calculator today! Definitely giving myself an A+ on this \ud83d\ude0e !",videoEmbedUrl:"https://youtube.com/embed/fOFWkmAyCHY",imageAltText:"A spray of yellow cards with big red A+ labels fly away, like someone threw them in the air."},{ordinal:14,slug:"day-14",ordinalLabel:"Day 14",title:"Rock, Paper, Scissors",commitment:"30-40 mins",replId:"99854979-69f3-4b85-9af6-a0d4f9cab167",isProject:!0,description:"Day 14! Now for the most epic of projects...a rock, paper, scissors game to share with the community.",socialSharingText:"\ud83e\udea8 \ud83d\udcc4\u2702\ufe0f My very first multiplayer game !!!",videoEmbedUrl:"https://youtube.com/embed/5YP8QIpR1SQ",imageAltText:"An illustration of a piece of paper, a rock, and a pair of scissors with bright green handles."},{ordinal:15,slug:"day-15",ordinalLabel:"Day 15",title:"All About the Loop",commitment:"20-25 mins",replId:"102ed164-56ed-4c8e-aeb3-cb8f829b3cf8",isProject:!1,description:"Make your games much more epic by adding a loop to repeat the game over and over...",socialSharingText:"What does the \ud83e\udd8a say ? Find out with my custom animal sound generator (just like Alexa)!",videoEmbedUrl:"https://youtube.com/embed/AwCI7IG-i38",imageAltText:"Picture of a barking robotic dog who is wearing cool sunglasses that say the word Moo. "},{ordinal:16,slug:"day-16",ordinalLabel:"Day 16",title:"Make it Stop!",commitment:"20-25 mins",replId:"22ca2cd4-0c18-4e8a-8718-db5655755332",isProject:!1,description:'Whoops. You made an accidental infinite loop...and nightmare. Introducing..."while True"...to make it stop.',socialSharingText:"Can you guess the lyrics to my favorite song \ud83c\udfb6 \ud83c\udfa4? ",videoEmbedUrl:"https://youtube.com/embed/cuseM3bReT4",imageAltText:"A microphone with its wire coming out of the ground, ready to be plugged in for singing"},{ordinal:17,slug:"day-17",ordinalLabel:"Day 17",title:"Let's ~~Cheat~~ Continue",commitment:"20-25 mins",replId:"04427f7c-4055-4894-b8cd-c80233bb454c",isProject:!1,description:"Learn the `continue` command. An ideal component of building games AND build your first game that keeps score!",socialSharingText:"New and improved \ud83e\udea8 \ud83d\udcc4\u2702\ufe0f game!",videoEmbedUrl:"https://youtube.com/embed/e5048kp-ogk",imageAltText:"Two rocks and a pair of scissors lying on top of sheets of paper with score tally"},{ordinal:18,slug:"day-18",ordinalLabel:"Day 18",title:"Guess the Number",commitment:"30-40 mins",replId:"892a638a-a1c6-4914-a99d-c1d9f7bcb8da",isProject:!0,description:"Build a 'Guess the Number' game where the user has to read your mind and guess the number you are thinking...",socialSharingText:'Can you "Guess the Number" I have in mind \ud83e\udd14?',videoEmbedUrl:"https://youtube.com/embed/ox5KGtrXs5E",imageAltText:"A lottery ball machine with yellow balls in it that have numbers on them"},{ordinal:19,slug:"day-19",ordinalLabel:"Day 19",title:"Let's Be a Bit Lazy!",commitment:"20-25 mins",replId:"5ef8e44d-ec2d-4014-8f7a-323fc8ca2a7e",isProject:!1,description:"What if you do have an idea of how often you want something to repeat (or you just want to be a bit lazy)? Introducing...the `for` loop.",socialSharingText:"Built an interest calculator to see how much money I would owe! A bit boring, I know, but necessary for #reallife.",videoEmbedUrl:"https://youtube.com/embed/0n65nmmuCSI",imageAltText:"Piles of gold coins with mathematical symbols on them"},{ordinal:20,slug:"day-20",ordinalLabel:"Day 20",title:"What Can Range really do?",commitment:"20-25 mins",replId:"dd1a0266-6068-4715-acd7-436aa9706802",isProject:!1,description:"Bring on the start of list making by learning all the capabilities of range.",socialSharingText:"What are ten things you can always count on? Your fingers. Or this number generator I made. ",videoEmbedUrl:"https://youtube.com/embed/cstyIsl2Q6s",imageAltText:"A long bendy clipboard with a list of highlighted numbers"},{ordinal:21,slug:"day-21",ordinalLabel:"Day 21",title:"Project day: Throwback to Math Facts",commitment:"20-25 mins",replId:"9e9bb76c-a03d-4a71-b293-15546ed90e31",isProject:!0,description:"Create a game to test your friends\u2019 knowledge on their math facts.",socialSharingText:"Let's multiply on the floor. Why? Because you can't use tables \ud83d\ude01.",videoEmbedUrl:"https://youtube.com/embed/rfK_QXsf2PA",imageAltText:"Pacman multiplied by cherries equals to one hundred"},{ordinal:22,slug:"day-22",ordinalLabel:"Day 22",title:"Use other people's code",commitment:"20-25 mins",replId:"4b9f6df4-175c-42d0-b481-e30655845e52",isProject:!1,description:"Let's be sneaky and learn how to use other people's code to make your life easier.",socialSharingText:"Guess the number between one and 1Million!! Closest guess gets a shout-out from Replit team @LessonHacker and @AarrrMe!",videoEmbedUrl:"https://youtube.com/embed/KQ0hAk_lXCQ",imageAltText:"A metallic claw picking up number 8 from thousands of numbers"},{ordinal:23,slug:"day-23",ordinalLabel:"Day 23",title:"Subroutines: The Recipe for Coding",commitment:"20-25 mins",replId:"bd4ef7bb-0f35-4061-886c-4a3a2aed2bef",isProject:!1,description:"Write code in a way where you can use it, call it, or repeat it anywhere and at anytime with the power of subroutines. ",socialSharingText:"Ok you might have cracked my earlier login but let's try a better one \ud83d\udd10 !",videoEmbedUrl:"https://youtube.com/embed/gogQkRaXPmA",imageAltText:"A login screen with the user name 'Mark' and password hidden as dots, with a pixelated emoji"},{ordinal:24,slug:"day-24",ordinalLabel:"Day 24",title:"Roll in the Parameters",commitment:"20-25 mins",replId:"8a631c02-9663-4cce-813a-b400e74e3927",isProject:!1,description:"Underwhelmed by subroutines? Let's switch it up and add some parameters.",socialSharingText:"They see me rollin' ( \ud83c\udfb2 ), they hatin'. ",videoEmbedUrl:"https://youtube.com/embed/AEpcNiqV73k",imageAltText:"Lots of dice rolling on the screen"},{ordinal:25,slug:"day-25",ordinalLabel:"Day 25 ",title:"Send it Back",commitment:"20-25 mins",replId:"daea8467-1dd5-4249-8b45-356fe24712dc",isProject:!1,description:"The `return` command will allow you to really start building some epic, automated video games. ",socialSharingText:"Built a character health stats generator to prepare for the epic battle in 3 days!!",videoEmbedUrl:"https://youtube.com/embed/jPF_tAnYY44",imageAltText:"A glowing showcase with a pixel heart floating on top"},{ordinal:26,slug:"day-26",ordinalLabel:"Day 26",title:"The Power of Libraries in Games",commitment:"20-25 mins",replId:"98b430a0-79a8-4dff-bc6b-af073fee4192",isProject:!1,description:"You are 1/4th of the way done with 100 Days of Code! Well done. Learn how to import two libraries: 'os' and 'time', which will be super helpful as you start to build some really cool automation.",socialSharingText:"Used @Replit's cool audio feature to build an iPod and listen to some tunes \ud83c\udfb5.",videoEmbedUrl:"https://youtube.com/embed/_IGpC-sA7M4",imageAltText:"A turntable with vinyl record on top and floating green songs to pick from"},{ordinal:27,slug:"day-27",ordinalLabel:"Day 27",title:"Video Game Characters",commitment:"20-25 mins",replId:"2ee8de21-451f-4ee9-8aab-db83697b2d33",isProject:!0,description:"Project Day! Build some characters and create their health and strength stats through the power of return, libraries, and loops. Get them ready to battle on Day 28. ",socialSharingText:"Getting ready for an epic battle tomorrow! But first, we need to build some characters \ud83e\uddd9\ud83c\udffb\u200d\u2640\ufe0f\ud83e\udddd\ud83c\udffb\u200d\u2640\ufe0f\ud83d\udc7a!",videoEmbedUrl:"https://youtube.com/embed/jCtk6DZLHoQ",imageAltText:"A video game character, a sword, a heart and a potion bottle"},{ordinal:28,slug:"day-28",ordinalLabel:"Day 28",title:"Epic Character Battle",commitment:"20-25 mins",replId:"b65adafb-7e5e-40d2-b223-4b908d7609e4",isProject:!0,description:"Project Day! Your characters you built on Day 27 will fight to the death. Who will win out? ",socialSharingText:"Ready to battle it out \u2694\ufe0f with the characters I built in the previous day. ",videoEmbedUrl:"https://www.youtube.com/embed/VVMqAAMjO_I",imageAltText:"A water gun pointing at a target, ready for battle"}]},IN:{title:"100 Days of Code - Python Course (Hindi)",slug:a,description:"Iss course mein aap Python ka istemaal karke games, apps, aur websites banaaenge. Is course ko shuru karein aur 100 din main 100 projects banaaein!",promoDescription:"Replit ke sath code ke pehle code likhke asli projects banana shuru karo!",socialSharingText:"{ordinalLabel} of #Replit100DaysOfCode. Mujhe join karo on @Replit",socialHashtag:"#Replit100DaysOfCode",sharableLink:"https://join.replit.com/python",videoEmbedUrl:"https://www.youtube.com/embed/NSxxETzFU_Q",imageAltText:"Gulaabi, haraa, aur neela keyboard jispe 100 likha hai",pageTitle:"100 Days of Code - Python Course - Replit par code karna shuru karo",metaTitle:"100 Days of Code ke saath muft mein Python seekho",metaDescription:"Is course ko shuru karein aur 100 din main 100 projects banaake developer ban jaaein! Iss course ke liye pehle se koi coding gyaan ki jaroorat nahi hain",metaKeywords:"Python course, 100 days of code, learn python, python beginners, learn code, python tutorial, bootcamp, python seekhna, python seekho",ogTitle:"100 Days of Code - Replit par Python Seekho",ogDescription:"Is course ko shuru karein aur 100 din main 100 projects banaake developer ban jaaein!",ogImage:"https://replit.com/public/images/100-days-of-python/og.jpg",lessons:[{ordinal:1,slug:"day-1",ordinalLabel:"Day 1",title:"Hello Duniya!",commitment:"20-25 mins",replId:"d2da52ef-1d16-41eb-8c8e-b3011c775a4d",isProject:!1,description:"Sirf 20 minutes mein, 'print' statement seekhkein aur aapka pehle Python project duniya ke sath share karein!",socialSharingText:"Hello coding ki duniya - ye mera pehla project hai!",videoEmbedUrl:"https://youtube.com/embed/XQAenArIUqM",imageAltText:"Two smiling, retro-style computers look through layers of pink and blue rectangles."},{ordinal:2,slug:"day-2",ordinalLabel:"Day 2",title:"Input and Variables",commitment:"20-25 mins",replId:"87ea3273-aabd-4cc2-8148-3ca60e3613b2",isProject:!1,description:"Seekhe gae teen kaushal (print, input, variable) ka use karke kuchh bada project banaana shuroo karo",socialSharingText:"Maine abhi apna pehala interactive code banaaya hai jo user se input leta hai!",videoEmbedUrl:"https://youtube.com/embed/b5tFeJ0Ol2Y",imageAltText:"A brain connected to red, green, and blue tubes. It looks like it's charging!"},{ordinal:3,slug:"day-3",ordinalLabel:"Day 3",title:"Concat...kya?",commitment:"20-25 mins",replId:"0b618ca6-0123-4251-bd8e-07b040fd4364",isProject:!1,description:'"Concatenation" ke barein mein seekhke, khaane ki recipe banaayein!',socialSharingText:"Concatenation ke saath maine mazeydaar khana banaya \ud83e\udd53\ud83c\udf5d\ud83e\udd51 !",videoEmbedUrl:"https://youtube.com/embed/G7r_1NQrSm0",imageAltText:"A chain circle made of thick blue links on a green and pink background."},{ordinal:4,slug:"day-4",ordinalLabel:"Day 4",title:"Rang mein 'Print' karna!",commitment:"20-25 mins",replId:"940d4c90-96b5-45ee-a75a-9166c3b1c370",isProject:!0,description:"Apni khud ke adventure kahani likhen, aapne project ko rang se POP karo!",socialSharingText:"Mein ek lekhak hoon! \ud83d\udcd6 !",videoEmbedUrl:"https://youtube.com/embed/oakgvGNYQoQ",imageAltText:"A scroll containing vivid green and pink text and image elements, like a web page"},{ordinal:5,slug:"day-5",ordinalLabel:"Day 5",title:"If this...else that?!",commitment:"20-25 mins",replId:"77691a4b-0b2c-4d15-b55e-e022b1134e65",isProject:!1,description:'Aapke pasandi TV/movie kirdaar ke saath "Mein Kaun hoon?" game banaao',socialSharingText:"Meine mera pehla 'Mein Kaun hoon?' program 'if' statements ke sath banaya!",videoEmbedUrl:"https://youtube.com/embed/Wmn9yze6m5U",imageAltText:"Three smiling cartoon heads wearing headphones and augmented reality goggles."},{ordinal:6,slug:"day-6",ordinalLabel:"Day 6",title:"Yeh elif elif kya hai?",commitment:"20-25 mins",replId:"e56ecf41-ee0d-4b61-ae6f-dfd67971c3a4",isProject:!1,description:"'elif' statements ko seekho. Kya tum login system bana sakte hain jo passwords ko hacker se surakshit rakh sakta hain?",socialSharingText:"Maine aaj kya banaya? Ek hack proof login system! Andar aane ki koshish karo \ud83d\udc7e!!",videoEmbedUrl:"https://youtube.com/embed/Dm8lRtcnh0o",imageAltText:"A conga line of blue, yellow, and green cartoon people. Each person has a speech bubble with a heart in it, and everything looks like it's made of glass."},{ordinal:7,slug:"day-7",ordinalLabel:"Day 7",title:"Code ko nest karein",commitment:"20-25 mins",replId:"db0d4749-d840-49d6-af94-56d24bd7170c",isProject:!1,description:"'if' statements ko 'if' statements ke andar banao. Aapke pasandi TV show ke asli prashansak ko khojne ke liye program banao.",socialSharingText:"Mere pasandi TV show ke asli prashansak ko khojne ke liye maine prgram banaya \ud83d\udcfa !",videoEmbedUrl:"https://youtube.com/embed/Abk1jPdnMIc",imageAltText:"A smiling bird hatching from a bright pink nest. It has broken the top off its blue egg and wears it like a hat."},{ordinal:8,slug:"day-8",ordinalLabel:"Day 8",title:"Khushi Generator",commitment:"20-25 mins",replId:"0d6f80a8-f0a3-4b4d-9f01-5c74c6f4630b",isProject:!0,description:'Duniya ko "Khushi generator" ke saath pyaar dikhao. Vyaktigat sandesh ke saath achhe vibes bhejo.',socialSharingText:'"Khushi generator" ke saath acche vibes bhej raha hoon! \ud83d\ude0e',videoEmbedUrl:"https://youtube.com/embed/3SXW63IIs4I",imageAltText:"Two metal robot hands. One is gold and giving a thumbs up,; the other is metallic blue and giving a thumbs down. Both hands have the Replit logo on the side."},{ordinal:9,slug:"day-9",ordinalLabel:"Day 9",title:"Code ka Jadoo",commitment:"20-25 mins",replId:"ac6f3e34-7d18-46da-92bf-adb82014f64a",isProject:!1,description:"Computer ko `int` aur `float` ka jadoo sikhaao!",socialSharingText:"Mujhe aaj ke Python class mein laga ki main jaadoogar hoon \ud83c\udff0\ud83e\uddd9 !",videoEmbedUrl:"https://youtube.com/embed/4hNQsFN9ki8",imageAltText:"A floppy disk emits a stream of green and grey cubes, giving off very strong retro vibes."},{ordinal:10,slug:"day-10",ordinalLabel:"Day 10",title:"Paisa phek, tamasha dekh",commitment:"20-25 mins",replId:"d7bf3c40-bf6c-47ce-8213-7fcf7fe8ea1e",isProject:!1,description:'Mathematics ko code karo (+, -, *, /) aur "tip calculator" banao!',socialSharingText:"Maine aaj calculator banaya!",videoEmbedUrl:"https://youtube.com/embed/8pzLxVej3_g",imageAltText:"The layers of an illustrated calculator have been pulled apart, exposing the battery and keyboard."},{ordinal:11,slug:"day-11",ordinalLabel:"Day 11",title:'"525,600 minutes"',commitment:"20-25 mins",replId:"c1058954-f9e9-4f9b-8305-e3bdc8cbead0",isProject:!0,description:"Ek saal mein kitne seconds hain?",socialSharingText:"Ek saal mein kitne seconds hain? \ud83d\ude40 !!",videoEmbedUrl:"https://youtube.com/embed/pKRE-W9HGNs",imageAltText:"A smiling clock with eyes looking in different directions."},{ordinal:12,slug:"day-12",ordinalLabel:"Day 12",title:"Saare Bugs Dhoondo!",commitment:"20-25 mins",replId:"7170515b-230b-4bbd-b44b-9a0ba69323e8",isProject:!0,description:'Iss course ne aapko "bugs" khojna sikhaya hai. Galti ko khojke aur "debugging" shuru karein!',socialSharingText:'"Bugs" ko maar diya \ud83d\udc1b . ',videoEmbedUrl:"https://youtube.com/embed/MHY4Ei2U60k",imageAltText:"A robot ladybug flies toward a yellow flower, but it's frowning because there's a net blocking its path."},{ordinal:13,slug:"day-13",ordinalLabel:"Day 13",title:"Exam marks calculator",commitment:"20-25 mins",replId:"1861029e-b153-45c9-b37f-96a72a46e28f",isProject:!0,description:"Chaahe aap teacher hon ya student, aap iss project ke saath apne marks calculate kar sakate hain",socialSharingText:"Aaj maine exam marks calculator banaya! \ud83d\ude0e !",videoEmbedUrl:"https://youtube.com/embed/fOFWkmAyCHY",imageAltText:"A spray of yellow cards with big red A+ labels fly away, like someone threw them in the air."},{ordinal:14,slug:"day-14",ordinalLabel:"Day 14",title:"Rock, Paper, Scissors",commitment:"30-40 mins",replId:"99854979-69f3-4b85-9af6-a0d4f9cab167",isProject:!0,description:"Day 14! Sabse mazeydaar din...Rock, paper, scissors game sabke saath khelne ke liye.",socialSharingText:"\ud83e\udea8 \ud83d\udcc4\u2702\ufe0f Mera pehla multiplayer game !!!",videoEmbedUrl:"https://youtube.com/embed/5YP8QIpR1SQ",imageAltText:"An illustration of a piece of paper, a rock, and a pair of scissors with bright green handles."}]}}),r),u=function(){return Object.keys(c).filter((function(e){return e!==o})).reduce((function(e,n){return e[n]=c[n],e}),{})};function d(e,n){if(!function(e){return void 0!==c[e]}(e))return c.empty[s];var t=c[e];return n&&Object.keys(t).includes(n.toUpperCase())||(n=s),t[n.toUpperCase()]}var p=function(e,n){var t=d(e);if(!t)throw new Error("Could not find data for course: ".concat(e));var r=t.lessons.find((function(e){return e.slug===n}));if(!r)throw new Error("Could not find data for lesson: ".concat(r));return r},f=function(e,n){return"/public/images/".concat(e,"/").concat(n.slug,".jpg")},m=function(e,n){var t=Object.keys(n).reduce((function(e,t){var r=t;return e.replace("{".concat(t,"}"),"".concat(n[r]))}),e);return"".concat(n.socialSharingText," ").concat(t)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[3662,5762,8350,3443,2240,6344,6351,1627,8764,6625,8966,4778,8003,9998,8944,8813,7485,5499,6165,4837,1889,1674,4508,6743,1976,2027,395,8738,4286,7046,2350,3497,3576,634,2385,1622,4320,8583,6456,7838,6602,3243,1048,9774,2888,179],(function(){return n(25436),n(60937)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironment2-6a502a0982c29a2a.js.map