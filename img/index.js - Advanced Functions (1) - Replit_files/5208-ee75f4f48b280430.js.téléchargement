"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5208],{21767:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(7297);function o(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return o=function(){return e},e}var i=(0,t(31230).ZP)(o())},2885:function(e,n,t){t.d(n,{Z:function(){return ae}});var r=t(10253),o=t(35944),i=t(90317),l=t(59369),a=t(67294),s=t(1879),u=t(65975),c=t(26042),p=t(7297),d=t(31230),m=t(46829);function h(){var e=(0,p.Z)(["\n  mutation ReportRepl($replId: String, $reason: String!) {\n    createBoardReport(replId: $replId, reason: $reason) {\n      id\n    }\n  }\n"]);return h=function(){return e},e}var f={},v=(0,d.ZP)(h());var Z=t(93058),g=t(53429),b=(0,u.KD)("form");function w(e){var n=e.replId,t=e.onDone,i=(0,a.useState)(""),l=i[0],s=i[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,w=(0,r.Z)(function(e){var n=(0,c.Z)({},f,e);return m.useMutation(v,n)}({variables:{replId:n,reason:l},onCompleted:function(){d("Repl reported"),t()}}),2),y=w[0],D=w[1].loading;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.xv,{variant:"subheadBig",children:"Report Repl"}),(0,o.BX)(b,{onSubmit:function(e){e.preventDefault(),l?y():h("Not reported. No reason specified.")},css:[u.l0.colWithGap(32)],children:[(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8)],children:(0,o.tZ)(u.B,{placeholder:"Why do you want to report this Repl?",value:l,onChange:function(e){return s(e.currentTarget.value)},css:[u.l0.minHeight(64),u.l0.maxHeight(128),{resize:"vertical"}]})}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(16),u.l0.justify.end],children:[(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}})}),(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{disabled:D,text:D?"Reporting":"Report Repl",type:"submit",colorway:"negative",iconLeft:(0,o.tZ)(g.Z,{}),onClick:function(){return t()}})})]})]})]})}function y(){var e=(0,p.Z)(["\n  mutation WarnUser($username: String!, $reason: String!) {\n    warnUser(username: $username, reason: $reason) {\n      ... on Warning {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}var D={},x=(0,d.ZP)(y());var T=t(88961),R=(0,u.KD)("form");function G(e){var n=e.username,t=e.onDone,i=(0,a.useState)(""),l=i[0],s=i[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,f=(0,r.Z)(function(e){var n=(0,c.Z)({},D,e);return m.useMutation(x,n)}({onCompleted:function(e){var n=e.warnUser;"UserError"===n.__typename?h(n.message):d("The user has been warned.")}}),2),v=f[0],g=f[1].loading;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Warn the author of the Repl?"}),(0,o.BX)(R,{onSubmit:function(e){e.preventDefault(),l&&n?(v({variables:{username:n,reason:l}}),t()):h("Please provide a reason.")},css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.B,{placeholder:"Reason for warning the user",value:l,onChange:function(e){return s(e.currentTarget.value)},css:{resize:"none",minHeight:40}}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(u.zx,{disabled:g,colorway:"negative",text:g?"Warning user...":"Yes, warn this user",type:"submit",iconLeft:(0,o.tZ)(T.Z,{})})]})]})]})}function C(){var e=(0,p.Z)(["\n  mutation BanUserFromCommunity($username: String!, $reason: String!) {\n    banCommunityUser(username: $username, reason: $reason) {\n      ... on BannedBoardUser {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return C=function(){return e},e}var B={},P=(0,d.ZP)(C());var W=t(40963),H=t(67177),U=(0,u.KD)("form");function k(e){var n=e.username,t=e.onDone,i=(0,a.useState)(""),l=i[0],s=i[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,f=(0,r.Z)(function(e){var n=(0,c.Z)({},B,e);return m.useMutation(P,n)}({onCompleted:function(e){var n=e.banCommunityUser;"UserError"===n.__typename?h(n.message):d("The user has been banned.")}}),2),v=f[0],g=f[1].loading;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Ban the author of the Repl?"}),(0,o.tZ)(u.xv,{multiline:!0,children:"Are you sure you want to ban this user? All their Repls will be deleted and they will no longer be able to access their account."}),(0,o.BX)(U,{onSubmit:function(e){e.preventDefault(),l&&n?(v({variables:{username:n,reason:l}}),t()):h("Please provide a reason.")},css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8)],children:(0,o.tZ)(W.B,{placeholder:"Reason for banning the user",value:l,onChange:function(e){return s(e.currentTarget.value)},css:{resize:"none",minHeight:40}})}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(u.zx,{disabled:g,colorway:"negative",text:g?"Banning user...":"Yes, ban this user",type:"submit",iconLeft:(0,o.tZ)(H.Z,{})})]})]})]})}var E=t(99900),X=t(47568),_=t(34051),S=t.n(_),I=t(15764);function $(){var e=(0,p.Z)(["\n  mutation UnpublishTemplate($input: DeleteReplDeploymentInput!) {\n    deleteReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return $=function(){return e},e}var z={},A=(0,d.ZP)($(),I.FW);var O=t(75597),q=(0,u.KD)("form");function N(e){var n=e.replId,t=e.onDone,i=(0,Z.Z)(),l=i.showConfirm,a=i.showError,s=(0,r.Z)(function(e){var n=(0,c.Z)({},z,e);return m.useMutation(A,n)}({variables:{input:{replId:n}}}),2),p=s[0],d=s[1];return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Unpublish Template from Community?"}),(0,o.BX)(q,{onSubmit:function(){var e=(0,X.Z)(S().mark((function e(n){var r,o,i,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=3,e.next=6,p();case 6:s=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a("Something went wrong. Please try again.");case 12:if("Repl"!==(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.deleteReplDeployment.__typename)){e.next=16;break}l("Template successfully unpublished"),e.next=19;break;case 16:if("NotFoundError"!==(null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.deleteReplDeployment.__typename)&&"UserError"!==(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.deleteReplDeployment.__typename)){e.next=19;break}return a(s.data.deleteReplDeployment.message),e.abrupt("return");case 19:t();case 20:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(n){return e.apply(this,arguments)}}(),css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.xv,{multiline:!0,children:"Unpublishing a Template will remove it from the Templates page. The Repl itself will not be deleted, and you can always re-publish the Template again later."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(u.zx,{disabled:d.loading,colorway:"negative",text:d.loading?"Unpublishing Template...":"Yes, unpublish this Template",type:"submit",iconLeft:(0,o.tZ)(O.EyeOff,{})})]})]})]})}var L=t(6565);function j(){var e=(0,p.Z)(["\n  mutation ReviewTemplateReview($input: ReviewTemplateInput!) {\n    reviewTemplate(input: $input) {\n      ... on TemplateReview {\n        id\n        repl {\n          id\n          ...ReplViewReplActionsPermissions\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return j=function(){return e},e}var M={},Y=(0,d.ZP)(j(),L.jN);var F=t(76818),K=t(88512),V=(0,u.KD)("form");function J(e){var n=e.replId,t=e.reviewType,i=e.onDone,l=(0,Z.Z)(),a=l.showConfirm,s=l.showError,p="Something went wrong ".concat("promote"===t?"promoting":"demoting"," this Template"),d=(0,r.Z)(function(e){var n=(0,c.Z)({},M,e);return m.useMutation(Y,n)}({variables:{input:{replId:n,shouldPromote:"promote"===t}},onError:function(){s(p)},onCompleted:function(e){"TemplateReview"===e.reviewTemplate.__typename?(a("Template successfully ".concat("promote"===t?"promoted":"demoted")),i()):"UnauthorizedError"===e.reviewTemplate.__typename||"UserError"===e.reviewTemplate.__typename?s(e.reviewTemplate.message):s(p)}}),2),h=d[0],f=d[1];return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"promote"===t?"Promote Template":"Demote Template?"}),(0,o.BX)(V,{onSubmit:function(){var e=(0,X.Z)(S().mark((function e(n){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),css:[u.l0.colWithGap(24)],children:["promote"===t?(0,o.tZ)(u.xv,{multiline:!0,children:"Promoting a Template will show the Template in the Create Repl modal."}):(0,o.tZ)(u.xv,{multiline:!0,children:"Demoting a Template will remove the Template from the Create Repl modal."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return i()}}),"promote"===t?(0,o.tZ)(u.zx,{disabled:f.loading,colorway:"primary",iconLeft:(0,o.tZ)(F.Z,{}),text:f.loading?"Promoting Template...":"Promote Template"}):(0,o.tZ)(u.zx,{disabled:f.loading,colorway:"negative",iconLeft:(0,o.tZ)(K.Z,{}),text:f.loading?"Demoting Template...":"Demote Template"})]})]})]})}var Q=t(64184),ee=t(18757);function ne(){var e=(0,p.Z)(["\n  mutation HidePostToggleHiddenPost($postId: Int!, $isHidden: Boolean!) {\n    toggleHiddenPost(postId: $postId, isHidden: $isHidden) {\n      ... on Post {\n        id\n        isHidden\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var te={},re=(0,d.ZP)(ne());var oe,ie=(0,u.KD)("form");function le(e){var n=e.post,t=e.onDone,i=(0,Z.Z)(),l=i.showConfirm,a=i.showError,s=(0,r.Z)(function(e){var n=(0,c.Z)({},te,e);return m.useMutation(re,n)}({variables:{postId:n.id,isHidden:!n.isHidden},onCompleted:function(e){"Post"===e.toggleHiddenPost.__typename?n.isHidden?l("Post removed from the community."):l("Post allowed on community."):"NotFoundError"===e.toggleHiddenPost.__typename||"UserError"===e.toggleHiddenPost.__typename?a(e.toggleHiddenPost.message):a("An unexpected error occurred."),t()},onError:function(){a("Something went wrong. Please try again.")}}),2),p=s[0],d=s[1].loading,h=n.isHidden?"Yes, show this post":"Yes, hide this post",f=n.isHidden?"Showing...":"Hiding...",v=n.isHidden?"Show this post to the Community":"Hide this post from the Community";return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.xv,{multiline:!0,variant:"subheadBig",children:v}),(0,o.BX)(ie,{onSubmit:function(e){e.preventDefault(),p()},css:[u.l0.colWithGap(32)],children:[(0,o.tZ)(u.xv,{multiline:!0,children:"Hiding a post will remove it from the Community feeds, but the post will still be viewable to the creator. Showing a post will make it so all users will be able to discover this post though community feeds."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:t})}),(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{disabled:d,colorway:"negative",text:d?f:h,type:"submit",iconLeft:(0,o.tZ)(Q.Z,{})})})]})]})]})}function ae(e){var n,t,c=e.repl,p=e.post,d=e.canModerate,m=e.source,h=(0,r.Z)(a.useState(null),2),f=h[0],v=h[1],Z=[{label:"Report",isDestructive:!0,key:oe.reportRepl,icon:(0,o.tZ)(g.Z,{})}];if(d){if(Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(T.Z,{}),(0,o.tZ)(u.xv,{children:"Warning"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),key:oe.warnAuthor,isDestructive:!0}),Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(H.Z,{}),(0,o.tZ)(u.xv,{children:"Ban author"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),key:oe.banAuthor,isDestructive:!0}),null!==c.lastPublishedAt){var b=(null===p||void 0===p?void 0:p.isHidden)?(0,o.tZ)(ee.Z,{}):(0,o.tZ)(Q.Z,{}),y=(null===p||void 0===p?void 0:p.isHidden)?"Show post to Community":"Hide post from Community";p&&Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[b,(0,o.tZ)(u.xv,{children:y}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.modHide}),Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(H.Z,{}),(0,o.tZ)(u.xv,{children:"Unpublish Repl"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.modUnpublish})}var D;if(c.publishedAs===i.O2.Template)(null===(D=c.templateReview)||void 0===D?void 0:D.promoted)?Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(K.Z,{}),(0,o.tZ)(u.xv,{children:"Demote Template"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.modDemoteTemplate}):Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(F.Z,{}),(0,o.tZ)(u.xv,{children:"Promote Template"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!1,key:oe.modPromoteTemplate})}return c.currentUserPermissions.publish&&null!==c.lastPublishedAt&&Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(Q.Z,{}),(0,o.tZ)(u.xv,{children:"Unpublish from Community"})]}),isDestructive:!0,key:oe.unpublish}),c.publishedAs===i.O2.Template&&c.currentUserPermissions.publish&&Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(Q.Z,{}),(0,o.tZ)(u.xv,{children:"Unpublish Template"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.unpublishTemplate}),Z.length?(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.Z,{label:"Repl Actions",items:Z,onItemClick:function(e){v(e.key)}}),(0,o.tZ)(s.Z,{isOpen:f===oe.reportRepl,onRequestClose:function(){return v(null)},children:(0,o.tZ)(w,{replId:c.id,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.unpublish,onRequestClose:function(){return v(null)},children:(0,o.tZ)(E.Z,{repl:c,onDone:function(){return v(null)},source:m})}),(0,o.tZ)(s.Z,{isOpen:f===oe.warnAuthor,onRequestClose:function(){return v(null)},children:(0,o.tZ)(G,{username:null===(n=c.owner)||void 0===n?void 0:n.username,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.banAuthor,onRequestClose:function(){return v(null)},children:(0,o.tZ)(k,{username:null===(t=c.owner)||void 0===t?void 0:t.username,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.unpublishTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(N,{replId:c.id,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.modDemoteTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(J,{replId:c.id,reviewType:"demote",onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.modPromoteTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(J,{replId:c.id,reviewType:"promote",onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.modUnpublish,onRequestClose:function(){return v(null)},children:(0,o.tZ)(E.Z,{repl:c,onDone:function(){return v(null)},source:m})}),p&&(0,o.tZ)(s.Z,{isOpen:f===oe.modHide,onRequestClose:function(){return v(null)},children:(0,o.tZ)(le,{post:p,onDone:function(){return v(null)}})})]}):null}!function(e){e.warnAuthor="warnAuthor",e.banAuthor="banAuthor",e.reportRepl="reportRepl",e.unpublish="unpublish",e.unpublishTemplate="unpublishTemplate",e.modPromoteTemplate="modPromoteTemplate",e.modDemoteTemplate="modDemoteTemplate",e.modUnpublish="modUnpublish",e.modHide="modHide"}(oe||(oe={}))}}]);
//# sourceMappingURL=5208-ee75f4f48b280430.js.map