"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6602],{77352:function(e,t,n){n.d(t,{gC:function(){return f},LK:function(){return d},jJ:function(){return p}});var r=n(35944),i=n(35642),o=n(65975),a=n(11163),c=["100-days-of-python","100-days-of-python-promo","add-guest-new-user","apps-announcement","appsOnboardingForkRepl","appsOnboardingRunRepl","appsOnboardingSelectRepl","april_2019_hiring","archive-cta","assignment_markdown","boosts-modal","classroom-repl-talk-ask-on-error","cleanup-popover-dismissed","codemirror-explorers-banner","create-model-solution","createWebsite","curriculum-launch-modal","cycles-survey","dashboard_new_folder","dashboard_search","dashboard_templates","debugger_start","dec172020maintenance","devtools-intro","discount_hacker_18","discount_holiday_19","discount_newyear_19","downtime-073118","draw-new-user-cta","enveditorintro","file_tree","follow-cursor-avatar-click","grid_click","hacker-gift","hacker_upgrade","home","home-feed","home-onboarding-checklist","home-onboarding-checklist-apps","home-onboarding-checklist-learn","home-onboarding-checklist-repl","hosting_url","introduceYourself","july18_irl","july_2019_music_jam","landing","languagesInterestedIn","launch-modal","learn-onboarding","make_website","march_2019_game_jam","migrated_unnamed_repls","mobile-new-workspace-banner","mobile-survey-banner-11042021","js-4-day-challenge-day-1","js-4-day-challenge-day-2","js-4-day-challenge-day-3","js-4-day-challenge-day-4","js-4-day-challenge-day-end","move_unnamed_repls","multiplayer","multiplayer_invite","multiplayer_welcome","new_in_repls","new_share","nft-world-2022","onboarding_connection_toast","onboarding_run","onboarding-simplify-experiment","packager-shell-hint","packman","privacy-update-09/21","product_hunt","profile2","profile-refresh-beta","projects-overview-cta","projects-overview-tests-disclaimer","publish-guidelines","repl-con-2022","repl_stars","repl-talk-update-2021","repl-talk-update-2022","revisions_history","run_on_replit","saw_unnamed_folders","search","self-grouping-projects-cta","series-b-announcement","share_classroom","share_repl_to_talk","show_packager_about_tooltip","show_packager_import_tooltip","show_test_update_tooltip","stack-create-cta","stack-migration-cta","summer-2021-pd-survey","summer_hacker","teams-grading-survey","teams-pro-2022","teams_pro_module","template-jam-announcement","threads-2-announcement","upgrade_module","workspace-desktop-tour","workspace-desktop-tour19","workspace-experience-task-completion-survey-06022022","workspace-experience-task-completion-survey-nudge-06022022","youtube-in-the-ws","edfest-announcement","cycles-release","legacy-cycles-grant-notice"];var u=n(88075),l=n(2146),s=n(86292);var d=function(e,t){return"".concat(e,"-tutorialChallenge-").concat(t)},p=function(e,t){var n,r,o=JSON.parse(i.Z.get(d(e,t),"string")||"{}");if("string"===typeof(r=o).tourName&&"string"===typeof r.url&&(n=o.tourName,c.includes(n)))return o},f=function(e){var t=e.challenge,n=c.find((function(e){return e.toString()===t.tourName}))||"js-4-day-challenge-day-1",i=(0,l.o)(n),d=i.isDone,p=i.isLoading,f=i.setAsDone,h=(0,a.useRouter)();return p?null:(0,r.tZ)(o.zx,{colorway:d?"primary":"positive",onClick:function(){f(),(0,s.j)(s.U3.TUTORIAL_DONE_BUTTON_COMPLETED),h.push("/~")},disabled:d,iconLeft:(0,r.tZ)(u.Z,{}),big:!0,text:d?"Challenge completed!":"Complete Challenge"})}},65e3:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(67294),i=n(61193),o=n(99408),a=n(22371),c=n(65456);function u(){var e=(0,o.Z)().fs,t=(0,i.c)("flag-tutorial-pane"),n=t.enabled,u=t.loading,l=(0,r.useState)({isLoading:!0,isTutorial:!1}),s=l[0],d=l[1];return(0,r.useEffect)((function(){n&&!u&&e.watchDir(".",{onChange:function(e){d({isLoading:!1,isTutorial:e.some((function(e){return e.type===c.Tv.Directory&&e.filename===a.V}))})},onMoveOrDelete:function(){d({isLoading:!1,isTutorial:!1})},onError:function(){d({isLoading:!1,isTutorial:!1})}})}),[e,n,u]),n?s:{isLoading:!1,isTutorial:!1}}},12771:function(e,t,n){n.d(t,{KC:function(){return o},Rh:function(){return a},_F:function(){return u}});var r=n(59637),i=n(29815);function o(e,t){var n=(0,r.Z)(t),i=n[0],o=n.slice(1);if("floating"===i){if(!e.floating)return null;var a=o[0];if("number"!==typeof a)throw new Error("Expected floatingIndex");var c=e.floating[a];if(!c)throw new Error("Expected paneGroup");return c}if("tiling"!==i)throw new Error("Expected tiling path");var u=e.tiling;if(!u)return null;var l=u,s=o.length,d=0,p=!0,f=!1,h=void 0;try{for(var v,g=o[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var m=v.value;if("paneGroup"===l.type)break;if("number"!==typeof m)throw new Error("Expected number");d++,l=l.children[m]}}catch(y){f=!0,h=y}finally{try{p||null==g.return||g.return()}finally{if(f)throw h}}return s===d?l:null}function a(e,t){var n=e.floating.find((function(e){return e.panes.includes(t)}));if(n)return{index:n.panes.indexOf(t),paneGroup:n,paneGroupPath:["floating",e.floating.indexOf(n)],floating:!0};var r=e.tiling;if(!r)return null;for(var o=[{paneGroupPath:["tiling"],parent:null,grandparent:null,node:r}];o.length;){var a=o.shift();if(!a)throw new Error("Expected item");if("split"===a.node.type){var c=!0,u=!1,l=void 0;try{for(var s,d=a.node.children[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value;o.push({grandparent:a.parent,parent:a.node,node:p,paneGroupPath:(0,i.Z)(a.paneGroupPath).concat([a.node.children.indexOf(p)])})}}catch(f){u=!0,l=f}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}}else if(a.node.panes.includes(t))return{paneGroupPath:a.paneGroupPath,paneGroup:a.node,parent:a.parent,grandparent:a.grandparent,index:a.node.panes.indexOf(t),floating:!1}}return null}function c(e,t,n){if("paneGroup"===e.type)return{paneGroup:e,path:n};var r=0,o=e.children.length-1;return"topRight"!==t||e.stacked?("bottomRight"===t||"bottomLeft"===t&&e.stacked)&&(r=o):r=o,c(e.children[r],t,(0,i.Z)(n).concat([r]))}function u(e,t){var n=e.tiling;return n?c(n,t,["tiling"]):null}},68963:function(e,t,n){n.d(t,{T:function(){return u},m:function(){return o}});var r=n(12771),i=n(91885);function o(e,t){var n=void 0===t.activeIndex?0:t.activeIndex;if(t.isFloating)e.floating.push({id:t.id,type:"floatingPaneGroup",panes:t.panes,activeIndex:n,rect:t.rect});else{var o=null;if(Array.isArray(t.relativeTo))o=t.relativeTo;else{var c=(0,r.Rh)(e,t.relativeTo);if(!c)throw new Error("Expected pane");o=c.paneGroupPath}if(null===o)throw new Error("Expected relativeTo");if("tiling"!==o[0])throw new Error("Expected tiling path");var u=t.placement,l=t.panes,s=t.percent,d="above"===u||"below"===u,p="rightOf"===u||"below"===u;if(e.tiling||1!==o.length){if(!e.tiling)throw new Error("Expected tiling");var f=(0,r.KC)(e,o);if(!f||!(0,i.r)(f))throw new Error("Expected tiled node");if(1!==o.length||"replace"!==u){if(1===o.length&&"paneGroup"===e.tiling.type){var h=[e.tiling];return e.tiling={type:"split",percent:100,stacked:d,children:h},void a({id:t.id,insertIndex:p?1:0,panes:l,children:h,percent:s,activeIndex:n})}if(1===o.length&&"split"===e.tiling.type){if(Boolean(e.tiling.stacked)===Boolean(d))return void a({id:t.id,panes:l,percent:s,activeIndex:n,insertIndex:p?e.tiling.children.length:0,children:e.tiling.children});var v={id:t.id,panes:l,type:"paneGroup",percent:void 0===s?50:s,activeIndex:n},g=p?[f,v]:[v,f];return f.percent=100-v.percent,void(e.tiling={type:"split",stacked:d,children:g,percent:100})}if(0===o.length)throw new Error("Expected relativeTo length");var m=(0,r.KC)(e,(0,i.I)(o));if("split"!==(null===m||void 0===m?void 0:m.type))throw new Error("Expected split parent");if("replace"!==u)if(Boolean(m.stacked)!==Boolean(d))if(Boolean(m.stacked)===Boolean(d));else{var y={id:t.id,panes:l,type:"paneGroup",percent:void 0===s?50:s,activeIndex:n},x=p?[f,y]:[y,f],w=f.percent;f.percent=100-y.percent;var Z=m.children.indexOf(f);m.children[Z]={type:"split",stacked:d,children:x,percent:w}}else{var b=m.children.indexOf(f);a({id:t.id,panes:l,percent:s,activeIndex:n,insertIndex:p?b+1:b,children:m.children})}else{var k=m.children.indexOf(f);m.children.splice(k,1,{id:t.id,panes:l,percent:f.percent,type:"paneGroup",activeIndex:n})}}else e.tiling={id:t.id,type:"paneGroup",percent:100,panes:l,activeIndex:n}}else e.tiling={id:t.id,type:"paneGroup",percent:100,panes:l,activeIndex:n}}}function a(e){var t=e.id,n=e.percent,r=e.children,i=e.panes,o=e.insertIndex,a=e.activeIndex;if(void 0===n){var c=r.reduce((function(e,t){return e+t.percent}),0)/r.length,u=100/(100+c);r.forEach((function(e){e.percent=e.percent*u}));var l={id:t,panes:i,type:"paneGroup",percent:c*u,activeIndex:a};r.splice(o,0,l)}else{var s=(100-n)/100;r.forEach((function(e){e.percent=e.percent*s}));var d={id:t,panes:i,type:"paneGroup",percent:n,activeIndex:a};r.splice(o,0,d)}}function c(e,t){var n=t.index,r=t.paneId,i=t.activate,o=void 0===i||i;if(void 0!==n&&n>e.panes.length)throw new Error("Invalid index");var a=void 0===n?e.panes.length:n;e.panes.splice(a,0,r),o&&(e.activeIndex=a)}function u(e,t){if("floating"!==t.paneGroupPath[0]){var n=(0,r.KC)(e,t.paneGroupPath);if("paneGroup"!==(null===n||void 0===n?void 0:n.type))throw new Error("Expected paneGroup");c(n,t)}else{var i=t.paneGroupPath[1];if("number"!==typeof i)throw new Error("Expected floatingIndex");var o=e.floating[i];if(!o)throw new Error("Expected paneGroup");c(o,t)}}},80175:function(e,t,n){n.d(t,{Z:function(){return l},i:function(){return u}});var r=n(10253),i=n(59637),o=n(12771),a=n(91885);function c(e,t){e.panes.splice(t,1),0!==e.activeIndex&&(t>e.activeIndex||(e.activeIndex=e.activeIndex-1))}function u(e,t){var n=(0,o.Rh)(e,t);if(!n)throw new Error("Expected pane");if(n.floating)if(1===n.paneGroup.panes.length){var r=n.paneGroupPath[1];if("number"!==typeof r)throw new Error("Expected floatingIndex");l(e,["floating",r])}else c(n.paneGroup,n.index);else{var i=n.paneGroup,a=n.paneGroupPath,u=n.parent;if(!i)throw new Error("paneGroup eith paneId not found: "+t);var s=i.panes.indexOf(t);if(-1===s)throw new Error("Expected paneIndex");u||1!==i.panes.length?i.panes.length>1?c(i,s):l(e,a):e.tiling=null}}function l(e,t){var n=(0,i.Z)(t),c=n[0],u=n.slice(1);if("tiling"!==c||0!==u.length)if("floating"!==c||0!==u.length){var l=(0,o.KC)(e,t);if(!l)throw new Error("Expected node");if("floatingPaneGroup"!==l.type){var s=(0,a.I)(t),d=(0,o.KC)(e,s);if("split"!==(null===d||void 0===d?void 0:d.type))throw new Error("Expected split");var p=d.children.indexOf(l);if(-1===p)throw new Error("Expected paneGroupIndex");var f=d.children;if(f.splice(p,1),f.length>1){var h=100/f.reduce((function(e,t){return e+t.percent}),0);f.forEach((function(e){e.percent=e.percent*h}))}else{var v=(0,r.Z)(f,1)[0],g=s.length>1?(0,o.KC)(e,(0,a.I)(s)):null;if(!g)return v.percent=100,void(e.tiling=v);if("split"!==g.type)throw new Error("Expected split");var m=g.children.indexOf(d);if(-1===m)throw new Error("Expected parentIndex");v.percent=d.percent,g.children[m]=v}}else{var y=e.floating.indexOf(l);if(-1===y)throw new Error("Expected paneGroupIndex");e.floating.splice(y,1)}}else e.floating=[];else e.tiling=null}},91885:function(e,t,n){function r(e){if(e.length<1)throw new Error("Expected a path with a parent");return e.slice(0,-1)}function i(e){return"floatingPaneGroup"!==e.type}n.d(t,{I:function(){return r},r:function(){return i}})},57416:function(e,t,n){n.d(t,{J1:function(){return u},W1:function(){return l},Xo:function(){return s},cr:function(){return d}});var r=n(91131),i=n(12727),o=n(54992),a=n(95068),c=n(21131),u=(0,r.cn)(null),l=(0,r.cn)(null,(function(e,t,n){var r=e((0,i.z)(n)),c=e(r.data);if(t(u,n),(0,o.KM)(c)){var l=(0,o.DQ)(c);l&&t(a.Sg,l)}}));function s(){return(0,r.b9)(l)}function d(e){var t=e.paneId,n=(0,c.Z)((function(){return(0,r.cn)((function(e){return e(u)===t}))}),[t]);return(0,r.Dv)(n)}},66421:function(e,t,n){n.d(t,{IY:function(){return s},xm:function(){return l},yF:function(){return u}});var r=n(26042),i=n(69396),o=n(91131),a=n(99336),c=(0,o.cn)(null);function u(){return(0,o.KO)(c)}var l=(0,o.cn)(null,(function(e,t,n){var o=n.error,u=n.tags,l=n.extras,s=(0,a.ZP)(o,{tags:(0,i.Z)((0,r.Z)({},u),{layoutstate:"true"}),extras:l});t(c,s)}));function s(){return(0,o.b9)(l)}},72676:function(e,t,n){n.d(t,{iH:function(){return Z},SG:function(){return x},pc:function(){return y},rR:function(){return w}});var r=n(29815),i=n(91131),o=n(18172),a=n(62991),c=n.n(a),u=n(26042),l=n(12771),s=n(91885);var d={top:0,bottom:0,left:0,right:0};function p(e,t){var n=t.size,i=t.gap,o=t.headerHeight,a=t.inset,c=void 0===a?d:a,p=[],f=[],h=[],v=[],g=null;function m(t,n,a,c){var u=n.children.indexOf(t),d=n.children.length,p=n.stacked?a.height:a.width;var y=function(){var e=a.width,r=a.height,c=t.percent/100;return n.stacked?r=(p-(i*(d-1)+o*d))*c+o:e=(p-i*(d-1))*c,{width:e,height:r}}(),x=y.width,w=y.height,Z=function(){var e=a.x,t=a.y;if(0===u)return{x:e,y:t};if(!g)throw new Error("Expected previousRect");return n.stacked?t=g.y+g.height+i:e=g.x+g.width+i,{x:e,y:t}}(),b={x:Z.x,y:Z.y,height:w,width:x};if(g=b,"paneGroup"===t.type){var k,E={x:b.x,y:b.y+o,width:b.width,height:b.height-o},I={x:E.x,y:E.y-o,width:E.width,height:o};v.push({id:t.id,rect:I,panes:t.panes,activeIndex:t.activeIndex,path:c}),(k=f).push.apply(k,(0,r.Z)(t.panes.map((function(e,n){return{paneId:e,rect:E,active:n===t.activeIndex}}))))}else t.children.forEach((function(e,n){return m(e,t,b,(0,r.Z)(c).concat([n]))}));if(0!==u){var T={x:b.x-(n.stacked?0:i),y:b.y-(n.stacked?i:0),width:n.stacked?b.width:i,height:n.stacked?i:b.height},P=(0,s.I)(c),S=(0,r.Z)(P).concat([u-1]),A=(0,l.KC)(e,S);if(!A||!(0,s.r)(A))throw new Error("Expected leftNode");var G=void 0;0===A.percent?G="left":0===t.percent&&(G="right"),h.push({parentPath:P,leftPath:S,rightPath:c,stacked:n.stacked,rect:T,snapped:G})}}var y={x:c.left,y:c.top,width:n.width-(c.left+c.right),height:n.height-(c.top+c.bottom)},x=e.tiling;if("paneGroup"===(null===x||void 0===x?void 0:x.type)){var w,Z={x:y.x,y:y.y+o,width:y.width,height:y.height-o},b={x:Z.x,y:Z.y-o,width:Z.width,height:o};v.push({id:x.id,rect:b,panes:x.panes,activeIndex:x.activeIndex,path:["tiling"]}),(w=f).push.apply(w,(0,r.Z)(x.panes.map((function(e,t){return{paneId:e,rect:Z,active:t===x.activeIndex}}))))}else x&&x.children.forEach((function(e,t){return m(e,x,y,["tiling",t])}));var k=c.left+49,E={x:y.x-k,y:y.y,width:y.width+k,height:y.height};return e.floating.forEach((function(e,t){var n,i=function(e,t){var n=t.inside,r=(0,u.Z)({},e);return r.x<n.x?(r.x=n.x,r.width=Math.min(r.width,n.width)):r.x+r.width>=n.x+n.width?(r.x=Math.max(n.x,n.x+n.width-r.width),r.width=Math.min(r.width,n.width)):r.width=Math.min(r.width,n.width),r.y<n.y?(r.y=n.y,r.height=Math.min(r.height,n.height)):r.y+r.height>=n.y+n.height?(r.y=Math.max(n.y,n.y+n.height-r.height),r.height=Math.min(r.height,n.height)):r.height=Math.min(r.height,n.height),r}(e.rect,{inside:E}),a={height:o,width:i.width,x:i.x,y:i.y},c={x:i.x,y:i.y+o,width:i.width,height:Math.max(i.height-o,0)};v.push({id:e.id,rect:a,panes:e.panes,activeIndex:e.activeIndex,path:["floating",t]}),(n=p).push.apply(n,(0,r.Z)(e.panes.map((function(t,n){return{paneId:t,rect:c,active:n===e.activeIndex}}))))})),{tiles:f,gutters:h,headers:v,floating:p}}var f=n(95068),h=n(12727),v=n(78648),g=n(35869),m=n(57416),y=30,x=8,w=(0,i.cn)(null,(function(e,t,n){t(h.CK,n),t(Z,e(f.g4))})),Z=(0,i.cn)(null,(function(e,t,n){var i=function(n){var r=n.paneId,i=n.rect,a=n.type,u=n.isHidden;Z.delete(r);var l=(0,h.z)(r),s=e(l),d=(0,o.ZP)(s,(function(e){e.paneId=r,e.rect=i,e.type=a,e.isDialog=!1,e.dropBehavior=null,e.isHidden=u}));c()(s,d)||t(l,d)},a=e(h.M0),u=e(g.TL),l=e(h.CK),s=e(h.WA),d=e(h.X2),y=e(h.g3),w=e(h.If),Z=new Set((0,r.Z)(s).concat((0,r.Z)(d))),b=new Set(y),k=new Set(w),E=p(n,{inset:{top:0,bottom:0,left:u.width,right:0},gap:x,size:{width:l.width,height:l.height},headerHeight:a}),I=E.tiles,T=E.floating,P=E.gutters,S=E.headers,A=P.map(v.xH);c()(y,A)||t(h.g3,A);var G=I.map((function(e){return e.paneId}));c()(s,G)||t(h.WA,G);var C=T.map((function(e){return e.paneId}));c()(d,C)||t(h.X2,C);var R=[];S.forEach((function(n){var r={id:n.id,rect:n.rect,panes:n.panes,activeIndex:n.activeIndex,path:n.path};k.delete(r.id);var i=(0,h.Xs)(r.id),o=e(i);R.push(r.id),c()(o,r)||t(i,r)})),c()(w,R)||t(h.If,R),I.forEach((function(e){var t=e.paneId,n=e.rect,r=e.active;i({paneId:t,rect:n,isHidden:!r,type:"tile"})})),T.forEach((function(e){var t=e.paneId,n=e.rect,r=e.active;i({paneId:t,rect:n,isHidden:!r,type:"floating"})})),P.forEach((function(n){var r={handleId:(0,v.xH)(n),rect:n.rect,parentPath:n.parentPath,leftPath:n.leftPath,rightPath:n.rightPath,stacked:n.stacked,snapped:n.snapped};b.delete(r.handleId);var i=(0,h.vv)(r.handleId),o=e(i);c()(o,r)||t(i,r)})),Z.forEach(h.z.remove),b.forEach(h.vv.remove),k.forEach(h.Xs.remove);var _=e(m.J1);_&&Z.has(_)&&t(m.J1,null),t(f.g4,n)}))},63035:function(e,t,n){n.d(t,{XD:function(){return a},gM:function(){return o},h$:function(){return i}});var r=n(91131),i=(0,r.cn)(!1),o=(0,r.cn)(!1),a=(0,r.cn)((function(e){return e(o)?"webview":"runnerOutput"}))},50146:function(e,t,n){n.d(t,{AW:function(){return l},WM:function(){return u}});var r=n(91131),i=n(15961),o=n(88055),a=n(8357),c=n(12727);var u=(0,r.cn)(null,(function(e,t,n){var r=e(c.Eh).find((function(t){return e(t.data).type===n.type}));if(r)t(a.v,{paneId:r.paneId,data:n});else{var o=function(e,t){var n=Math.min(600,e.width),r=Math.min(318.75+t,e.height);return{width:n,height:r,x:e.width-n,y:e.height-r}}(e(c.CK),e(c.M0));t(i.mV,{pane:n,rect:o})}}));var l=(0,r.cn)(null,(function(e,t,n){e(c.Eh).filter((function(t){return e(t.data).type===n})).forEach((function(e){return t(o.$,e.paneId)}))}))},15961:function(e,t,n){n.d(t,{BN:function(){return m},g2:function(){return h},gN:function(){return g},mV:function(){return y}});var r=n(91131),i=n(18172),o=n(71171),a=n.n(o),c=n(68963),u=n(95068),l=n(57416),s=n(12727),d=n(72676),p=n(66421),f=n(87671),h=(0,r.cn)(null,(function(e,t,n){var r=e(u.g4),o=a()(),f=(0,i.ZP)(r,(function(e){try{(0,c.m)(e,{id:a()(),panes:[o],relativeTo:n.relativeTo||["tiling"],placement:n.placement,percent:n.percent})}catch(r){throw t(p.xm,{error:r}),r}}));t(d.iH,f);var h=e((0,s.z)(o));t(h.data,n.pane),n.makeActive&&t(l.W1,o)})),v={top:"above",left:"leftOf",right:"rightOf",bottom:"below"},g=(0,r.cn)(null,(function(e,t,n){var r=n.pane,i=n.edge;t(f.KQ,{pane:r,relativeTo:["tiling"],placement:v[i]})}));function m(){return(0,r.b9)(g)}var y=(0,r.cn)(null,(function(e,t,n){var r=e(u.g4),o=a()(),f=(0,i.ZP)(r,(function(e){try{(0,c.m)(e,{id:a()(),panes:[o],isFloating:!0,rect:n.rect})}catch(r){throw t(p.xm,{error:r}),r}}));t(d.iH,f);var h=e((0,s.z)(o));t(h.data,n.pane),n.makeActive&&t(l.W1,o)}))},3032:function(e,t,n){n.d(t,{C:function(){return v},U:function(){return h}});var r=n(10253),i=n(91131),o=n(54992),a=n(95068),c=n(15961),u=n(12771),l=n(87671),s=n(11731),d=n(66421),p=n(8357),f=n(12727),h=(0,i.cn)(null,(function(e,t,n){var i=n.path,h=n.col,v=n.line,g=e(a.g4),m=(0,o.Dp)({path:i}),y="codeEditor"===m?{type:m,data:{path:i,col:h,line:v}}:{type:m,data:{path:i}};if(n.newPane)t(c.gN,{pane:y,edge:"left"});else{var x=(0,u._F)(g,"topLeft");if(x){var w=e(a.S6).find((function(t){return i===(0,o.DQ)(e(t.data))}));if(!w||n.newTab){var Z=(0,r.Z)(e(a.yv),1)[0],b=Z?e(a.S6).find((function(t){return!t.isHidden&&Z===(0,o.DQ)(e(t.data))})):null;if(b&&n.newTab){var k=(0,u.Rh)(g,b.paneId);if(!k){var E=new Error("Expected filePane");throw t(d.xm,{error:E}),E}var I=k.paneGroupPath,T=k.index;t(s.Et,{pane:y,paneGroupPath:I,activate:!0,index:T+1})}else{if(b)return t(p.v,{paneId:b.paneId,data:y}),void t(s.Oe,b.paneId);var P=e(a.S6).find((function(t){var n=e(t.data);return"codeEditor"===n.type&&""===(0,o.DQ)(n)}));if(P)return t(p.v,{paneId:P.paneId,data:y}),void t(s.Oe,P.paneId);var S=x.paneGroup.panes,A=S.find((function(t){var n=e((0,f.z)(t));return"commands"===e(n.data).type}));if(A)return t(p.v,{paneId:A,data:y}),void t(s.Oe,A);var G=(0,r.Z)(S,1)[0],C=(0,u.Rh)(g,G);if(!C){var R=new Error("Expected siblingPane");throw t(d.xm,{error:R}),R}t(s.Et,{pane:y,paneGroupPath:C.paneGroupPath,activate:!0})}}else t(s.Oe,w.paneId)}else t(l.KQ,{pane:y,relativeTo:["tiling"],placement:"replace"})}}));function v(){return(0,i.b9)(h)}},88055:function(e,t,n){n.d(t,{$:function(){return f},U:function(){return h}});var r=n(91131),i=n(18172),o=n(80175),a=n(95068),c=n(57416),u=n(72676),l=n(12771),s=n(8357),d=n(66421),p=(0,r.cn)((function(e){var t,n=e(a.g4);return"paneGroup"===(null===(t=n.tiling)||void 0===t?void 0:t.type)&&1===n.tiling.panes.length})),f=(0,r.cn)(null,(function(e,t,n){var r=e(a.g4),s=n===e(c.J1)?(0,l.Rh)(r,n):null,p=null===s||void 0===s?void 0:s.paneGroup.panes.find((function(e){return e!==n})),f=(0,i.ZP)(r,(function(e){try{(0,o.i)(e,n)}catch(v){throw t(d.xm,{error:v}),v}}));if(t(u.iH,f),p){var h=(0,l.Rh)(f,p);if(!h){var v=new Error("Expected siblingPane");throw t(d.xm,{error:v}),v}var g=h.paneGroup.panes[h.paneGroup.activeIndex];g&&t(c.W1,g)}})),h=(0,r.cn)(null,(function(e,t,n){e(p)?t(s.v,{paneId:n,data:{type:"commands",data:{autoFocus:!1}}}):t(f,n)}))},35869:function(e,t,n){n.d(t,{Iu:function(){return c},Ob:function(){return a},Or:function(){return u},TL:function(){return i},ko:function(){return l}});var r=n(91131),i=(0,r.cn)({width:0,pane:{type:"filetree"}}),o=(0,r.cn)((function(e){return e(i).pane})),a=(0,r.cn)((function(e){return e(i).width}));function c(){return(0,r.Dv)(o)}function u(){return(0,r.Dv)(a)}var l=(0,r.cn)((function(e){return e(a)>0}))},87671:function(e,t,n){n.d(t,{Bd:function(){return x},CK:function(){return m},KQ:function(){return w},e3:function(){return v}});var r=n(71171),i=n.n(r),o=n(91131),a=n(18172),c=n(95068),u=n(12771),l=n(80175),s=n(72676),d=n(68963),p=n(12727),f=n(66421),h=(0,o.cn)((function(e){var t;return"split"===(null===(t=e(c.g4).tiling)||void 0===t?void 0:t.type)}));function v(){return(0,o.Dv)(h)}var g=(0,o.cn)(null,(function(e,t,n){var r=e(c.g4),i=(0,u.Rh)(r,n);if(!i){var o=new Error("Expected pane");throw t(f.xm,{error:o}),o}var d=(0,a.ZP)(r,(function(e){try{(0,l.Z)(e,i.paneGroupPath)}catch(o){throw t(f.xm,{error:o}),o}}));t(s.iH,d)}));function m(){return(0,o.b9)(g)}var y=(0,o.cn)(null,(function(e,t,n){var r=e(c.g4),o=(0,u.Rh)(r,n.paneId);if(!o){var l=new Error("Expected relativeToPane");throw t(f.xm,{error:l}),l}var h=i()(),v=e((0,p.z)(h));t(v.data,{type:"commands",data:{autoFocus:!1}});var g=(0,a.ZP)(r,(function(e){try{(0,d.m)(e,{id:i()(),isFloating:!1,placement:n.placement,relativeTo:o.paneGroupPath,panes:[h]})}catch(l){throw t(f.xm,{error:l}),l}}));t(s.iH,g)}));function x(){return(0,o.b9)(y)}var w=(0,o.cn)(null,(function(e,t,n){var r=e(c.g4),o=i()(),u=e((0,p.z)(o));t(u.data,n.pane);var l=(0,a.ZP)(r,(function(e){try{(0,d.m)(e,{id:i()(),isFloating:!1,placement:n.placement,relativeTo:n.relativeTo,panes:[o],percent:n.percent})}catch(r){throw t(f.xm,{error:r}),r}}));t(s.iH,l)}))},11731:function(e,t,n){n.d(t,{bg:function(){return A},Et:function(){return P},Bm:function(){return I},_N:function(){return E},c:function(){return G},a4:function(){return R},SG:function(){return S},ao:function(){return T},im:function(){return b},Ky:function(){return k},Oe:function(){return Z}});var r=n(65456),i=n(71171),o=n.n(i),a=n(18172),c=n(91131),u=n(68963),l=n(12771);var s=n(95068),d=n(57416),p=n(12727),f=n(80175),h=n(15961),v=n(8357),g=n(63035),m=n(54992),y=n(72676),x=n(87671),w=n(66421),Z=(0,c.cn)(null,(function(e,t,n){var r=e(s.g4),i=(0,l.Rh)(r,n);if(!i){var o=new Error("Expected selectedPane");throw t(w.xm,{error:o}),o}var c=(0,p.Xs)(i.paneGroup.id);t(c,(function(e){return(0,a.ZP)(e,(function(e){e.activeIndex=i.index}))}));var u=!0,f=!1,h=void 0;try{for(var v,g=i.paneGroup.panes[Symbol.iterator]();!(u=(v=g.next()).done);u=!0){var m=v.value,y=(0,p.z)(m);t(y,(function(e){return(0,a.ZP)(e,(function(e){e.isHidden=e.paneId!==n}))}))}}catch(x){f=!0,h=x}finally{try{u||null==g.return||g.return()}finally{if(f)throw h}}t(s.g4,(0,a.ZP)(r,(function(e){try{!function(e,t){var n=(0,l.Rh)(e,t);if(!(null===n||void 0===n?void 0:n.paneGroup))throw new Error("Expected pane group");var r=n.paneGroup,i=r.panes.indexOf(t);if(-1===i)throw new Error("Expected index");r.activeIndex=i}(e,n)}catch(o){throw t(w.xm,{error:o}),o}}))),t(d.W1,n)})),b=(0,c.cn)(null,(function(e,t){var n=e(g.XD);t(k,{type:n})})),k=(0,c.cn)(null,(function(e,t,n){var r,i=e(p.Eh).find((function(t){return e(t.data).type===n.type}));if(i)t(Z,i.paneId);else{var o=e(s.g4),a=(0,l._F)(o,"topRight");if(a)"paneGroup"===(null===(r=o.tiling)||void 0===r?void 0:r.type)?t(x.KQ,{pane:n,relativeTo:a.path,placement:"rightOf"}):t(P,{pane:n,paneGroupPath:a.path});else t(x.KQ,{pane:n,relativeTo:["tiling"],placement:"replace"})}})),E=(0,c.cn)(null,(function(e,t,n){var r=e(p.Eh).find((function(t){return e(t.data).type===n}));if(r)t(Z,r.paneId);else{var i=e(s.g4),o=(0,l._F)(i,"topRight");if(o&&i.tiling)if("paneGroup"!==i.tiling.type)if("split"!==i.tiling.type||2!==i.tiling.children.length||"paneGroup"!==i.tiling.children[1].type)t(P,{pane:{type:n},paneGroupPath:o.path});else{var a=i.tiling.stacked;t(h.g2,{pane:{type:n},placement:a?"rightOf":"above",relativeTo:o.path,makeActive:!1})}else t(x.KQ,{pane:{type:n},relativeTo:["tiling"],placement:"rightOf"});else t(x.KQ,{pane:{type:n},relativeTo:["tiling"],placement:"replace"})}})),I=(0,c.cn)(null,(function(e,t){var n=e(p.Eh).find((function(t){return"threadInbox"===e(t.data).type}));if(n)t(Z,n.paneId);else{var r=e(s.g4),i=(0,l._F)(r,"bottomRight");i&&r.tiling?"paneGroup"!==r.tiling.type?t(P,{pane:{type:"threadInbox"},paneGroupPath:i.path}):t(x.KQ,{pane:{type:"threadInbox"},relativeTo:["tiling"],placement:"rightOf"}):t(x.KQ,{pane:{type:"threadInbox"},relativeTo:["tiling"],placement:"replace"})}})),T=(0,c.cn)(null,(function(e,t,n){var r=e(p.Eh).find((function(t){return e(t.data).type===n.type}));if(r){var i=e(s.g4),o=(0,a.ZP)(i,(function(e){try{(0,f.i)(e,r.paneId)}catch(n){throw t(w.xm,{error:n}),n}}));t(y.iH,o)}})),P=(0,c.cn)(null,(function(e,t,n){var r=e(s.g4),i=o()(),c=(0,a.ZP)(r,(function(e){try{(0,u.T)(e,{paneId:i,activate:n.activate,paneGroupPath:n.paneGroupPath,index:n.index})}catch(r){throw t(w.xm,{error:r}),r}}));t(y.iH,c);var l=e((0,p.z)(i));t(l.data,n.pane),n.activate&&t(d.W1,i)})),S=(0,c.cn)(null,(function(e,t,n){var r=e(s.g4),i=(0,a.ZP)(r,(function(e){var r=(0,l.Rh)(e,n.paneId);if(!r){var i=new Error("Expected pane");throw t(w.xm,{error:i}),i}var a=(0,l.KC)(e,n.toPaneGroupPath);if(!a||"split"===a.type){var c=new Error("Expected toPaneGroup");throw t(w.xm,{error:c}),c}var s=1===r.paneGroup.panes.length,d=!a.panes.includes(n.paneId);if(!s||d){if(s&&d&&"paneGroup"===r.paneGroup.type)try{(0,u.T)(e,{paneId:o()(),activate:!1,paneGroupPath:r.paneGroupPath})}catch(p){throw t(w.xm,{error:p}),p}try{(0,f.i)(e,n.paneId),(0,u.T)(e,{paneId:n.paneId,paneGroupPath:n.toPaneGroupPath,index:n.index})}catch(h){throw t(w.xm,{error:h}),h}}}));t(y.iH,i)})),A=((0,c.cn)(null,(function(e,t,n){var r=e(s.g4),i=(0,a.ZP)(r,(function(e){var r=(0,l.Rh)(e,n.paneToReplace);if(!r){var i=new Error("Expected paneToReplace");throw t(w.xm,{error:i}),i}var o=r.index===r.paneGroup.activeIndex;try{(0,u.T)(e,{paneGroupPath:r.paneGroupPath,paneId:n.paneId,index:r.index,activate:o}),(0,f.i)(e,n.paneToReplace)}catch(a){throw t(w.xm,{error:a}),a}}));t(y.iH,i)})),(0,c.cn)((function(e){return e(p.Eh).some((function(t){return"markdown"===e(t.data).type}))}))),G=(0,c.cn)(!1),C=(0,c.cn)(null,(function(e,t,n){var r=e(s.S6).map((function(t){return{paneId:t.paneId,path:(0,m.DQ)(e(t.data))}})).filter((function(e){return n===e.path})),i=[],o=e(s.g4),c=(0,a.ZP)(o,(function(e){var n=!0,o=!1,a=void 0;try{for(var c,u=r[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){var s=c.value.paneId,d=(0,l.Rh)(e,s);if(!d){var p=new Error("Expected pane");throw t(w.xm,{error:p}),p}!d.floating&&1===d.paneGroup.panes.length?i.push(s):(0,f.i)(e,s)}}catch(h){o=!0,a=h}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}})),u=!0,d=!1,p=void 0;try{for(var h,g=i[Symbol.iterator]();!(u=(h=g.next()).done);u=!0){var x=h.value;t(v.v,{paneId:x,data:{type:"commands",data:{autoFocus:!1}}})}}catch(P){d=!0,p=P}finally{try{u||null==g.return||g.return()}finally{if(d)throw p}}var Z=!0,b=!1,k=void 0;try{for(var E,I=r[Symbol.iterator]();!(Z=(E=I.next()).done);Z=!0){var T=E.value;T.path&&t(s.jM,T.path)}}catch(P){b=!0,k=P}finally{try{Z||null==I.return||I.return()}finally{if(b)throw k}}t(y.iH,c)})),R=(0,c.cn)(null,(function(e,t,n){var i=n.node.path;if(n.eventType!==r.kS.Delete){var o=e(s.S6).filter((function(t){return(0,m.DQ)(e(t.data))===i})),a={type:(0,m.Dp)({path:n.to}),data:{path:n.to}},c=!0,u=!1,l=void 0;try{for(var d,p=o[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value.paneId;t(v.v,{paneId:f,data:a})}}catch(h){u=!0,l=h}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}t(s.MI,{from:i,to:n.to})}else t(C,i)}))},92162:function(e,t,n){n.d(t,{g:function(){return p},y:function(){return f}});var r=n(91131),i=n(50146),o=n(11731),a=n(12727),c=(0,r.cn)(null),u=(0,r.cn)((function(e){var t=e(c);return t&&e(a.Eh).find((function(n){var r=e(n.data);return"videoPlayer"===r.type&&r.data.embedUrl===(null===t||void 0===t?void 0:t.embedUrl)}))||null})),l=(0,r.cn)((function(e){var t=e(u);return t&&!t.isHidden?t:null})),s=(0,r.cn)(null,(function(e,t,n){t(c,n);var r="videoPlayer";n?t(i.WM,{type:r,data:{title:"Tutorial",embedUrl:n.embedUrl}}):t(i.AW,r)})),d=(0,r.cn)(null,(function(e,t){var n=e(u);if(null===n||void 0===n?void 0:n.isHidden)t(o.Oe,n.paneId);else{var r=e(c);r&&t(s,r)}}));function p(){return(0,r.b9)(s)}function f(){var e=(0,r.Dv)(c),t=(0,r.Dv)(l),n=(0,r.b9)(d);return t||!e?null:n}},8357:function(e,t,n){n.d(t,{D:function(){return c},v:function(){return a}});var r=n(91131),i=n(57416),o=n(12727),a=(0,r.cn)(null,(function(e,t,n){t(e((0,o.z)(n.paneId)).data,n.data),n.makeActive&&t(i.W1,n.paneId)}));function c(){return(0,r.b9)(a)}},78648:function(e,t,n){n.d(t,{QN:function(){return o},V0:function(){return i},XR:function(){return a},xH:function(){return c}});var r=n(26042);function i(e,t){var n=e.x,r=e.y;return n>t.x&&n<t.x+t.width&&r>t.y&&r<t.y+t.height}function o(e,t){var n=function(e){var t=e.rect,n=e.point,r=t.height>t.width?t.width/t.height:1,i=t.width>t.height?t.height/t.width:1,o=(n.x-t.x)*i,a=(t.x+t.width-n.x)*i,c=(n.y-t.y)*r,u=(t.y+t.height-n.y)*r,l=Math.min(o,a,c,u);return l===o?"left":l===a?"right":l===c?"top":"bottom"}({point:e,rect:t}),r={x:t.x,y:t.y,width:t.width,height:t.height},i="below";return"top"===n?(r.height=t.height/2,i="above"):"bottom"===n?(r.height=t.height/2,r.y=t.y+t.height/2,i="below"):"left"===n?(r.width=t.width/2,r.x=t.x,i="leftOf"):"right"===n&&(r.width=t.width/2,r.x=t.x+t.width/2,i="rightOf"),{placement:i,rect:r}}function a(e,t){var n=t.edge,i=t.delta,o=(0,r.Z)({},e);return!function(e){return"top"===e||"topLeft"===e||"topRight"===e}(n)?function(e){return"bottom"===e||"bottomLeft"===e||"bottomRight"===e}(n)&&(o.height=e.height+i.y):(o.height=e.height-i.y,o.y=e.y+i.y),!function(e){return"right"===e||"bottomRight"===e||"topRight"===e}(n)?function(e){return"left"===e||"bottomLeft"===e||"topLeft"===e}(n)&&(o.width=e.width-i.x,o.x=e.x+i.x):o.width=e.width+i.x,o}function c(e){return"handle:"+e.leftPath.join(":")}},23600:function(e,t,n){n.d(t,{p:function(){return r}});var r=16546464e5},61957:function(e,t,n){n.d(t,{HJ:function(){return u},UK:function(){return s},ZK:function(){return f}});var r=n(59637),i=n(29815),o=n(82222),a=n(51207),c=n(37756);function u(e){var t=[],n="",r=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value,f=s.op,h=s.userId,v=s.timestamp,g=[],m=0,y=!0,x=!1,w=void 0;try{for(var Z,b=f[Symbol.iterator]();!(y=(Z=b.next()).done);y=!0){var k=Z.value;switch("undefined"===typeof k?"undefined":(0,o.Z)(k)){case"object":g.push({d:n.slice((0,c.uniToStrPos)(n,m),(0,c.uniToStrPos)(n,m+k.d))}),m+=k.d;break;case"string":g.push(k);break;case"number":g.push(k),m+=k}}}catch(E){x=!0,w=E}finally{try{y||null==b.return||b.return()}finally{if(x)throw w}}t.push({userId:h,timestamp:v,op:g}),n=p(n,1===t.length?d(f):f)}}catch(E){i=!0,a=E}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return t}function l(e){return e.map((function(e){return e.op.map((function(e){switch("undefined"===typeof e?"undefined":(0,o.Z)(e)){case"object":return e.d;case"string":return{d:(0,c.strPosToUni)(e)};case"number":return e}}))}))}function s(e,t){h(e,t);var n=(0,r.Z)(l(t.slice(e,t.length).reverse())),i=n[0];return n.slice(1).reduce((function(e,t){return a.dt.compose(e,t)}),i)}function d(e){return e.filter((function(e){return!function(e){return"string"===typeof e&&0===e.length}(e)}))}function p(e,t){return a.dt.apply(e,t)}function f(e,t,n,r){if(h(t,r),h(n,r),t===n)return{content:e,location:null};var o,a=function(e,t){return[d(t[0])].concat((0,i.Z)(t.slice(1))).reduce(p,e)}(e,o=n>t?r.slice(t,n).map((function(e){return e.op.map((function(e){return"object"===typeof e?{d:(0,c.strPosToUni)(e.d)}:e}))})):l(r.slice(n,t).reverse()));return{content:a,location:function(e,t){var n=0,r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if("number"!==typeof l)break;n+=l}}catch(p){i=!0,o=p}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var s=(0,c.uniToStrPos)(t.document,n),d=s;return t.unicode&&(d=n),d-(t.dropCrlf?t.document.slice(0,s).split("\r\n").length-1:0)}(o[o.length-1],{unicode:!1,document:a,dropCrlf:!0})}}function h(e,t){if(e<0)throw new Error("Version number cannot be negative.");if(e>t.length)throw new Error("Version number ".concat(e," cannot be greater than the number of edits ").concat(t.length,"."));return!0}},50522:function(e,t,n){n.d(t,{t:function(){return o}});var r=n(67294);function i(e){if(e<0)throw new Error('Require at least zero ops to compute pace, got "'+e+'"');return 1/Math.log(e+2)*100}function o(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,a=(0,r.useState)(!1),c=a[0],u=a[1],l=(0,r.useCallback)((function(){t(1)}),[t]),s=(0,r.useCallback)((function(){e+1>n?u(!1):t(e+1)}),[t,e,n]),d=function(){u(!0)},p=function(){u(!1)};return(0,r.useEffect)((function(){if(c){var e=setTimeout((function(){s()}),o(n));return function(){return clearTimeout(e)}}}),[c,s,o,n]),{isPlaying:c,start:d,stop:p,reset:l}}},83261:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(10253),i=n(67294),o={isConnecting:!0,channel:null,error:null,context:null};function a(e){var t=e.container,n=e.service,a=e.name,c=e.skip,u=void 0!==c&&c,l=(0,r.Z)(i.useState(o),2),s=l[0],d=l[1];return i.useEffect((function(){d(o);var e=!1,r=t.openChannel({service:n,name:a,skip:function(){return u}},(function(t){if(!e){if(!t.error)return d({context:t.context,channel:t.channel,error:null,isConnecting:!1}),function(t){e||d({isConnecting:t.willReconnect,channel:null,error:null,context:null})};d({context:t.context,channel:null,error:t.error,isConnecting:!1})}}));return function(){e=!0,r()}}),[t,n,a,u]),s}},83971:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(47568),i=n(10253),o=n(34051),a=n.n(o),c=n(67294),u=n(83261),l=n(16965);function s(e){var t=(0,u.Z)({container:e,service:"exec"}).channel,n=(0,c.useRef)(!1),o=(0,c.useRef)([]),s=(0,l.Z)((0,r.Z)(a().mark((function e(){var r,c,u,l,d,p,f,h,v,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=2;break}return e.abrupt("return");case 2:if(o.current.length){e.next=4;break}return e.abrupt("return");case 4:if("open"===(null===t||void 0===t?void 0:t.status)){e.next=6;break}return e.abrupt("return");case 6:if(r=o.current.pop()){e.next=9;break}throw new Error("Expected request");case 9:return c=(0,i.Z)(r,2),u=c[0],l=u.args,d=u.env,p=c[1],f="",h=t.onCommand((function(e){e.output&&(f+=e.output)})),n.current=!0,e.next=15,t.request({exec:{args:l,env:d}});case 15:v=e.sent,n.current=!1,h(),g=v.channelClosed?"Channel closed":v.error,p(g?{error:g,output:f||null}:{output:f,error:null}),s.current();case 21:case"end":return e.stop()}}),e)})))),d=null===t||void 0===t?void 0:t.status;return(0,c.useEffect)((function(){"open"===d&&s.current()}),[d,s]),(0,c.useCallback)((function(e){var t=e.args,n=e.env;return new Promise((function(e){o.current.push([{args:t,env:n},e]),s.current()}))}),[s])}},65977:function(e,t,n){n.d(t,{O:function(){return s}});var r=n(10253),i=n(67294),o=n(25497),a=n(81700),c=n.n(a),u=n(6625),l=n(99408),s=function(){var e=(0,l.Z)().dotReplit,t=(0,u.Z)(),n=(0,r.Z)(i.useState(null),2),a=n[0],s=n[1];return i.useEffect((function(){return e.watch((function(e){t.current&&(e.error?e.error===o.Yt.NotFound&&s([]):e.config.hidden?s(e.config.hidden.map((function(e){return c()(e,{extended:!0,globstar:!0})}))):s([]))}))}),[e]),a}},40381:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(91131),i=n(95068),o=n(63805),a=n(10253),c=n(67294),u=n(99408),l=n(6625);function s(){var e=function(){var e=(0,u.Z)().session,t=(0,a.Z)(c.useState(e.getState()),2),n=t[0],r=t[1],i=(0,l.Z)();return c.useEffect((function(){return r(e.getState()),e.onSessionStateChanged((function(e){i.current&&r(e)}))}),[e,i]),n}(),t=e.openFiles,n=e.activeTab,s=(0,r.Dv)(i.QP);return(0,o.isMobile)()?t[n]||null:s}},25741:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(10253),i=n(67294),o=n(99408);function a(){var e=(0,o.Z)().session,t=(0,r.Z)(i.useState(e.getAreHiddenFilesVisible()),2),n=t[0],a=t[1];return i.useEffect((function(){return a(e.getAreHiddenFilesVisible()),e.onHiddenFileVisibilityToggled(a)}),[e]),n}},2146:function(e,t,n){n.d(t,{o:function(){return o}});var r=n(10253),i=n(78597);function o(e){var t,n=(0,i.Pp)({variables:{tours:e}}),o=n.data,a=n.loading,c=(0,r.Z)((0,i.oe)({variables:{name:e},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:e,seen:!0}}}),1)[0];return{isLoading:a,isDone:Boolean(null===o||void 0===o||null===(t=o.currentUser)||void 0===t?void 0:t.toursSeen[0].seen),setAsDone:c}}},91550:function(e,t,n){n.d(t,{i:function(){return g},q:function(){return h}});var r=n(47568),i=n(34051),o=n.n(i),a=n(35944),c=(n(67294),n(3218)),u=n(24888),l=n(88961),s=n(39715),d=n(63736),p=n(65975),f=n(58794),h={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"};function v(){return(0,a.BX)(p.G7,{css:[p.l0.rowWithGap(8)],children:[(0,a.tZ)(l.Z,{}),(0,a.tZ)(p.xv,{color:"dimmest",children:"Something went wrong searching your Repl's files. Please try again."})]})}function g(e){return(0,s.fA)({type:"context",label:"Files",description:"Find a file",icon:(0,a.tZ)(u.Z,{}),keyboardShortcut:h,maxResults:50},{match:(0,s.zf)({defaultScore:3}),commands:function(){var t=(0,r.Z)(o().mark((function t(n){var i,u,p,h,g,m,y,x;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.fs,u=e.shouldHideFile,(p=n.search?n.search.toLowerCase():void 0)||n.active&&!e.lazyLoad){t.next=4;break}return t.abrupt("return",[]);case 4:return t.next=6,e.getRecentFiles();case 6:if(h=t.sent,g=new Set(h),!p&&!n.active){t.next=17;break}return t.next=11,i.listFiles();case 11:if(!(m=t.sent).error){t.next=14;break}return t.abrupt("return",[{data:{type:"error",label:m.error,icon:(0,a.tZ)(l.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(v,{})}}}}]);case 14:if(m.files){t.next=16;break}throw new Error("Expected files");case 16:m.files.forEach((function(e){g.has(e)||g.add(e)}));case 17:return y=[],g.forEach((function(e){if(!u(e)){var t=h.includes(e),n={type:"openFile",label:e,icon:(0,a.tZ)(d.Z,{path:e}),deeplink:{path:e}};if(p){var r=c.Z.match(p,e);r&&y.push((0,s.fA)(n,{match:function(){return{score:t?2*r.score:r.score,render:{ranges:r.ranges}}}}))}else y.push((0,s.fA)(n,{match:function(){return{score:1}}}))}})),0===y.length&&n.active&&(x=n.search,y.push({data:{label:x,description:"Create a new file",icon:(0,a.tZ)(d.Z,{path:x}),type:"action",run:(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.writeFile(x,f.Z.from(""));case 2:e.openFile({path:x});case 3:case"end":return t.stop()}}),t)})))},match:function(){return{score:1}}})),t.abrupt("return",y);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}},39715:function(e,t,n){n.d(t,{fA:function(){return i},pl:function(){return a},zf:function(){return o}});var r=n(3218);function i(e,t){var n=t.commands;return{data:e,match:t.match,commands:n}}function o(e){var t=e.defaultScore,n=void 0===t?1:t;return function(e){var t=e.search,i=e.data,o=e.active;if(!t&&o)return{score:n};var a=r.Z.match(t,i.label);return a?{score:a.score,render:{ranges:a.ranges}}:null}}var a=o({defaultScore:1})},5257:function(e,t,n){n.d(t,{Z:function(){return h},k:function(){return d}});var r=n(26042),i=n(69396),o=n(67294),a=n(96594),c=n(24351),u=n(16965),l=n(29815);var s=n(10253);function d(e){var t,n=e.path.map((function(e){return e.data.label}));return(null===(t=e.match)||void 0===t?void 0:t.key)&&n.push(e.match.key),n.join(":")}function p(e,t){return t.match.score-e.match.score}function f(e){var t=e.current,n=e.updates,r=e.insertSectionHeaders,i=n.items.sort(p),o=n.path[n.path.length-1];o.data.maxResults&&(i=i.slice(0,o.data.maxResults+1));var a=o.data.description||t.placeholder;if(r){var c=function(e){var t=new Map;e.forEach((function(e){var n=function(e){return e.path.slice(1,-1).map((function(e){return e.data.label})).join(" > ")}(e),r=t.get(n);r?r.items.push(e):t.set(n,{score:e.match.score,items:[e]})}));var n=(0,l.Z)(t.entries()).sort((function(e,t){var n=(0,s.Z)(e,2)[1];return(0,s.Z)(t,2)[1].score-n.score})),r={items:[],itemsWithSections:[]},i=0;return n.forEach((function(e){var t=(0,s.Z)(e,2),n=t[0],o=t[1];r.itemsWithSections.push({isSection:!0,name:n}),o.items.forEach((function(e){r.items.push(e),r.itemsWithSections.push({item:e,index:i++})}))})),r}(i);return{items:c.items,itemsWithSections:c.itemsWithSections,isLoading:Boolean(n.partial),path:n.path,placeholder:a}}return{items:i,isLoading:Boolean(n.partial),path:n.path,placeholder:a}}function h(e){var t,n=function(e){var t,n=e.index,r=e.focus;y.setPath(E.slice(0,n+1)),r&&(null===(t=d.current)||void 0===t||t.focus())},s=(0,u.Z)(e.onSelect),d=(0,o.useRef)(null),p=(0,o.useState)(""),h=p[0],v=p[1],g=(0,u.Z)(e.insertSectionHeaders),m=(0,o.useState)((function(){return function(e){var t=e.initialPath,n=e.partialUpdateTimeout,r=e.onUpdate,i=function(e){a&&clearTimeout(a);var t=++c,i=0,u=[],s=o[o.length-1];s.commands?(void 0!==n&&(a=setTimeout((function(){u.length&&r({items:u,partial:!0,path:o})}),n)),function n(s,d){if(i++,!s.commands)throw new Error("Expected commands");var p=(0,l.Z)(d).concat([s]),f=p.length===o.length;Promise.resolve(s.commands({active:f,search:e,path:p})).then((function(s){t===c?(i--,s.forEach((function(t){var r=(0,l.Z)(p).concat([t]),i=t.match?t.match({search:e,data:t.data,path:r,active:f}):null;i&&u.push({path:r,data:t.data,match:i}),t.commands&&n(t,p)})),i>0||(a&&clearTimeout(a),r({items:u,path:o}))):a&&clearTimeout(a)}))}(s,o.slice(0,o.length-1))):r({items:u,path:o})},o=t,a=null,c=0;return{search:i,setPath:function(e){o=e,i(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},getPath:function(){return o}}}({initialPath:Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand],partialUpdateTimeout:100,onUpdate:function(e){T((function(t){return f({current:t,updates:e,insertSectionHeaders:g.current})}))}})})),y=m[0];(0,o.useEffect)((function(){y.setPath(Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand])}),[e.initialCommand,y]);var x=(0,o.useState)((function(){var e,t=y.getPath();return{path:t,items:[],itemsWithSections:[],isLoading:!1,placeholder:(null===(e=t[t.length-1])||void 0===e?void 0:e.data.description)||""}})),w=x[0],Z=w.items,b=w.itemsWithSections,k=w.placeholder,E=w.path,I=w.isLoading,T=x[1],P=(0,c.Z)(h,100);(0,o.useEffect)((function(){T((function(e){return(0,i.Z)((0,r.Z)({},e),{isLoading:!0})})),y.search(P)}),[y,P]);var S=Boolean(h||E.length>1),A=(0,a.Kb)({inputValue:h,items:Z,itemToString:function(e){return e?e.data.label:""},initialHighlightedIndex:S?0:-1,defaultHighlightedIndex:S?0:-1}),G=A.selectedItem;return(0,o.useEffect)((function(){if(G)return"context"===G.data.type?(y.setPath(G.path),void v("")):void s.current(G)}),[y,G,s]),{keyboardShortcut:null===(t=E[0])||void 0===t?void 0:t.data.keyboardShortcut,resetToIndex:n,handleBackspace:function(){h.length||1!==E.length&&n({index:E.length-2})},handleLeftRightArrow:function(e){if(A.highlightedIndex>-1){var t="previous"===("ArrowLeft"===e?"previous":"next")?Z[A.highlightedIndex-1]?A.highlightedIndex-1:0===A.highlightedIndex&&Z.length?Z.length-1:null:Z[A.highlightedIndex+1]?A.highlightedIndex+1:Z[0]?0:null;null!==t&&A.setHighlightedIndex(t)}},combobox:A,inputValue:h,setInputValue:v,items:Z,itemsWithSections:b,placeholder:k,path:E,isLoading:I,inputRef:d}}},36555:function(e,t,n){n.d(t,{Z:function(){return wt}});var r,i=n(47568),o=n(10253),a=n(34051),c=n.n(a),u=n(35944),l=n(67294),s=n(65456),d=n(31066),p=n(99408),f=n(30019),h=n(30243),v=n(92098),g=n(29815),m=n(58794),y=n(82378),x=n(32703);function w(){return w=(0,i.Z)(c().mark((function e(t){var n,o,a,u,l,s,d,p,f,h,v,w;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentPath,o=t.overwrite,a=t.fs,u=t.files,l=t.shouldUseFileTransferAPI,s=t.onStart,d=t.onUpload,p=t.onError,f=t.onDone,h=function(){var e=(0,i.Z)(c().mark((function e(t){var n,i,u,s,f,h,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.targetPath,i=t.file,u=t.progress,o){e.next=9;break}return e.next=4,a.stat(n);case 4:if(!e.sent.exists){e.next=9;break}return s={file:i,path:n,error:r.AlreadyExists},p(s),e.abrupt("return",s);case 9:return f=null,e.prev=10,e.next=13,(0,x.pV)(i);case 13:f=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(10),h={file:i,path:n,error:r.FileRead},p(h),e.abrupt("return",h);case 21:if(v=m.Z.from(f),!l){e.next=27;break}return e.next=25,a.transferFile(n,v,(function(e,t){u.current=t/e}));case 25:e.next=29;break;case 27:return e.next=29,a.writeFile(n,v);case 29:return d({file:i,path:n}),e.abrupt("return",{path:n,file:i});case 31:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),v=u.map((function(e){var t=e.path||e.webkitRelativePath||e.name;return{targetPath:n?n+"/"+t:t,progress:(0,y.u)(0),file:e}})),s(v),e.next=6,Promise.all(v.map(h));case 6:w=e.sent,f({parentPath:n,uploads:w.filter((function(e){return!("error"in e)})),errors:w.reduce((function(e,t){return"error"in t?(0,g.Z)(e).concat([t]):e}),[])});case 8:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function Z(e){var t=e.fs,n=e.onDone,r=(0,o.Z)(l.useState([]),2),i=r[0],a=r[1],c=l.useRef(n);l.useEffect((function(){c.current=n}),[n]);var u=l.useCallback((function(e){var n=e.parentPath,r=e.files;!function(e){w.apply(this,arguments)}({overwrite:e.overwrite,parentPath:n,files:r.filter(Boolean),fs:t,shouldUseFileTransferAPI:!0,onStart:function(e){return a((function(t){return(0,g.Z)(t).concat((0,g.Z)(e))}))},onUpload:function(e){a((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onError:function(e){a((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onDone:function(e){c.current&&c.current(e)}})}),[t,a]);return{uploadFiles:u,pendingUploads:i}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(r||(r={}));var b=n(60536),k=n.n(b),E=n(69453),I=n(38935),T=n(25741),P=n(63377),S=n(46609),A=n(63805),G=n(15902),C=n(11163),R=n(15961);function _(e){var t=e.onDownloadZip,n=e.readOnly,r=void 0!==n&&n,i=(0,S.y)().uploadFiles,o=l.useRef(null),a=l.useRef(null),c=(0,T.Z)(),d=(0,R.BN)(),f=(0,P.Z)(),h=(0,p.Z)().session,v=(0,C.useRouter)(),g=l.useMemo((function(){if("undefined"===typeof document)return[];if(r)return[c?I.s.HideHiddenFiles:I.s.ShowHiddenFiles];var e=document.createElement("input"),t="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,n=[I.s.UploadFile];return(0,A.isMobile)()||n.push(I.s.OpenPane),t&&!(0,A.isMobile)({tablet:!1})&&n.push(I.s.UploadFolder),(0,G.V)(v)||n.push(I.s.DownloadZip),n.push(c?I.s.HideHiddenFiles:I.s.ShowHiddenFiles),n}),[c,r,v]);return(0,u.BX)(u.HY,{children:[(0,u.tZ)("input",{ref:o,type:"file",onChange:function(e){var t=e.target.files;t&&i({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,u.tZ)("input",{ref:a,type:"file",onChange:function(e){var t=e.target.files;t&&i({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,u.tZ)(I.Z,{actions:g,onAction:function(e){switch(e){case I.s.OpenPane:return void d({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"});case I.s.UploadFile:if(!o.current)return;return o.current.click(),void(0,E.Z)({replId:f,action:"uploaded",fileType:s.Tv.File});case I.s.UploadFolder:if(!a.current)return;return a.current.click(),void(0,E.Z)({replId:f,action:"uploaded",fileType:s.Tv.Directory});case I.s.DownloadZip:return t(),void(0,E.Z)({replId:f,action:"zipDownloaded"});case I.s.ShowHiddenFiles:return void h.setAreHiddenFilesVisible(!0);case I.s.HideHiddenFiles:h.setAreHiddenFilesVisible(!1)}}}),(0,u.tZ)(k(),{id:"2ff4f6cb1b2dc3a5",children:"input.jsx-2ff4f6cb1b2dc3a5{display:none}"})]})}var B=n(65975),F=n(26042),D=n(69396),H=n(91131),N=n(7787),O=n(39499),L=n.n(O),U=n(83971),M=n(16965),W=n(21131),X="date '+%s%N' && cat /sys/fs/cgroup/cpu/cpuacct.usage /sys/fs/cgroup/cpu/cpu.cfs_quota_us /sys/fs/cgroup/cpu/cpu.cfs_period_us /sys/fs/cgroup/memory/memory.usage_in_bytes /sys/fs/cgroup/memory/memory.limit_in_bytes ",V="cat /repl/stats/subvolume_usage_bytes /repl/stats/subvolume_total_bytes";function j(e){return e/1024/1024}function K(e){return Math.round(100*(e+Number.EPSILON))/100}function z(){var e=(0,W.Z)((function(){return(0,H.cn)({wallTimeNanos:L().BigInt(0),cpuTimeNanos:L().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:0})}),[]),t=(0,W.Z)((function(){return{cpu:{currentAtom:(0,H.cn)((function(t){return K(t(e).cpuUtilPercent)})),totalAtom:(0,H.cn)((function(){return 100}))},ram:{currentAtom:(0,H.cn)((function(t){return K(j(t(e).memoryUsageBytes))})),totalAtom:(0,H.cn)((function(t){return j(t(e).memoryLimitBytes)}))},disk:{currentAtom:(0,H.cn)((function(t){return j(t(e).storageUsedBytes)})),totalAtom:(0,H.cn)((function(t){return j(t(e).storageTotalBytes)}))}}}),[e]),n=(0,H.b9)(e);return function(e){var t=(0,p.Z)().container,n=(0,U.Z)(t),r=(0,M.Z)(e);l.useEffect((function(){var e=!1,t=null;function o(){return a.apply(this,arguments)}function a(){return(a=(0,i.Z)(c().mark((function i(){var a,u,l;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,n({args:["bash","-c",X]});case 3:if(u=i.sent,!e){i.next=6;break}return i.abrupt("return");case 6:if(null===u.error){i.next=9;break}return N.kg.error("Error running resource tracking command",{errorMessage:u.error}),i.abrupt("return");case 9:return i.next=11,n({args:["bash","-c",V]});case 11:if(l=i.sent,!e){i.next=14;break}return i.abrupt("return");case 14:if(null===l.error||(null===(a=l.output)||void 0===a?void 0:a.includes("No such file or directory"))){i.next=17;break}return N.kg.error("Error running storage command",{errorMessage:l.error}),i.abrupt("return");case 17:r.current({trackingResult:u,storageResult:l}),t=setTimeout(o,2e3);case 19:case"end":return i.stop()}}),i)})))).apply(this,arguments)}return o(),function(){e=!0,t&&clearTimeout(t)}}),[t,n,r])}((function(e){var t=e.trackingResult,r=e.storageResult;n((function(e){var n,i;try{n=function(e,t){if(6!==e.length)throw new Error("Received unexpected output from resource tracking command: ".concat(e));var n={wallTimeNanos:L().BigInt(0),cpuTimeNanos:L().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:1073741824},r=e.map((function(e){return parseInt(e,10)}));if(r.includes(NaN))throw new Error("Could not parse one or more values from resource monitoring command: ".concat(e));var i=L().BigInt(e[0]),o=L().BigInt(e[1]),a=r[2],c=r[3],u=r[4],l=r[5];if(!(u>=0&&l>0))throw new Error("Memory usage or limit reported negative: ".concat(e));if(n.memoryUsageBytes=u,n.memoryLimitBytes=l,L().GT(t.wallTimeNanos,0)&&L().GT(t.cpuTimeNanos,0)){var s=L().toNumber(L().subtract(i,t.wallTimeNanos)),d=L().toNumber(L().subtract(o,t.cpuTimeNanos));if(s>0&&d>=0&&a>0&&c>0){var p=a/c;n.cpuUtilPercent=100*d/s/p}else{n.cpuUtilPercent=0;var f=JSON.stringify((0,D.Z)((0,F.Z)({},t),{wallTimeNanos:t.wallTimeNanos.toString(),cpuTimeNanos:t.cpuTimeNanos.toString()}));N.kg.error("CPU usage calculation returned negative value: ".concat(e,". Previous resources: ").concat(f))}}return n.wallTimeNanos=i,n.cpuTimeNanos=o,n}((t.output||"").trim().split("\n"),e)}catch(o){return N.kg.error("Could not calculate resources",{errorMessage:o.message}),e}if(!n)throw new Error("Expected resources");try{i=function(e){if(2!==e.length)throw new Error("Received unexpected output from storage command: ".concat(e));var t=parseInt(e[0],10),n=parseInt(e[1],10);if(isNaN(t)||isNaN(n))throw new Error("Could not parse values from storage output command: ".concat(e));return{storageUsedBytes:t,storageTotalBytes:n}}((r.output||"").trim().split("\n"))}catch(a){return N.kg.error("Could not calculate resources",{errorMessage:a.message}),e}return n.storageUsedBytes=i.storageUsedBytes,n.storageTotalBytes=i.storageTotalBytes,n}))})),t}var Q=n(48869),Y=n(8850),$=n(13331),q=n(56124),J=n(4158),ee=n(88961),te=n(90317),ne=n(7297),re=n(31230),ie=n(46829);function oe(){var e=(0,ne.Z)(["\n  query ReplResourcesCallToAction($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isBoosted\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        powerUpCosts {\n          ... on PowerUpCostsType {\n            boost {\n              cycles\n              explanation\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return oe=function(){return e},e}var ae,ce={},ue=(0,re.ZP)(oe());function le(){return function(e){var t;if(!e)return ae.Nothing;var n="Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?e.repl:void 0,r=(null===e||void 0===e?void 0:e.currentUser)?e.currentUser:void 0;return void 0===n||void 0===r||r.id!==(null===(t=n.owner)||void 0===t?void 0:t.id)||n.isBoosted||"PowerUpCostsType"!==n.powerUpCosts.__typename||n.powerUpCosts.boost.explanation!==te.Ch.NeedsCycles?ae.Nothing:ae.Upgrade}(function(e){var t=(0,F.Z)({},ce,e);return ie.useQuery(ue,t)}({variables:{replId:(0,P.Z)()}}).data)}function se(){var e=(0,o.Z)(l.useState(!1),2),t=e[0],n=e[1],r=z(),i=le();return(0,u.tZ)(B.Tg,{css:[B.l0.p(8),{borderTop:"1px solid ".concat(B.TV.backgroundHigher)}],children:t?(0,u.tZ)(me,{resources:r,onClose:function(){return n(!1)},callToAction:i}):(0,u.tZ)(ge,{resources:r,onExpand:function(){return n(!0)}})})}function de(e){var t=e.textAtom,n=e.variant,r=e.className,i=(0,H.Dv)(t);return i?(0,u.tZ)(B.xv,{className:r,variant:n,children:i}):null}function pe(e){var t=e.title,n=e.limitStatusAtom,r=e.limitTextAtom,i=e.description,o=e.inactive,a=void 0!==o&&o,c=(0,W.Z)((function(){return(0,H.cn)((function(e){var t=e(n);return"At limit"===t||"Close to limit"===t}))}),[n]),l=(0,H.Dv)(c);return(0,u.BX)(B.G7,{css:[B.l0.flex.row,B.l0.justify.spaceBetween,B.l0.align.end],children:[(0,u.BX)(B.G7,{css:[B.l0.rowWithGap(2),B.l0.align.center,B.l0.minHeight(B.TV.space24)],children:[(0,u.tZ)(B.xv,{css:{fontWeight:B.TV.fontWeightMedium},children:a?t+": last run":t}),i&&(0,u.tZ)(B.hU,{alt:i,size:24,children:(0,u.tZ)(J.Z,{})}),l&&(0,u.BX)(B.G7,{css:[B.l0.rowWithGap(4),B.l0.align.center,B.l0.pl(4)],children:[(0,u.tZ)(ee.Z,{color:B.TV.orangeStronger}),(0,u.tZ)(de,{textAtom:n,variant:"small",css:B.l0.pb(2)})]})]}),(0,u.tZ)(de,{textAtom:r,variant:"small",css:B.l0.pb(2)})]})}function fe(e){var t=e.title,n=e.totalAtom,r=e.currentAtom,i=e.description,o=e.measure,a=e.inactive,c=void 0!==a&&a,l=(0,W.Z)((function(){return(0,H.cn)((function(e){return we(e(r),e(n))}))}),[r,n]),s=(0,W.Z)((function(){return(0,H.cn)((function(e){return be(e(l),e(r),e(n),o)}))}),[l,r,n,o]);return(0,u.BX)(B.G7,{css:B.l0.colWithGap(4),children:[(0,u.tZ)(pe,{title:t,limitStatusAtom:l,limitTextAtom:s,description:i,inactive:c}),(0,u.tZ)(xe,{currentAtom:r,totalAtom:n,inactive:c,limitTextAtom:s})]})}function he(e){var t=e.title,n=e.doWarnAtom,r=e.inactive,i=void 0!==r&&r,o=(0,H.Dv)(n);return(0,u.BX)(B.G7,{css:[B.l0.rowWithGap(4),B.l0.align.center],children:[(0,u.tZ)(B.xv,{variant:"small",css:B.l0.color.foregroundDimmer,children:i?t+" last run":t}),o&&(0,u.tZ)(ee.Z,{color:B.TV.orangeStronger})]})}function ve(e){var t=e.title,n=e.totalAtom,r=e.currentAtom,i=e.measure,o=e.inactive,a=void 0!==o&&o,c=(0,W.Z)((function(){return(0,H.cn)((function(e){return we(e(r),e(n))}))}),[r,n]),l=(0,W.Z)((function(){return(0,H.cn)((function(e){return be(e(c),e(r),e(n),i)}))}),[c,r,n,i]),s=(0,W.Z)((function(){return(0,H.cn)((function(e){var t=e(c);return"At limit"===t||"Close to limit"===t}))}),[c]);return(0,u.BX)(B.G7,{css:[B.l0.colWithGap(4),B.l0.flex.grow(2),{flexBasis:32}],children:[(0,u.tZ)(he,{title:t,doWarnAtom:s,inactive:a}),(0,u.tZ)(xe,{currentAtom:r,totalAtom:n,inactive:a,limitTextAtom:l,mini:!0})]})}function ge(e){var t=e.resources,n=e.onExpand,r=e.inactive,i=void 0!==r&&r,o=t.cpu,a=t.ram,c=t.disk;return(0,u.BX)(B.G7,{css:[B.l0.reset.button,B.l0.rowWithGap(12),B.l0.justify.spaceBetween,B.l0.align.center,B.l0.focusRing,B.l0.cursor.pointer],role:"button",tag:"button","aria-expanded":!1,onClick:n,children:[(0,u.tZ)(ve,{title:"CPU",totalAtom:o.totalAtom,currentAtom:o.currentAtom,inactive:i}),(0,u.tZ)(ve,{title:"RAM",totalAtom:a.totalAtom,currentAtom:a.currentAtom,measure:"MB",inactive:i}),(0,u.tZ)(ve,{title:"Storage",totalAtom:c.totalAtom,currentAtom:c.currentAtom,measure:"MB",inactive:i}),(0,u.tZ)(q.Z,{})]})}function me(e){var t=e.callToAction,n=e.resources,r=e.onClose,i=e.inactive,o=void 0!==i&&i,a=n.cpu,c=n.ram,l=n.disk;return(0,u.BX)(B.G7,{css:B.l0.colWithGap(12),children:[(0,u.BX)(B.G7,{css:[B.l0.flex.row,B.l0.justify.spaceBetween],children:[(0,u.tZ)(B.xv,{variant:"subheadDefault",children:"Repl Resources"}),(0,u.tZ)(B.hU,{alt:"collapse",tooltipHidden:!0,onClick:r,"aria-expanded":!0,children:(0,u.tZ)(Q.Z,{})})]}),(0,u.tZ)(fe,{title:"CPU",description:"How much processing power your Repl is using",totalAtom:a.totalAtom,currentAtom:a.currentAtom,inactive:o}),(0,u.tZ)(fe,{title:"RAM",description:"How much memory your Repl is using",totalAtom:c.totalAtom,currentAtom:c.currentAtom,measure:"MB",inactive:o}),(0,u.tZ)(fe,{title:"Storage",description:"How much room your Repl has to store files",totalAtom:l.totalAtom,currentAtom:l.currentAtom,measure:"MB"}),(0,u.tZ)(ye,{callToAction:t})]})}function ye(e){var t=e.callToAction,n=null;return t===ae.Upgrade?n=(0,u.BX)(u.HY,{children:[(0,u.tZ)(B.xv,{multiline:!0,children:"Low on resources?"}),(0,u.tZ)(Y.Z,{context:"repl_resources"})]}):t===ae.Boost&&(n=(0,u.BX)(u.HY,{children:[(0,u.tZ)(B.xv,{multiline:!0,children:"Low on resources? Try boosting your Repl."}),(0,u.tZ)(B.ZP,{href:"https://blog.replit.com/boosts",text:"Learn about Boosts",iconLeft:(0,u.tZ)($.Z,{})})]})),(0,u.BX)(u.HY,{children:[n,(0,u.BX)(B.xv,{multiline:!0,children:[(0,u.tZ)("a",{href:"https://blog.replit.com/repl-resources",target:"_blank",children:"Learn more"})," ","about resource limits."]})]})}function xe(e){var t=e.currentAtom,n=e.totalAtom,r=e.limitTextAtom,i=e.inactive,o=e.mini,a=(0,H.Dv)(n),c=(0,H.Dv)(t),l=(0,H.Dv)(r),s=function(e){switch(e){case"empty":case"fine":default:return;case"At limit":return B.TV.accentNegativeDefault;case"Close to limit":return B.TV.orangeDefault}}(we(c,a));return(0,u.tZ)(B.JY,{css:o&&B.l0.height(8),total:a,current:c,color:s,disabled:i,tooltip:l})}function we(e,t){if(void 0===e)return"empty";var n=e/t;return n>=1?"At limit":n>=.9?"Close to limit":"fine"}function Ze(e){return Math.round(100*(e+Number.EPSILON))/100}function be(e,t,n,r){if("empty"!==e&&void 0!==t)return void 0===r?Ze(t/n*100)+"%":Ze(t)+"/"+Ze(n)+" "+r}!function(e){e.Upgrade="UPGRADE",e.Boost="BOOST",e.Nothing="NOTHING"}(ae||(ae={}));var ke=n(1879),Ee=n(73842),Ie=n(93058),Te=n(55601),Pe=n(29163),Se=n(86851),Ae=n(9252),Ge=n(40381),Ce=n(81470),Re=n(43804),_e=n(34385),Be=n(48551);var Fe=/\(copy\)( \d+)?$/,De=/\d+$/;function He(e,t){for(var n=(0,Be.r6)(e),r=(0,Be.eb)(e),i=Fe.test(r)?e:"".concat(r," (copy)").concat(n.length>0?".".concat(n):""),o=1;o<=t.size;o++){if(!t.has(i))return i;var a=(0,Be.eb)(i),c=a.split(" ");De.test(a)&&c.pop(),i="".concat(c.join(" ")," ").concat(o),n.length>0&&(i+=".".concat(n))}return i}var Ne=n(25497),Oe=n(6625),Le=n(74591),Ue=n(70917),Me=n(69346),We=n(67629),Xe=n(87653),Ve=n(5257),je=n(42456),Ke=n(91550),ze=n(77365),Qe=n(63736),Ye=n(89075),$e=n(3032),qe=(0,Ue.iv)([B.l0.position.relative,B.l0.flex.row,B.l0.align.center,B.l0.pl(8),B.gU.filled,{":focus-within":{borderColor:B.TV.outlineDefault}}]),Je=(0,Ue.iv)([B.l0.position.absolute,B.l0.top(0),B.l0.left(0),B.l0.height("100%"),B.l0.center,{paddingLeft:6,pointerEvents:"none"}]),et=(0,Ue.iv)([B.l0.flex.growAndShrink(1),B.l0.p(8),B.l0.color.foregroundDefault,{paddingLeft:26,fontSize:B.TV.fontSizeDefault,outline:"0 none",backgroundColor:"transparent",borderColor:"transparent"}]),tt=(0,Ue.iv)([B.l0.reset.button,B.l0.p(4),B.l0.color.foregroundDimmest,B.l0.cursor.pointer,{"&:hover":B.l0.color.foregroundDefault}]),nt=(0,Ue.iv)([B.l0.left(0),B.l0.width("100%"),B.l0.overflowY("auto"),B.l0.position.absolute,{top:44,height:"calc(100% - 44px)",zIndex:1}]),rt=(0,Me.KD)("div"),it=(0,Me.KD)("input");function ot(){var e=(0,p.Z)(),t=e.fs,n=e.session,r=(0,je.A)(),i=(0,$e.C)(),o=(0,Ye.X_)(),a=(0,l.useMemo)((function(){return(0,Ke.i)({openFile:i,fs:t,shouldHideFile:o,getRecentFiles:r,lazyLoad:!0})}),[t,r,o,i]),c=(0,Ve.Z)({insertSectionHeaders:!0,onSelect:function(e){if("openFile"===e.data.type)return n.openFile(e.data.deeplink.path),void c.setInputValue("")},initialCommand:a});return(0,u.BX)(u.HY,{children:[(0,u.BX)(rt,(0,D.Z)((0,F.Z)({},c.combobox.getComboboxProps()),{css:qe,children:[(0,u.tZ)(Me.ZP,{css:Je,children:c.isLoading?(0,u.tZ)(ze.Z,{}):(0,u.tZ)(Xe.Z,{color:B.TV.foregroundDimmest})}),(0,u.tZ)(it,(0,F.Z)({css:[et]},c.combobox.getInputProps({value:c.inputValue,ref:c.inputRef,onChange:function(e){c.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():c.resetToIndex({index:0}):c.handleLeftRightArrow(e.key)},onFocus:function(){c.combobox.isOpen||c.combobox.openMenu()},placeholder:c.placeholder}))),c.inputValue.length>0?(0,u.tZ)(Me.ZP,{css:tt,tag:"button",children:(0,u.tZ)(We.Z,{onClick:function(){return c.setInputValue("")}})}):null]})),(0,u.tZ)(Me.ZP,(0,D.Z)((0,F.Z)({style:{display:c.inputValue?void 0:"none"},css:nt},c.combobox.getMenuProps({refKey:"innerRef"})),{children:c.inputValue?(0,u.tZ)(pt,{items:c.items||[],getItemProps:c.combobox.getItemProps,highlightedIndex:c.combobox.highlightedIndex,isLoading:c.isLoading}):null}))]})}var at=(0,l.memo)(ot),ct=(0,Ue.iv)([B.l0.px(8),B.l0.flex.growAndShrink(1)]),ut=(0,Ue.iv)([B.l0.px(4),B.l0.height(32),B.l0.borderRadius(4),B.l0.rowWithGap(8),B.l0.align.center,B.l0.cursor.pointer]),lt=(0,Ue.iv)([B.l0.width(24),B.l0.height(24),B.l0.center]),st=(0,Ue.iv)(B.l0.flex.growAndShrink(1));function dt(e){var t=(0,l.useRef)(e.items);if(!(e.items!==t.current))return null;var n=e.items.filter((function(e){return"openFile"===e.data.type})).slice(0,100);return(0,u.BX)(B.Tg,{css:ct,children:[n.map((function(t,n){var r=n===e.highlightedIndex;return(0,u.BX)(B.Tg,(0,D.Z)((0,F.Z)({css:ut,elevated:r},e.getItemProps({item:t,index:n,refKey:"innerRef"})),{children:[(0,u.tZ)(Me.ZP,{css:lt,children:(0,u.tZ)(Qe.Z,{path:t.data.label})}),(0,u.tZ)(B.xv,{css:st,color:r?"default":"dimmer",children:t.data.label})]}),(0,Ve.k)(t))})),e.isLoading||0!==n.length?null:(0,u.tZ)(B.xv,{color:"dimmest",css:[B.l0.px(8),B.l0.py(16),{textAlign:"center"}],children:"No results found"})]})}var pt=(0,l.memo)(dt),ft=n(61193),ht=n(65e3),vt=n(45803),gt=n(87588),mt=n(76216),yt=n(83043),xt=function(e){var t=e.filetreeApi;(0,Ye.Su)(t);var n=(0,p.Z)().fs;(0,yt.Yc)({fs:n});var r=(0,Ge.Z)(),i=(0,gt.Hc)();return l.useEffect((function(){i(r)}),[r,i]),null};function wt(e){return(0,u.tZ)(vt.D,{children:(0,u.BX)(u.HY,{children:[(0,u.tZ)(xt,{filetreeApi:e.filetreeApi}),(0,u.tZ)(Zt,{readOnly:e.readOnly,showResources:e.showResources})]})})}var Zt=l.memo((function(e){var t=e.readOnly,n=void 0!==t&&t,a=e.showResources,g=void 0===a||a,m=(0,Ie.Z)().showError,y=(0,P.Z)(),x=(0,ft.c)("flag-filetree-search"),w=x.enabled,b=(x.loading,(0,o.Z)(l.useState(null),2)),k=b[0],I=b[1],T=(0,p.Z)().fs,G=function(){var e=(0,p.Z)().dotReplit,t=(0,Oe.Z)(),n=(0,o.Z)(l.useState(null),2),r=n[0],i=n[1];return l.useEffect((function(){return e.watch((function(e){var n;t.current&&(e.error?e.error===Ne.Yt.NotFound&&i(null):i(null!==(n=e.config.entrypoint)&&void 0!==n?n:null))}))}),[e]),r}(),C=(0,Ge.Z)(),R=function(e){var t=(0,o.Z)(l.useState(null),2),n=t[0],r=t[1],i=(0,o.Z)(l.useState(null),2),a=i[0],c=i[1];return l.useEffect((function(){if(a){var t=!1;return"rename"===a.type?(a.fileType===s.Tv.File?e.moveFile(a.path,a.to):e.moveDir(a.path,a.to)).then((function(e){t||(c(null),e.error&&r(e.error))})):(a.fileType===s.Tv.File?e.deleteFile(a.path):e.deleteDir(a.path)).then((function(e){t||(c(null),e.error&&r(e.error))})),function(){t=!0}}r(null)}),[a,e]),{renameNode:function(e){return c((0,D.Z)((0,F.Z)({},e),{type:"rename"}))},deleteNode:function(e){return c((0,D.Z)((0,F.Z)({},e),{type:"delete"}))},currentOp:a,error:n}}(T),H=R.renameNode,N=R.deleteNode,O=R.currentOp,L=R.error;l.useEffect((function(){L&&m("Something went wrong trying to move or remove a file.")}),[L,m]);var U=(0,Ce.aE)({variables:{replId:y}}).data,M="Repl"===(null===U||void 0===U?void 0:U.repl.__typename)?U.repl:void 0,W=M?M.url:void 0,X=(0,mt.Z)(),V=l.useCallback((function(){var e=(W||window.location.pathname)+".zip";window.open(e,"_blank")}),[W]),j=(0,gt.rM)(),K=(0,gt.Hc)(),z=l.useCallback(function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(t),!t||!j){e.next=6;break}return e.next=4,T.stat(j);case 4:e.sent.exists||K(C||null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C,j,K,T]),Q=(0,o.Z)(l.useState(null),2),Y=Q[0],$=Q[1],q=Z({onDone:function(e){var t=e.parentPath,n=e.errors;if(n.length){var i=n.filter((function(e){return e.error===r.AlreadyExists}));i.length&&$({parentPath:t,errors:i});var o=n.filter((function(e){return e.error!==r.AlreadyExists}));o.length&&m("There was an error uploading: ".concat(o.map((function(e){return e.path})).join(", ")))}},fs:T}),J=q.uploadFiles,ee=q.pendingUploads,te=(0,o.Z)(l.useState(null),2),ne=te[0],re=te[1],ie=(0,o.Z)(l.useState(null),2),oe=ie[0],ae=ie[1],ce=(0,_e.Z)(Re.H.Sidepane),ue=(0,ht.Z)().isTutorial?null:ce;return(0,u.tZ)(S.i.Provider,{value:{fs:T,pendingFileType:k,setPendingFileType:z,pendingUploads:ee,uploadFiles:J,getNodeType:function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.readFile(t);case 2:return n=e.sent,e.abrupt("return",n.error===s.Df.IsDirectory?s.Tv.Directory:s.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),transformChildren:(0,Te.Z)({language:X,entrypointFile:G}),downloadFile:function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.readFile(t);case 2:if(!(r=e.sent).error){e.next=6;break}return m(r.error),e.abrupt("return");case 6:i=(0,Be.yC)(t),(o=document.createElement("a")).setAttribute("href","data:".concat(i,";base64,").concat(r.content.toString("base64"))),o.setAttribute("download",n),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),currentRenamePath:ne,setCurrentRenamePath:re,pendingDelete:oe,setPendingDelete:ae,renameNode:H,deleteNode:N,currentOp:O,nodeOpError:L,overwriteNode:function(){var e=(0,i.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.type===s.Tv.Directory?T.deleteDir:T.deleteFile,e.next=3,r(n.path);case 3:if(!e.sent.error){e.next=7;break}return m("Something went wrong trying to move: ".concat(t)),e.abrupt("return");case 7:H({path:t,fileType:n.type,to:n.path});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),duplicateFile:function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He((0,Be.UO)(t),new Set(n)),i=(0,Be.Il)(t),o=i?"".concat(i,"/").concat(r):r,e.next=5,T.copyFile(t,o);case 5:if(!(a=e.sent).error){e.next=9;break}return m(a.error),e.abrupt("return");case 9:re(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},children:(0,u.tZ)(v.Z,{children:(0,u.BX)(B.G7,{innerRef:ue,css:[B.l0.height("100%"),(0,A.isMobile)()&&B.l0.backgroundColor.backgroundDefault],children:[(0,u.BX)(B.G7,{css:[B.l0.flex.row,B.l0.justify.spaceBetween,B.l0.p(8)],children:[(0,u.tZ)(f.Z,{level:4,css:[{userSelect:"none"}],children:"Files"}),(0,u.BX)(B.G7,{css:[B.l0.flex.row,B.l0.align.center],children:[n?null:(0,u.BX)(u.HY,{children:[(0,u.tZ)(Pe.Z,{css:[B.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){(0,E.Z)({replId:y,action:"added",source:"filetree",fileType:s.Tv.File}),z(s.Tv.File)},"data-cy":"filetree-add-file",alt:"Add file",children:(0,u.tZ)(Se.Z,{})}),(0,u.tZ)(B.G7,{css:{height:6,width:0,marginLeft:4,marginRight:4,borderRight:"1px solid var(--foreground-dimmest)"}}),(0,u.tZ)(Pe.Z,{css:[B.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){(0,E.Z)({replId:y,action:"added",fileType:s.Tv.Directory,source:"filetree"}),z(s.Tv.Directory)},alt:"Add folder",children:(0,u.tZ)(Ae.Z,{})})]}),(0,u.tZ)(_,{readOnly:n,onDownloadZip:V})]})]}),(0,u.BX)(B.G7,{css:[B.l0.flex.growAndShrink(1),B.l0.position.relative],children:[w&&!(0,A.isMobile)()?(0,u.tZ)(B.G7,{css:[B.l0.px(8),B.l0.pb(8)],children:(0,u.tZ)(at,{})}):null,(0,u.tZ)(B.G7,{css:[B.l0.flex.growAndShrink(1),{overflowY:"auto"}],children:(0,u.tZ)(h.Z,{siblings:[],readOnly:n,path:d.Ql})})]}),g?(0,u.tZ)(se,{}):null,(0,u.tZ)(ke.Z,{isOpen:Boolean(Y),onRequestClose:function(){return $(null)},children:Y?(0,u.tZ)(Ee.Z,{paths:Y.errors.map((function(e){return e.path})),onCancel:function(){return $(null)},onConfirm:function(){J({overwrite:!0,parentPath:Y.parentPath,files:Y.errors.map((function(e){return e.file}))}),$(null)}}):null}),(0,u.tZ)(ke.Z,{isOpen:Boolean(oe),onRequestClose:function(){return ae(null)},children:oe?(0,u.tZ)(Le.Z,{name:oe.path,entityType:oe.type===s.Tv.File?"file":"folder",hideModal:function(){return ae(null)},delete:function(){ae(null),N({fileType:oe.type,path:oe.path})}}):null})]})})})}))},92364:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(29815),i=n(35944),o=n(9008),a=n.n(o),c=n(63377),u=n(40381),l=n(26042),s=n(7297),d=n(31230),p=n(46829);function f(){var e=(0,s.Z)(["\n  query WorkspacePageTitle($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return f=function(){return e},e}var h={},v=(0,d.ZP)(f());function g(e){var t,n=e.prefix,o=void 0===n?"":n,s=e.suffix,d=void 0===s?"":s,f=(0,u.Z)(),g=function(e){var t=(0,l.Z)({},h,e);return p.useQuery(v,t)}({variables:{replId:(0,c.Z)()}}),m=g.data||g.previousData,y="Repl"===(null===m||void 0===m||null===(t=m.repl)||void 0===t?void 0:t.__typename)?m.repl:null,x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.Z)(t.filter(Boolean)).concat(["Replit"]).join(" - ")}(o,f,null===y||void 0===y?void 0:y.title,d);return(0,i.tZ)(a(),{children:(0,i.tZ)("title",{children:x},"title")})}},22371:function(e,t,n){n.d(t,{V:function(){return S},Z:function(){return A}});var r=n(47568),i=n(10253),o=n(34051),a=n.n(o),c=n(35944),u=n(67294),l=n(66681),s=n(65975),d=n(77365),p=n(79652),f=n(67629),h=n(48505),v=n(8941),g=n(48551),m=n(99408),y=n(65456),x=n(63377),w=n(35642);var Z,b=n(77352),k=n(15366),E=n(34385),I=n(43804),T=n(92162),P=n(51995),S=".tutorial";function A(){var e,t=(0,m.Z)().fs,n=(0,T.y)(),o=(0,E.Z)(I.H.Sidepane),A=(0,i.Z)(u.useState([]),2),C=A[0],R=A[1],_=(0,i.Z)(u.useState(Z.Loading),2),B=_[0],F=_[1],D=(0,x.Z)(),H=(0,i.Z)(function(e,t){var n,r=(0,u.useState)((function(){return null!==(n=w.Z.get(e))&&void 0!==n?n:t})),i=r[0],o=r[1];return(0,u.useEffect)((function(){w.Z.set(e,i)}),[e,i]),[i,o]}("tutorialProgress--".concat(D),0),2),N=H[0],O=H[1],L=(0,i.Z)(u.useState(!1),2),U=L[0],M=L[1],W=u.useRef(null),X=(0,k.v9)((function(e){return e.user.userInfo})),V=X.isLoggedIn?"".concat(X.id):"",j=(0,b.jJ)(V,D),K=j?(0,c.tZ)(b.gC,{challenge:j}):null,z=u.useCallback((function(){W.current&&(W.current.scrollTop=0)}),[W]);return u.useEffect((function(){var e=!1,n=function(){var n=(0,r.Z)(a().mark((function n(){var r,o,c,u,l,s,d,p,f,h,v,m,x,w,b;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return F(Z.Loading),n.next=3,t.readDir(S);case 3:if(r=n.sent,!e){n.next=6;break}return n.abrupt("return");case 6:if(!r.error){n.next=9;break}return F(Z.Error),n.abrupt("return");case 9:return o=[],n.next=12,Promise.all(r.children.filter((function(e){return e.type===y.Tv.File&&"md"===(0,g.r6)(e.filename)})).map((function(e){var n="".concat(S,"/").concat(e.filename);return Promise.all([n,t.readFile(n)])})));case 12:if(c=n.sent,!e){n.next=15;break}return n.abrupt("return");case 15:for(u=!0,l=!1,s=void 0,n.prev=16,d=c[Symbol.iterator]();!(u=(p=d.next()).done);u=!0)f=(0,i.Z)(p.value,2),h=f[0],(v=f[1]).error?F(Z.Error):(x=v.content.toString(),w=RegExp("^#\\s(?<title>.*)"),b=w.exec(x),o.push({title:null===b||void 0===b||null===(m=b.groups)||void 0===m?void 0:m.title,content:x,path:h}));n.next=24;break;case 20:n.prev=20,n.t0=n.catch(16),l=!0,s=n.t0;case 24:n.prev=24,n.prev=25,u||null==d.return||d.return();case 27:if(n.prev=27,!l){n.next=30;break}throw s;case 30:return n.finish(27);case 31:return n.finish(24);case 32:R(o),F(Z.Ready);case 34:case"end":return n.stop()}}),n,null,[[16,20,24,32],[25,,27,31]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!0}}),[t]),B===Z.Loading?(0,c.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.center],children:(0,c.tZ)(d.Z,{})}):B===Z.Error?(0,c.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.center],children:(0,c.BX)(s.G7,{css:[s.l0.center,s.l0.colWithGap(4)],children:[(0,c.tZ)(f.Z,{color:s.TV.accentNegativeDefault}),(0,c.tZ)(s.xv,{color:"dimmer",children:"Failed to load tutorial"})]})}):0===C.length?(0,c.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.center],children:(0,c.BX)(s.G7,{css:[s.l0.center,s.l0.colWithGap(4)],children:[(0,c.tZ)(f.Z,{color:s.TV.accentNegativeDefault}),(0,c.tZ)(s.xv,{color:"dimmer",children:"No tutorials found!"})]})}):U?(0,c.BX)(s.G7,{css:[s.l0.overflowY("scroll"),s.l0.flex.growAndShrink(1),s.l0.p(8),s.l0.colWithGap(16)],children:[(0,c.tZ)(s.xv,{variant:"headerDefault",children:"Table of Contents"}),(0,c.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.colWithGap(8)],children:C.map((function(e,t){return(0,c.BX)(s.G7,{css:[s.l0.p(8),N===t?s.l0.backgroundColor.backgroundHighest:s.l0.backgroundColor.backgroundHigher,s.l0.borderRadius(4),s.l0.rowWithGap(8),s.l0.align.center,s.l0.cursor.pointer,N===t?{outline:"solid 2px var(--outline-dimmest)"}:{},{":hover":{outline:"solid 2px var(--outline-dimmest)"}}],onClick:function(){O(t),M(!1)},children:[(0,c.tZ)(s.G7,{css:[s.l0.backgroundColor.backgroundHighest,s.l0.width(20),s.l0.height(20),s.l0.borderRadius("full"),s.l0.center,{outline:"solid 1px var(--outline-dimmest)"}],children:(0,c.tZ)(s.xv,{variant:"small",color:"dimmest",children:t+1})}),(0,c.tZ)(s.xv,{css:[s.l0.maxWidth("80%")],children:e.title})]},e.title)}))})]}):(0,c.tZ)(s.G7,{innerRef:o,css:[s.l0.height("100%")],children:(0,c.BX)(s.G7,{dataCy:"tutorial-viewer-content",innerRef:W,css:[s.l0.overflowY("scroll"),s.l0.flex.growAndShrink(1),s.l0.p(16),s.l0.pb(48),s.l0.colWithGap(16)],children:[n?(0,c.tZ)(s.zx,{text:"Show tutorial video",iconLeft:(0,c.tZ)(P.Z,{}),onClick:function(){return n()}}):null,K,C.length>1&&(0,c.tZ)(s.zx,{text:"Table of Contents",iconLeft:(0,c.tZ)(p.Z,{}),onClick:function(){return M(!0)}}),(0,c.tZ)(l.Z,{fs:t,path:C[N].path,source:C[N].content,sourcePos:!1}),C.length>1&&(0,c.BX)(s.G7,{css:[s.l0.position.absolute,s.l0.width("100%"),s.l0.left(0),s.l0.bottom(0),s.l0.overflow("hidden")],children:[(0,c.tZ)(G,{progress:(N+1)/C.length}),(0,c.BX)(s.G7,{css:[s.l0.width("100%"),s.l0.height(40),s.l0.align.center,s.l0.flex.row],children:[(0,c.tZ)(s.G7,{tag:"button",css:[s.l0.justify.center,s.l0.p(8),s.l0.backgroundColor.backgroundHigher,s.l0.cursor.pointer,s.l0.width(40),s.l0.height("100%")],onClick:function(){N>0&&(O((function(e){return e-1})),z())},children:N>0&&(0,c.tZ)(h.Z,{size:24})}),(0,c.tZ)(s.G7,{tag:"button",css:[s.l0.rowWithGap(8),s.l0.flex.growAndShrink(1),s.l0.height("100%"),s.l0.justify.spaceBetween,s.l0.backgroundColor.backgroundHighest,s.l0.align.center,s.l0.p(8),s.l0.cursor.pointer,{userSelect:"none"}],onClick:function(){N<C.length-1&&(O((function(e){return e+1})),z())},children:N<C.length-1&&(0,c.BX)(c.HY,{children:[(0,c.BX)(s.xv,{css:[s.l0.flex.growAndShrink(1),s.l0.textAlign.left,s.l0.fontSize(s.TV.fontSizeSubheadDefault)],children:[(0,c.BX)("span",{css:[s.l0.color.foregroundDimmer],children:["Next",C[N+1].title?": ":" page"]}),(0,c.tZ)("b",{children:null!==(e=C[N+1].title)&&void 0!==e?e:""})]}),(0,c.tZ)(v.Z,{size:24})]})})]})]})]})})}!function(e){e.Ready="READY",e.Loading="LOADING",e.Error="ERROR"}(Z||(Z={}));var G=function(e){var t=e.progress;return(0,c.tZ)(s.u,{tooltip:"Progress: ".concat(t),children:(0,c.tZ)(s.G7,{css:[s.l0.width("100%"),s.l0.height(4),s.l0.backgroundColor.backgroundHigher],children:(0,c.tZ)(s.G7,{css:[s.l0.width("".concat(100*t,"%")),s.l0.height("100%"),s.l0.backgroundColor.purpleDefault]})})})}},67536:function(e,t,n){n.d(t,{F:function(){return s}});var r=n(26042),i=n(63377),o=n(99408),a=n(3032),c=n(69453),u=n(58967),l=n(67294),s=function(){var e=(0,i.Z)(),t=(0,o.Z)().session,n=(0,u.Z)("fileTree").trackTimeToLoadFileStart,s=(0,a.C)();return l.useCallback((function(i,o){var a=o.newTab,u=o.newPane;n(i);var l={action:"select",source:"filetree"};a?l={action:"newTab",source:"filetree"}:u&&(l={action:"newPane",source:"filetree"}),(0,c.Z)((0,r.Z)({replId:e},l)),u?s({path:i,newPane:!0}):t.openFile(i,{newTab:a})}),[s,e,t,n])}},57353:function(e,t,n){n.d(t,{T:function(){return y}});var r=n(67294),i=n(65977),o=n(63377),a=n(26042),c=n(7297),u=n(31230),l=n(46829);function s(){var e=(0,c.Z)(["\n  query ShouldHideFileInWorkspace($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n      }\n    }\n  }\n"]);return s=function(){return e},e}var d={},p=(0,u.ZP)(s());function f(e){var t=(0,a.Z)({},d,e);return l.useQuery(p,t)}var h=n(25741),v=n(69183),g=n(76216),m=n(84810),y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,o.Z)(),n=(0,g.Z)(),a=f({variables:{replId:t}}),c=a.data,u=a.loading,l="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)&&(c.repl.isProjectFork||c.repl.isModelSolution||c.repl.isModelSolutionFork),s=(0,i.O)(),d=(0,h.Z)();return r.useCallback((function(t){return!!((l||u)&&(0,v.oA)(t)||(0,v.MF)(t))||!d&&(e&&(0,v.uC)(t)||(0,m.C)(t)||(0,v.yb)(t,n)||(0,v.lv)(t,s))}),[l,u,n,d,s,e])}},58967:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(48551),i=n(7787),o=n(77402),a=new Map,c=function(e){var t=a.get(e);if(void 0!==t){var n=t.start,r=t.source,c=window.performance.now(),u=(0,o.V)(e);i.kg.time("time to load file",c-n,{from:r,fileViewerType:u}),a.delete(e)}};function u(e){return{trackTimeToLoadFileStart:function(t){return function(e,t){if((0,r.Mb)(e)){var n=window.performance.now();a.set(e,{start:n,source:t})}}(t,e)},trackTimeToLoadFileEnd:c}}},53426:function(e,t,n){n.d(t,{p:function(){return c}});var r=n(67536),i=n(57353),o=n(61193),a=n(21131),c=function(){var e=(0,o.c)("flag-filetree-multiselect"),t=e.enabled,n=(e.loading,(0,r.F)()),c=(0,i.T)(!0);return(0,a.Z)((function(){return{flags:{flagFiletreeMultiselect:t},openFile:n,shouldHideFile:c}}),[t,n,c])}}}]);
//# sourceMappingURL=6602-37b5b86b7d78ad14.js.map